"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[835],{33717:function(e,t,n){n.d(t,{Wi:function(){return a}});var i=n(88239),o=n(22222),r=function(e){return e.video.byId},a=(0,o.P1)([r,function(e,t){var n=e.history.contentIdMap[t]||{},i=n.position,o=n.episodes;return(void 0===o?[]:o)[i]},function(e,t){return e.video.byId[t]||{}},function(e,t){return t}],(function(e,t,n,o){var r=null;if(t){var a=e[t.contentId];a&&(r=(0,i.Z)({},t,{title:a.title,duration:a.duration,type:a.type,id:a.id}))}return!r&&Array.isArray(n.seasons)&&n.seasons[0]&&(r=(0,i.Z)({},e[n.seasons[0].episodeIds[0]])),r&&(r.series_id=o.slice(1)),r})),s=((0,o.P1)([r,a],(function(e,t){return t?e[t.id]:null})),(0,o.P1)((function(e){return e.contentIdMap}),(function(e,t){return t}),(function(e,t){return e[t]})));(0,o.P1)(s,(function(e){var t={};return e&&e.episodes&&e.episodes.forEach((function(e){t[e.contentId]={position:e.position}})),t}))},28189:function(e,t,n){n.d(t,{Z:function(){return xt}});var i,o,r,a,s,l,c,u,d,p,m,h,v,f,y=n(85105),E=n.n(y),g=n(99663),A=n(22600),C=n(49135),b=n(93196),S=n(45697),P=n.n(S),w=n(67294),R=n(54852),T=n(7156),N=n(28323),k=n(77145),M=n(96879),L=n(94184),I=n.n(L),_=n(61409),D=n(88239),V=n(58986),x=function(e){return w.createElement(V.Z,(0,D.Z)({viewBox:"0 0 28 18"},e),w.createElement("g",{fill:"currentColor",fillRule:"evenodd"},w.createElement("path",{fillRule:"nonzero",d:"M2 9c0 3.867 3.13 7 6.994 7h10.012C22.868 16 26 12.866 26 9c0-3.867-3.13-7-6.994-7H8.994C5.132 2 2 5.134 2 9zM0 9c0-4.97 4.027-9 8.994-9h10.012C23.973 0 28 4.028 28 9c0 4.97-4.027 9-8.994 9H8.994C4.027 18 0 13.972 0 9z"}),w.createElement("path",{d:"M11.844 10.195c-.088.836-.517 1.375-1.32 1.375-1.21 0-1.606-1.22-1.606-2.475 0-1.287.374-2.464 1.606-2.464.803 0 1.232.53 1.342 1.354h1.815c-.252-1.716-1.363-2.98-3.156-2.98-2.42 0-3.443 1.858-3.443 4.09 0 2.278 1.057 4.07 3.433 4.07 1.804 0 3.07-1.286 3.212-2.97h-1.88zm7.38 0c-.087.836-.516 1.375-1.32 1.375-1.21 0-1.605-1.22-1.605-2.475 0-1.287.373-2.464 1.605-2.464.803 0 1.232.53 1.342 1.354h1.815c-.253-1.716-1.364-2.98-3.157-2.98-2.42 0-3.443 1.858-3.443 4.09 0 2.278 1.056 4.07 3.432 4.07 1.804 0 3.07-1.286 3.212-2.97h-1.88z"})))},Z=n(3709),O=n(83896),B=n(67337),U="QBlcb",Y="Eg4MX",F="wrvJO",H="aznWG",W="JUijr",q="UBdQP",K="iJ7i2",G="pY4kn",j="Jjv6U",z="K2GbJ",Q="vCgaq",X="z4vrR",J="NaYaK",$="mPE99",ee="fUFKN",te=function(e){var t,n=e.title,i=e.channelLogo,o=e.channelUrl,r=e.duration,a=e.year,s=e.ratings,l=e.genres,c=e.seriesTitle,u=e.className,d=e.titleClassName,p=e.labelRowClassName,m=e.to,h=e.showCC,v=e.lang,f=I()(U,u),y=I()(F,((t={})[H]=!!m,t),d),E=m?w.createElement("div",null,w.createElement(_.rU,{to:m,className:Y},w.createElement("h3",{className:y},c||n))):w.createElement("h3",{className:F},c||n),g=c?w.createElement("div",{className:W},n):null,A=(0,B.YB)(),C=(0,O.M)(A.locale,v),b=[];return[{component:w.createElement(Z.bZ,{key:"year",year:a}),contentField:a},{component:w.createElement(Z.nL,{key:"duration",duration:r}),contentField:r},{component:w.createElement(w.Fragment,null,(0,Z.SQ)({language:C})),contentField:C}].filter((function(e){return e.contentField})).forEach((function(e,t){0!==t&&b.push(w.createElement("span",{key:"dot_"+t,className:G},"·")),b.push(e.component)})),w.createElement("div",{className:f},n?E:null,g,w.createElement("div",{className:q},w.createElement("div",{className:K},b),w.createElement("div",{className:j},h?w.createElement(x,{className:z}):null,w.createElement("div",null,w.createElement(Z.uy,{rating:s,overrideDescriptorClass:ee})))),w.createElement("div",{className:I()(Q,p)},w.createElement(Z.mH,{genres:l,cls:X})),i&&o?w.createElement("div",{className:J},w.createElement(_.rU,{to:o},w.createElement("img",{className:$,src:i}))):null)},ne=n(55107),ie=n(34550),oe=n(25387),re=n(44012),ae=n(37703),se=n(66261),le=n(52579),ce=n(54256),ue=(0,oe.vU)({ymal:{defaultMessage:"You May Also Like",id:"src/web/components/RelatedContentsSlider/RelatedContentsSlider:ymal"}}),de=(o=i=function(e){function t(){var e,n,i,o;(0,g.Z)(this,t);for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=i=(0,C.Z)(this,(e=t.__proto__||E()(t)).call.apply(e,[this].concat(a))),i.trackTileClick=function(e){var t=i.props,n=t.contents,o=t.dispatch,r=t.shouldClearContainerContext,a=n[e];r&&o((0,se.wi)()),le.ZP.createNavigateToPageComponent({startX:e,startY:0,containerSlug:null,contentId:a,componentType:ie.Nc.relatedComponent})},i.trackRelatedCarouselTrigger=function(e){var t=e.startX,n=e.endX,i=e.contentId;i&&le.ZP.trackCarouselTrigger({startX:t,endX:n,contentId:i,slug:"related",componentType:ie.Nc.relatedComponent})},o=n,(0,C.Z)(i,o)}return(0,b.Z)(t,e),(0,A.Z)(t,[{key:"render",value:function(){var e=this.props,t=e.contents,n=e.xs,i=e.sm,o=e.md,r=e.lg,a=e.xl,s=e.xxl;if(0===t.length)return null;var l={xs:n,sm:i,md:o,lg:r,xl:a,xxl:s};return w.createElement("div",null,w.createElement("h2",null,w.createElement(re.Z,ue.ymal)),w.createElement(ce.KM,(0,D.Z)({contents:t,trackTriggerClick:this.trackRelatedCarouselTrigger,trackCb:this.trackTileClick,showTrailerLink:!1,overflowHidden:!0},l)))}}]),t}(w.PureComponent),i.propTypes={contents:P().array,dispatch:P().func.isRequired,xs:P().string,sm:P().string,md:P().string,lg:P().string,xl:P().string,xxl:P().string,shouldClearContainerContext:P().bool},o),pe=(0,ae.$j)()(de),me=n(88106),he=n(12424),ve=n(71538),fe=n(74806),ye=n(64317),Ee=n(86896),ge=n(34494),Ae=n(50794),Ce=n(5503),be=n(83762),Se=n(4680),Pe="kxJum",we="JXaGh",Re="P46ho",Te="t6LaS",Ne=(0,oe.vU)({twitterText:{defaultMessage:"Watch {title} on Tubi: ",id:"src/common/components/ShareMenu/ShareMenu:twitterText"}}),ke=function(e){var t=(0,Ee.Z)(),n=e.className,i=e.contentUrl,o=e.title,r=I()(Pe,n),a=t.formatMessage(Ne.twitterText,{title:o});return w.createElement("div",{className:r},w.createElement(ge.Z,{to:"https://www.facebook.com/sharer/sharer.php?u="+(0,Se.h1)(i,"facebook"),targetBlank:!0,text:"Facebook",className:Te,onClick:function(){var t=e.trackSocialClick;t&&t(be.$R)}},w.createElement(Ae.Z,{className:we})),w.createElement(ge.Z,{to:"https://twitter.com/intent/tweet?text="+a+(0,Se.h1)(i,"twitter"),targetBlank:!0,text:"Twitter",className:Te,onClick:function(){var t=e.trackSocialClick;t&&t(be.D9)}},w.createElement(Ce.Z,{className:Re})))},Me=n(33717),Le=n(4442),Ie=n(56192),_e=n(36476),De=n(41306),Ve=n(1794),xe=n(47938),Ze=n(59275),Oe="wjIUi",Be="PdN6m",Ue=(0,oe.vU)({reportAProblem:{defaultMessage:"Report a problem",id:"src/web/components/VideoDetailButtonGroup/ExtrasMenu/ExtrasMenu:reportAProblem"}}),Ye=(a=r=function(e){function t(){return(0,g.Z)(this,t),(0,C.Z)(this,(t.__proto__||E()(t)).apply(this,arguments))}return(0,b.Z)(t,e),(0,A.Z)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.contentId,i=e.className,o={pathname:Ze.Z6.support,query:{title:t,contentId:n}},r=I()(Oe,i);return w.createElement("div",{className:r},w.createElement(M.Z,{cls:Be,to:o,rel:"nofollow"},w.createElement(re.Z,Ue.reportAProblem)))}}]),t}(w.PureComponent),r.propTypes={contentId:P().string.isRequired,title:P().string.isRequired,className:P().string},a),Fe="v8bih",He="tWaM5",We="Q0eLR",qe="Y43t1",Ke="m_Yza",Ge="W8Agk",je="j2wWZ",ze="MZsJo",Qe="fnf7j",Xe="YcK38",Je="UsSgs",$e="hxS_F",et="nY1kF",tt="d2Uun",nt="q9zS7",it="EOGbc",ot="dj370",rt=(0,oe.vU)({share:{defaultMessage:"Share",id:"src/web/components/VideoDetailButtonGroup/VideoDetailButtonGroup:share"},watchNowFree:{defaultMessage:"Watch Now <custom>FREE</custom>",id:"src/web/components/VideoDetailButtonGroup/VideoDetailButtonGroup:watchNowFree"},resume:{defaultMessage:"Resume",id:"src/web/components/VideoDetailButtonGroup/VideoDetailButtonGroup:resume"},watch:{defaultMessage:"Watch",id:"src/web/components/VideoDetailButtonGroup/VideoDetailButtonGroup:watch"},watchLastEpisode:{defaultMessage:"Watch Latest Episode",id:"src/web/components/VideoDetailButtonGroup/VideoDetailButtonGroup:watchLastEpisode"}}),at={enter:tt,enterActive:nt,exit:it,exitActive:ot},st=(l=s=function(e){function t(e){(0,g.Z)(this,t);var n=(0,C.Z)(this,(t.__proto__||E()(t)).call(this,e));return n.closeMenus=function(){n.state.activeMenu&&n.setState({activeMenu:""})},n.toggleShareMenu=function(e){e.stopPropagation();var t="share"===n.state.activeMenu;t||n.trackSocialClick(be.Aj),n.setState({activeMenu:t?"":"share"})},n.toggleExtrasMenu=function(e){e.stopPropagation(),n.setState({activeMenu:"extras"===n.state.activeMenu?"":"extras"})},n.trackSocialClick=function(e){var t=n.props.id,i=e===be.Aj?ve.$W.UNKNOWN_CHANNEL:e,o=(0,Le.vD)(t,i,ve.aU.CLICK);(0,Se.L9)(be.ue,o)},n.state={activeMenu:""},n}return(0,b.Z)(t,e),(0,A.Z)(t,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.closeMenus)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.closeMenus)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.type,i=e.title,o=e.seriesId,r=e.onClickWatch,a=e.className,s=e.isInHistory,l=e.episodeTitle,c=e.isRecurring,u=e.belongSeries,d=e.intl,p=e.shouldShowRemindButton,m=this.state.activeMenu,h="share"===m,v="extras"===m,f=I()(Fe,a),y=(0,ne.Gr)({type:n,id:t,title:i,absolute:!0}),E=o?"0"+o:t,g=w.createElement("div",null,w.createElement(re.Z,(0,D.Z)({},rt.watchNowFree,{values:{custom:function(e){var t=(0,he.Z)(e,1)[0];return w.createElement("span",{className:We},t)}}})));c?g=s?w.createElement("div",{className:qe},d.formatMessage(rt.resume)):w.createElement("div",null,d.formatMessage(rt.watchLastEpisode)):l&&(g=w.createElement("div",{className:qe},d.formatMessage(s?rt.resume:rt.watch)," ",(0,_e.HL)(l)));var A=I()(ze,(0,me.Z)({},Xe,h)),C=I()(Qe,(0,me.Z)({},Xe,v));return w.createElement("div",{className:f,"data-nosnippet":!0},r?w.createElement(Ve.Z,{size:"large",className:He,block:!0,onClick:r},g):null,w.createElement("div",{className:Ke},p?w.createElement(xe.Z,{contentId:E,contentType:"s"===n?"series":"movie",title:i}):w.createElement(w.Fragment,null,w.createElement(De.Z,{belongSeries:u,className:Ge,id:E,mode:"button"}),w.createElement("div",{className:je},w.createElement(Ve.Z,{color:"transparent",className:A,onClick:this.toggleShareMenu},w.createElement("span",null,d.formatMessage(rt.share))),w.createElement(Ve.Z,{color:"transparent",className:C,onClick:this.toggleExtrasMenu},w.createElement("div",{className:Je})),w.createElement(ye.TransitionGroup,{component:"div"},h?w.createElement(ye.CSSTransition,{key:"share",classNames:at,timeout:200},w.createElement(ke,{key:"share",title:i,contentUrl:y,trackSocialClick:this.trackSocialClick,className:$e})):null,v?w.createElement(ye.CSSTransition,{key:"extras",classNames:at,timeout:200},w.createElement(Ye,{key:"extras",contentId:E,title:i,className:et})):null)))))}}]),t}(w.PureComponent),s.propTypes={id:P().string.isRequired,type:P().string.isRequired,title:P().string.isRequired,seriesId:P().string,onClickWatch:P().func,className:P().string,isInHistory:P().bool,episodeTitle:P().string,isRecurring:P().bool,belongSeries:P().oneOfType([P().string,P().number]),shouldShowRemindButton:P().bool},l),lt=(0,ae.$j)((function(e,t){var n=t.id,i=t.type,o=e.history,r=void 0,a=void 0,s=n;return i===R._Bh&&(s=(0,Ie.kJ)(n),a=(0,Me.Wi)(e,s),r=!!o.contentIdMap[s]),{isInHistory:r,episodeTitle:a?a.title:""}}))((0,fe.ZP)(st)),ct=n(42723),ut=n(99798),dt=n(20669),pt={seasonTitle:"BuAlx",select:"DxsKj",carousel:"s4jV4"},mt=[],ht=(u=c=function(e){function t(e){(0,g.Z)(this,t);var n=(0,C.Z)(this,(t.__proto__||E()(t)).call(this,e));return n.onChange=function(e){var t=e.target,i=void 0===t?{}:t,o=(0,dt.cx)(n.props.seasons,(function(e){return e.title===i.value}));n.setState({selectedSeasonIndex:o,selectedEpisodeIndex:0})},n.trackClick=function(e){var t=e.startX,n=e.endX,i=e.contentId;le.ZP.sendNavigateWithinPage({startX:t,startY:0,endX:n,endY:0,contentId:i,componentType:ie.Nc.episodeVideoListComponent})},n.trackContentClick=function(e,t){le.ZP.createNavigateToPageComponent({startX:e,startY:0,containerSlug:null,contentId:t,componentType:ie.Nc.episodeVideoListComponent})},n.state={selectedSeasonIndex:e.episodeSeasonIndex,selectedEpisodeIndex:e.episodeIndex},n}return(0,b.Z)(t,e),(0,A.Z)(t,[{key:"render",value:function(){var e=this.props,t=e.isMobile,n=e.seasons,i=e.seriesHistory,o=(e.isKidsModeEnabled,(0,ct.Z)(e,["isMobile","seasons","seriesHistory","isKidsModeEnabled"])),r=this.state,a=r.selectedEpisodeIndex,s=r.selectedSeasonIndex;if(0===n.length)return null;var l=I()(pt.carousel),c=n[s]||{},u=c.episodeIds,d=c.title,p=i?i.episodes:mt,m=w.createElement("h3",{className:pt.seasonTitle},d);if(n.length>1){var h=n.map((function(e){return{value:e.title,label:e.title}})),v=I()(pt.select);m=w.createElement(ut.Z,{fixedLabel:!0,name:"parental",value:d,native:t,options:h,onChange:this.onChange,className:v})}return w.createElement("div",{className:pt.seriesSelectCol},m,u.length?w.createElement(ce.vr,(0,D.Z)({key:s,carouselClassName:l,contents:u,historyEpisodes:p,initialIndex:a,trackTriggerClick:this.trackClick,trackCb:this.trackContentClick,overflowHidden:!0,xs:"6",lg:"4"},o)):null)}}]),t}(w.PureComponent),c.propTypes={seasons:P().array,seriesHistory:P().object,episodeSeasonIndex:P().number,episodeIndex:P().number,isMobile:P().bool,isKidsModeEnabled:P().bool},c.defaultProps={episodeIndex:0,episodeSeasonIndex:0,isMobile:!1,seasons:[],seriesHistory:{episodes:[]}},u),vt=(0,ae.$j)((function(e){var t=e.ui;return{isMobile:t.isMobile,isKidsModeEnabled:t.isKidsModeEnabled}}))(ht),ft=n(28428),yt=n(39081),Et=n(61788),gt="lZJWr",At="tZ5p7",Ct="w42zC",bt="odsSU",St="LOoUq",Pt="I96Qz",wt="fNQHC",Rt="Yz6Th",Tt="bqYKS",Nt="VRfHD",kt="cJBKK",Mt="AbRBx",Lt="BfWGt",It="TpJa8",_t=n(39772),Dt=(p=d=function(e){function t(){return(0,g.Z)(this,t),(0,C.Z)(this,(t.__proto__||E()(t)).apply(this,arguments))}return(0,b.Z)(t,e),(0,A.Z)(t,[{key:"render",value:function(){var e=this.props,t=e.belongSeries,n=e.content,i=e.position,o=e.onClickWatch,r=e.onCastClick,a=e.contentHistory,s=e.seasons,l=e.related,c=e.vw,u=e.to,d=e.seriesTitle,p=e.posterUrl,m=e.episodeSeasonIndex,h=e.episodeIndex,v=e.shouldShowContentUnavailable,f=e.shouldShowComingSoon,y=n.id,E=n.type,g=n.title,A=n.description,C=n.ratings,b=n.year,S=n.tags,P=void 0===S?[]:S,L=n.directors,I=void 0===L?[]:L,_=n.actors,D=void 0===_?[]:_,V=n.duration,x=n.has_subtitle,O=n.series_id,B=n.channel_logo,U=n.channel_id,Y=n.is_recurring,F=n.lang,H=n.availability_starts,W=!!O,q=c<R.j$L.xl?4:5,K=null;v&&(K=f?w.createElement(Et.Z,{date:H}):w.createElement(_t.Z,null));var G=W?w.createElement("div",null,w.createElement("div",{className:Tt},w.createElement(M.Z,{to:u},w.createElement("h1",{className:Nt},d))),w.createElement("div",{className:kt},g)):w.createElement("div",{className:Tt},w.createElement("h1",{className:Nt},g)),j=4===q?"3":"1-5",z=4===q?"9":"4-5";return w.createElement("div",{className:gt},w.createElement(T.Z,{className:At},w.createElement(N.default,{className:Ct},w.createElement(k.Z,{xs:j},w.createElement("div",{className:bt},w.createElement(yt.Z,{url:p,className:St},"number"==typeof i?w.createElement(ft.Z,{className:Pt,percentComplete:i/V}):null),w.createElement(lt,{className:wt,id:y,type:E,title:g,seriesId:O,onClickWatch:o,isRecurring:Y,belongSeries:t,shouldShowRemindButton:v}))),w.createElement(k.Z,{xs:z},K,G,w.createElement(te,{className:Mt,duration:V,year:b,lang:F,ratings:C,genres:P,showCC:x,channelLogo:B,channelUrl:U?(0,ne.Nk)(U,{type:R.eY1.CHANNEL}):""}),w.createElement("div",{className:Lt},A),w.createElement(Z.tw,{cls:It,handleCastClick:r,directors:I,actors:D}),s&&s.length?w.createElement(vt,{seasons:s,seriesHistory:a,episodeSeasonIndex:m,episodeIndex:h}):null,l&&l.length?w.createElement(pe,{contents:l,xs:4===q?"4":"3",shouldClearContainerContext:!0}):null))))}}]),t}(w.Component),d.propTypes={content:P().object.isRequired,position:P().number,onClickWatch:P().func,posterUrl:P().string,seriesTitle:P().string,onCastClick:P().func,seasons:P().array,related:P().array,contentHistory:P().object,to:P().string,vw:P().number,episodeSeasonIndex:P().number,episodeIndex:P().number,belongSeries:P().oneOfType([P().string,P().number]),shouldShowContentUnavailable:P().bool,shouldShowComingSoon:P().bool},p),Vt=(h=m=function(e){function t(){return(0,g.Z)(this,t),(0,C.Z)(this,(t.__proto__||E()(t)).apply(this,arguments))}return(0,b.Z)(t,e),(0,A.Z)(t,[{key:"render",value:function(){var e=this.props,t=e.belongSeries,n=e.content,i=e.position,o=e.onClickWatch,r=e.onCastClick,a=e.contentHistory,s=e.seasons,l=e.related,c=e.to,u=e.seriesTitle,d=e.posterUrl,p=e.episodeSeasonIndex,m=e.episodeIndex,h=e.shouldShowContentUnavailable,v=e.shouldShowComingSoon,f=n.id,y=n.type,E=n.title,g=n.description,A=n.ratings,C=n.year,b=n.tags,S=void 0===b?[]:b,P=n.directors,L=void 0===P?[]:P,I=n.actors,_=void 0===I?[]:I,D=n.duration,V=n.has_subtitle,x=n.series_id,O=n.channel_logo,B=n.channel_id,U=n.is_recurring,Y=n.availability_starts,F=!!x,H=null;h&&(H=v?w.createElement(Et.Z,{date:Y}):w.createElement(_t.Z,null));var W=F?w.createElement("div",null,w.createElement(M.Z,{to:c},w.createElement("h1",{className:Nt},u)),w.createElement("div",{className:kt},E)):w.createElement("h1",{className:Nt},E);return w.createElement("div",{className:gt},w.createElement(T.Z,{className:At},w.createElement(N.default,{className:Ct},w.createElement(k.Z,{xs:"4"},w.createElement("div",{className:bt},w.createElement(yt.Z,{url:d,className:St},"number"==typeof i?w.createElement(ft.Z,{className:Pt,percentComplete:i/D}):null))),w.createElement(k.Z,{className:Rt,xs:"8"},H,W,w.createElement(te,{className:Mt,duration:D,year:C,ratings:A,genres:S,showCC:V,channelLogo:O,channelUrl:B?(0,ne.Nk)(B,{type:R.eY1.CHANNEL}):""}))),w.createElement(N.default,{className:Ct},w.createElement(k.Z,{xs:"12"},w.createElement(lt,{id:f,type:y,title:E,seriesId:x,onClickWatch:o,isRecurring:U,belongSeries:t,shouldShowRemindButton:h}))),w.createElement(N.default,{className:Ct},w.createElement(k.Z,{xs:"12"},w.createElement("div",{className:Lt},g))),w.createElement(N.default,{className:Ct},w.createElement(k.Z,{xs:"12"},w.createElement(Z.tw,{cls:It,handleCastClick:r,directors:L,actors:_}))),s&&s.length?w.createElement(N.default,{className:Ct},w.createElement(k.Z,{xs:"12"},w.createElement(vt,{seasons:s,seriesHistory:a,episodeSeasonIndex:p,episodeIndex:m}))):null,l&&l.length?w.createElement(N.default,{className:Ct},w.createElement(k.Z,{xs:"12"},w.createElement(pe,{contents:l,xs:"4",shouldClearContainerContext:!0}))):null))}}]),t}(w.Component),m.propTypes={content:P().object.isRequired,position:P().number,onClickWatch:P().func,posterUrl:P().string,seriesTitle:P().string,vw:P().number,onCastClick:P().func,seasons:P().array,related:P().array,contentHistory:P().object,to:P().string,episodeSeasonIndex:P().number,episodeIndex:P().number,belongSeries:P().oneOfType([P().string,P().number]),shouldShowContentUnavailable:P().bool,shouldShowComingSoon:P().bool},h),xt=(f=v=function(e){function t(){return(0,g.Z)(this,t),(0,C.Z)(this,(t.__proto__||E()(t)).apply(this,arguments))}return(0,b.Z)(t,e),(0,A.Z)(t,[{key:"render",value:function(){return this.props.vw<R.j$L.lg?w.createElement(Vt,this.props):w.createElement(Dt,this.props)}}]),t}(w.PureComponent),v.propTypes={content:P().object.isRequired,position:P().number,onClickWatch:P().func,posterUrl:P().string,seriesTitle:P().string,onCastClick:P().func,seasons:P().array,related:P().array,contentHistory:P().object,to:P().string,episodeSeasonIndex:P().number,episodeIndex:P().number,vw:P().number.isRequired,dispatch:P().func.isRequired,belongSeries:P().oneOfType([P().string,P().number]),shouldShowContentUnavailable:P().bool},f)},71131:function(e,t,n){n.d(t,{IH:function(){return m},Od:function(){return h},cw:function(){return v}});var i=n(46593),o=n.n(i),r=n(91323),a=n(31660),s=n(33271),l=n(83762),c=n(23443),u=n(4442),d=n(4680);function p(e,t){var n=(0,u._o)({pathname:(0,a.IO)(),userInteraction:t?r.Dj.TOGGLE_ON:r.Dj.TOGGLE_OFF,component:"REMINDER",section:+e});(0,d.L9)(l.Pz,n)}function m(e,t){return function(n,i,o){p(e,!0);var r=e.startsWith("0")?e.substr(1):e;return n({type:s.o2C,contentId:r,payload:function(){return o.post("/oz/reminder",{data:{contentId:r,contentType:t}}).catch((function(t){c.ZP.error({error:t,contentId:e},"add to reminder action fail")}))}})}}function h(e,t){return function(n,i,o){return p(t,!1),n({type:s.zQC,contentId:t,payload:function(){return o.del("/oz/reminder/"+e).catch((function(n){c.ZP.error({error:n,contentId:t,itemId:e},"remove from reminder action fail")}))}})}}function v(){return function(e,t,n){var i=t().reminder;return i.loading||i.loaded?o().resolve():e({type:s.GYM,payload:function(){return n.get("/oz/reminder").catch((function(e){return c.ZP.error({error:e},"fail to load reminder"),o().reject(e)}))}})}}},34315:function(e,t,n){var i=n(67294);t.Z=function(e){var t=e.className;return i.createElement("div",{className:t,dangerouslySetInnerHTML:{__html:'<button is="google-cast-button"/>'}})}},10926:function(e,t,n){n.d(t,{dz:function(){return s},sh:function(){return l},CC:function(){return c}});var i=n(88239),o=n(70655),r=n(67294),a=n(58986),s=function(e){e.active;var t=(0,o._T)(e,["active"]),n=(0,r.useMemo)((function(){return r.createElement("path",{d:"M30,2A28,28,0,1,0,58,30,28,28,0,0,0,30,2Zm0,52A24,24,0,1,1,54,30,24,24,0,0,1,30,54ZM24.5,17A2.49,2.49,0,0,0,22,19.49v22a2.5,2.5,0,0,0,5,0v-22A2.5,2.5,0,0,0,24.5,17Zm11,0A2.49,2.49,0,0,0,33,19.49v22a2.5,2.5,0,0,0,5,0v-22A2.5,2.5,0,0,0,35.5,17Z"})}),[]);return r.createElement(a.Z,(0,i.Z)({viewBox:"0 0 60 60"},t),n)},l=function(e){e.active;var t=(0,o._T)(e,["active"]),n=(0,r.useMemo)((function(){return r.createElement("path",{d:"M43.62,28.26l-.26-.13-19.08-9.7-.22-.12A2.86,2.86,0,0,0,22.74,18,2.66,2.66,0,0,0,20,20.58V40.42A2.66,2.66,0,0,0,22.74,43a2.86,2.86,0,0,0,1.32-.32l.22-.11,19.09-9.7.25-.13a2.51,2.51,0,0,0,0-4.49ZM30,2A28,28,0,1,0,58,30,28,28,0,0,0,30,2Zm0,52A24,24,0,1,1,54,30,24,24,0,0,1,30,54Z"})}),[]);return r.createElement(a.Z,(0,i.Z)({viewBox:"0 0 60 60"},t),n)},c=function(e){e.active;var t=(0,o._T)(e,["active"]),n=(0,r.useMemo)((function(){return r.createElement("path",{d:"M41,1H21C10,1,1,10,1,21c0,11,9,20,20,20h20c11,0,20-9,20-20C61,10,52,1,41,1z M41,37H21c-8.8,0-16-7.2-16-16 S12.2,5,21,5h20c8.8,0,16,7.2,16,16S49.8,37,41,37z M24.5,26.7c-2.8,0-3.7-2.6-3.7-5.5c0-2.9,0.9-5.5,3.7-5.5c1.9,0,2.9,1.1,3.1,2.8 h3.1c-0.4-3.2-2.6-5.5-6.2-5.5c-4.8,0-6.8,3.7-6.8,8.2c0,4.6,2,8.1,6.8,8.1c3.6,0,6-2.3,6.3-5.5h-3.2C27.5,25.6,26.4,26.7,24.5,26.7 z M39.3,26.7c-2.8,0-3.7-2.6-3.7-5.5c0-2.9,0.9-5.5,3.7-5.5c1.9,0,2.9,1.1,3.1,2.8h3.1c-0.4-3.2-2.6-5.5-6.2-5.5 c-4.8,0-6.8,3.7-6.8,8.2c0,4.6,2,8.1,6.8,8.1c3.6,0,6-2.3,6.3-5.5h-3.2C42.2,25.6,41.2,26.7,39.3,26.7z"})}),[]);return r.createElement(a.Z,(0,i.Z)({viewBox:"0 0 62 42"},t),n)}},76219:function(e,t,n){n.d(t,{i:function(){return o}});var i=n(34859),o=function(e){var t;return null===(t=cast.framework.CastContext.getInstance().getCurrentSession())||void 0===t?void 0:t.sendMessage(i.$,e)}},34848:function(e,t,n){n.d(t,{P:function(){return i},E:function(){return o}});var i=function(e,t){var n=e.getTime()-t.getTime();if("number"==typeof n&&!isNaN(n)){var i=n/1e3/60/60/24;return i>0?Math.ceil(i):Math.floor(i)}return 0},o=function(e){return e%400==0||e%100!=0&&e%4==0}},83896:function(e,t,n){n.d(t,{f:function(){return o},M:function(){return r}});var i=n(55859),o=function(e){try{var t=new Date(2020,11,30);return new Intl.DateTimeFormat(e).formatToParts(t).map((function(e){var t=e.type;return["month","day","year","relatedYear"].includes(t)?t:null})).filter(Boolean)}catch(e){return["month","day","year"]}},r=function(e,t){return void 0===t&&(t=""),e===i.Sd.EN_US?"English"===t?"":t:e===i.Sd.ES_MX&&"Spanish"===t?"":t}},39081:function(e,t,n){var i=n(47842),o=n(67294),r=n(55107);t.Z=function(e){var t=e.children,n=e.className,a=e.gradient,s=e.url,l=[a,(0,i.eZ)((0,r.qr)(s))].filter(Boolean).join(", ");return o.createElement("div",{className:n,style:{backgroundImage:l}},t)}},39772:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(67294),o=n(25387),r=n(86896),a="u5T0l",s="h32aa",l=(0,o.vU)({contentUnavailable:{defaultMessage:"content unavailable",id:"src/web/components/ContentDetail/ContentUnavailable:contentUnavailable"}}),c=function(){var e=(0,r.Z)();return i.createElement("div",{className:a},i.createElement("div",{className:s},e.formatMessage(l.contentUnavailable)))}},87579:function(e,t,n){n.r(t),n.d(t,{component:function(){return ue},default:function(){return de},mapStateToProps:function(){return ce}});var i,o,r=n(46593),a=n.n(r),s=n(70655),l=n(34550),c=n(67294),u=n(64593),d=n(37703),p=n(35683),m=n(8735),h=n(95274),v=n(42165),f=n(23443),y=n(79918),E=n(33717),g=n(52579),A=n(3839),C=n(56192),b=n(89703),S=n(55107),P=n(84611),w=n(17259),R=n(45515),T=n(74550),N=n(88106),k=n(85105),M=n.n(k),L=n(99663),I=n(22600),_=n(49135),D=n(93196),V=n(11382),x=n(94184),Z=n.n(x),O=n(23493),B=n.n(O),U=n(45697),Y=n.n(U),F=n(33311),H=n(54852),W=n(48446),q=n(76986),K=n(28189),G=n(39081),j=n(1875),z=n(65191),Q=n(6862),X="zBQ0e",J="u65r2",$="FGoe8",ee="DYw_D",te=(o=i=function(e){function t(e){(0,L.Z)(this,t);var n=(0,_.Z)(this,(t.__proto__||M()(t)).call(this,e));return n.handleResize=function(){n.setState({vw:window.innerWidth})},n.handleWatch=function(){var e=n.context.deviceId,t=n.props,i=t.dispatch,o=t.latestEpisodeInfo,r=t.isMobile,a=t.mobilePlaybackEnabled;if(!r||a){var s=(0,S.Pl)({video:o});s=(0,V.addQueryStringToUrl)(s,(0,N.Z)({},H.hwD,!0)),i((0,F.VF)(s))}else window.location.href=(0,S.Tv)(o,e)},n.state={vw:H.j$L.xl},n.handleResize=B()(n.handleResize,250),n}return(0,D.Z)(t,e),(0,I.Z)(t,[{key:"componentDidMount",value:function(){(0,W.Oo)(window,"resize",this.handleResize),this.handleResize()}},{key:"componentWillUnmount",value:function(){(0,W.xg)(window,"resize",this.handleResize)}},{key:"render",value:function(){var e=this.props,t=e.series,n=e.handleCastClick,i=e.latestEpisodeInfo,o=e.dispatch,r=e.isKidsModeEnabled,a=this.state.vw,s=t.backgrounds,l=void 0===s?[]:s,u=t.hero_images,d=void 0===u?[]:u,p=t.posterarts,m=void 0===p?[]:p,h=l[0]||d[0]||m[0],v=m[0],f="linear-gradient(to top, "+q.ZP.getAppThemeColor(r)+", rgba(38, 38, 45, 0.4) 83%, rgba(38, 38, 45, 0.2))",y={belongSeries:t.id,content:t,dispatch:o,onCastClick:n,onClickWatch:i?this.handleWatch:null,posterUrl:v,seasons:t.seasons,vw:a,isSeriesDetail:!0};return c.createElement(j.Ho,null,(function(e){return c.createElement("div",{className:Z()(X,(0,N.Z)({},J,e.enabledDetails))},e.enabledDetails?c.createElement(z.Z,{src:h}):c.createElement(G.Z,{className:$,gradient:f,url:h}),c.createElement("div",{className:ee},e.enabledDetails?c.createElement(Q.Z,y):c.createElement(K.Z,y)))}))}}]),t}(c.Component),i.propTypes={dispatch:Y().func,handleCastClick:Y().func,history:Y().object,isMobile:Y().bool,latestEpisodeInfo:Y().object,mobilePlaybackEnabled:Y().bool.isRequired,series:Y().object.isRequired,isKidsModeEnabled:Y().bool},i.contextTypes={deviceId:Y().string.isRequired,router:Y().object.isRequired},o),ne=n(63239),ie=n.n(ne);var oe=function(e){return e.map((function(e){return{"@type":"Person",name:e}}))},re=function(e){var t,n=e.actors,i=void 0===n?[]:n,o=e.description,r=e.directors,a=void 0===r?[]:r,l=e.posterarts,c=void 0===l?[]:l,u=e.ratings,d=e.seasons,p=void 0===d?[]:d,m=e.thumbnails,h=e.tags,v=void 0===h?[]:h,f=e.title,y=e.year,E=(0,S.Pl)({video:e,absolute:!0}),g=(0,P.q1)(c[0]||m[0]),A=null===(t=null==u?void 0:u[0])||void 0===t?void 0:t.value,C=oe(i),b=oe(a),w=function(e){if(e)return new Date(e.toString()).toISOString().split("T")[0]}(y);return(0,s.pi)((0,s.pi)((0,s.pi)((0,s.pi)((0,s.pi)((0,s.pi)({"@context":"https://schema.org","@type":"TVSeries",url:E,name:f,description:o,image:g},A&&{contentRating:A}),w&&{dateCreated:w,startDate:w}),C.length&&{actor:C}),b.length&&{director:b}),p.length&&{numberOfSeasons:p.length}),v.length&&{genre:v})},ae=function(e){var t=e.series,n=c.useMemo((function(){return[{type:"application/ld+json",innerHTML:ie()(re(t))}]}),[t]);return c.createElement(u.Z,{script:n})},se=function(e){function t(t){var n=e.call(this,t)||this;return n.handleCastClick=function(e){var t=n.props,i=t.dispatch,o=t.location.pathname;g.ZP.createNavigateToPageComponent({actorName:e,componentType:l.Nc.castListComponent}),i((0,p.ZU)(o))},n.getMeta=n.getMeta.bind(n),n.meta=n.getMeta(),n}return(0,s.ZT)(t,e),t.prototype.componentDidMount=function(){this.props.webRefresh.logExposure()},t.prototype.getMeta=function(){var e=this.props.series,t=e.posterarts,n=void 0===t?[]:t,i=e.thumbnails,o=e.title,r=e.description,a=e.id,s=(0,S.Pl)({video:e,absolute:!0}),l=(0,S.Tv)(e),c=(0,P.q1)(n[0]||i[0]),u="utm_campaign=applink&utm_medium=mobile_web&utm_source=fbapplink&utm_content="+a,d="contentType=series&contentId="+a;return{title:(0,w.ur)(o,"- Free TV Series | Tubi"),link:[{rel:"canonical",href:s}],meta:[{name:"keywords",content:o+", Free, Movies, TV shows, legal, streaming, HD, full length"},{name:"description",content:"Watch "+o+" Free Online. "+r+" | Full season and episodes - free online streaming fast high quality legal movies and TV television shows"},{property:"og:title",content:o},{property:"og:image",content:c},{property:"og:url",content:s},{property:"og:type",content:"tv_show"},{property:"og:description",content:r},{property:"twitter:title",content:o},{property:"twitter:description",content:r},{property:"twitter:image",content:c},{property:"al:android:url",content:"tubitv://media-details?"+d+"&"+u},{property:"al:web:url",content:s},{property:"al:ios:url",content:l}]}},t.prototype.render=function(){var e=this.props,t=e.series,n=e.isMobile,i=e.isKidsModeEnabled,o=e.latestEpisodeInfo,r=e.history,a=e.isInMobileWhitelist,s=e.dispatch,l=e.isLoggedIn,d=t.id;return c.createElement("div",{key:d},c.createElement(u.Z,this.meta),c.createElement(te,{series:t,dispatch:s,latestEpisodeInfo:o,history:r,isMobile:n,handleCastClick:this.handleCastClick,mobilePlaybackEnabled:a,isKidsModeEnabled:i}),!l&&c.createElement(ae,{series:t}),c.createElement(R.Z,null),c.createElement(j.Ho,null,(function(e){var t=e.enabledDetails;return c.createElement(T.Z,{contentId:(0,C.kJ)(d),useRefreshStyle:t})})))},t.fetchData=le,t.reserveContainerContext=!0,t.hasDynamicMeta=!0,t}(c.Component);function le(e){var t=e.dispatch,n=e.params.id;return t((0,m.s$)(n,!0)).catch((function(e){var t=(0,b.k)(e.errType);return f.ZP[t]({error:e,contentId:n},"error when loading data for Series container"),a().reject(e)}))}var ce=function(e,t){var n=e.video,i=e.history,o=e.ui,r=n.byId,a="0"+t.params.id,s=r[a]||{},l=o.isMobile,c=o.userAgent,u=o.isKidsModeEnabled,d=l&&(0,A.yf)(c),p=i.contentIdMap[a]||{};return{isInMobileWhitelist:d,series:s,latestEpisodeInfo:(0,E.Wi)(e,a),history:p,isMobile:l,isKidsModeEnabled:u,isLoggedIn:(0,v.dd)(e)}},ue=(0,d.$j)(ce)(se),de=(0,y.Z)(ue,{webRefresh:h.Z})},23941:function(e,t,n){n.d(t,{a:function(){return E}});var i=n(46593),o=n.n(i),r=n(70655),a=n(71538),s=n(5097),l=n(8735),c=n(33271),u=n(83762),d=n(44536),p=n(33407),m=n(4442),h=n(76219),v=n(4680),f=n(17259),y=n(34859),E=function e(t,n){return void 0===n&&(n={}),function(i,E){return(0,r.mG)(void 0,void 0,void 0,(function(){var g,A,C,b,S,P,w,R,T,N,k,M,L,I,_,D,V,x,Z,O,B,U,Y,F,H,W,q,K;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return g=E().chromecast,A=g.castVideoLoading,C=g.contentId,A?(t!==C&&i((0,p.B)(c.YbC,{nextCastVideoArgs:[t,n]})),[2]):(i((0,p.B)(c.zcO,{contentId:t})),b=n.resumeFromCurrentPosition,S=window.cast,P=window.chrome,void 0!==(w=E()).video.byId[t].video_resources?[3,2]:[4,i((0,l.rW)(t))]);case 1:r.sent(),w=E(),r.label=2;case 2:if(R=S.framework.CastContext.getInstance(),T=w.video.byId,N=w.player,k=w.history.contentIdMap,M=void 0===k?{}:k,L=w.ui.chromecastAutoplayVisible,I=T[t],_=I.posterarts,D=void 0===_?[]:_,V=I.series_id,x=I.has_subtitle,void 0===(Z=I.video_resources))throw O="video resource could not be undefined when you cast the video",i((0,p.B)(c.jtO,{error:O})),new Error(O);if(B=(0,f.Yl)(Z[0]).mediaUrl,"application/x-mpegurl",(U=new P.cast.media.MediaInfo(B,"application/x-mpegurl")).customData=function(e,t,n){void 0===n&&(n={});var i=t.auth,o=t.video.byId,r=i.deviceId,a=i.user,s=void 0===a?{}:a,l=s.userId,c=s.token,u=o[e],p=u.ratings,m=void 0===p?[]:p,h=u.description,v=u.duration,f=u.year,y=u.publisher_id,E=u.tags,g={contentId:e,contentType:u.type,parentId:u.series_id,rating:(m[0]||{}).value,description:h,duration:v,year:f,pubId:y,tags:E},A={deviceId:r,userId:l,platform:d.VT.web,authToken:c};return{autoplay:{automatic:!!n.isFromAutoplayAutomatic,deliberate:!!n.isFromAutoplayDeliberate},content:g,device:A}}(t,w,n),L&&(i((0,s.Zt)(!1)),(0,h.i)({type:y.S.AUTOPLAY_CANCEL})),D[0]?(U.metadata=new P.cast.media.MovieMediaMetadata,U.metadata.images=[new P.cast.Image(D[0])]):V&&(Y=(T["0"+V]||{}).posterarts)&&Y.length&&(U.metadata=new P.cast.media.MovieMediaMetadata,U.metadata.images=[new P.cast.Image(Y[0])]),x&&((F=new P.cast.media.Track(1,window.chrome.cast.media.TrackType.TEXT)).trackContentId="1",F.trackContentType="text/vtt",F.subtype=P.cast.media.TextTrackType.SUBTITLES,F.name="English",F.language="en-US",U.tracks=[F]),H=new P.cast.media.LoadRequest(U),W=(0,f.ZW)({byId:T,contentId:t,history:M[t],isSeries:!1}).position,q=0,b?q=N.progress.position:W>0&&(q=W),H.currentTime=q,!(K=R.getCurrentSession()))throw new Error("There is no cast session when we cast video");return[2,K.loadMedia(H).then((function(){i((0,p.B)(c.lmD));var e=(0,m.Gl)(t,q,a.Lh.CHROMECAST);return(0,v.L9)(u.lv,e),o().resolve()})).catch((function(e){return i((0,p.B)(c.jtO,{error:e})),o().reject(e)})).finally((function(){var t=E().chromecast.nextCastVideoArgs;t&&(i((0,p.B)(c.YbC,{nextCastVideoArgs:null})),i(e.apply(void 0,t)))}))]}}))}))}}},68700:function(e,t,n){n.d(t,{ZP:function(){return be}});var i=n(70655),o=n(42522),r=n(34550),a=n(94184),s=n.n(a),l=n(45697),c=n.n(l),u=n(67294),d=n(25387),p=n(44012),m=n(37703),h=n(33311),v=n(8735),f=n(1216),y=n(54852),E=n(83762),g=n(5228),A=n(52579),C=n(4442),b=n(56192),S=n(55107),P=n(17259),w=function(e,t){return e?5:t||20},R=function(e){return(0,S.Pl)({video:e})+"?autoplay=true"},T=n(4680),N="gd9NH",k="JcRVq",M="QYxHg",L="K5dQD",I="McM7k",_="KI6mw",D="rLwkJ",V="I0tKo",x=n(96879),Z=n(49045),O=n(3709),B="s1VNK",U="on5vy",Y="nLypd",F="BP32r",H="fRkjo",W=function(e){var t=e.duration,n=e.year,i=e.ratings,o=e.genres,r=e.showCC;return u.createElement("div",{className:B},u.createElement("div",{className:U},n?u.createElement("div",null,n):null,n&&t?u.createElement("span",null," · "):null,u.createElement(O.nL,{key:"duration",duration:t}),r?u.createElement(Z.Z,{className:Y}):null,u.createElement(O.uy,{rating:i,cls:F,descriptorCls:H})),u.createElement("div",{className:U},u.createElement(O.LK,{genres:o,splitSymbol:" · "})))},q="aSBas",K="kLsUH",G="_3Eqv",j="J0QCe",z="HKN6Y",Q="YcR_x",X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleLinkClick=function(e){null==e||e.preventDefault(),t.props.onLinkClick(e)},t}return(0,i.ZT)(t,e),t.prototype.render=function(){var e=this.props,t=e.content,n=e.counter,i=e.toUrl,o=e.className,r=t.title,a=t.description,l=t.year,c=t.duration,d=t.tags,p=void 0===d?[]:d,m=t.ratings,h=void 0===m?[]:m,v=t.has_subtitle;return u.createElement("div",{className:s()(q,o)},n?u.createElement("div",{className:K},"Starting in ",n," s"):null,u.createElement("div",null,u.createElement(x.Z,{onClick:this.handleLinkClick,to:i,className:G},r)),u.createElement(W,{duration:c,year:l,ratings:h,genres:p,showCC:v,className:j,labelRowClassName:z}),u.createElement("div",{className:Q},a))},t}(u.Component),J=n(14166),$=n(39081),ee="lMwu7",te="oLY1Y",ne="w4wP4",ie="FdbB1",oe="PaxoH",re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getSrcImg=function(){var e=t.props,n=e.content,i=e.isEpisode,o=n.posterarts,r=void 0===o?[]:o,a=n.thumbnails;return i?(void 0===a?[]:a)[0]:r[0]},t.handleClick=function(e){e.preventDefault();var n=t.props,i=n.index;(0,n.onTileClick)(i)},t}return(0,i.ZT)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.active,i=t.isEpisode,o=s()(ee,((e={})[te]=n,e[ie]=i,e)),r=this.getSrcImg();return u.createElement("div",{className:o,onClick:this.handleClick},u.createElement($.Z,{className:ne,url:r},n?u.createElement(J.Z,{className:oe}):null))},t}(u.PureComponent),ae=function(e){var t=e.contents,n=e.isEpisode,i=e.toUrl,o=e.activeIndex,r=e.counter,a=e.className,l=e.onTileClick,c=e.onLinkClick;return u.createElement("div",{className:s()(N,a)},u.createElement("div",{className:k},t.map((function(e,t){var a,d,p,m=o===t,h=s()(M,((a={})[L]=m,a)),v=s()(I,((d={})[_]=n,d[L]=m,d)),f=s()(D,((p={})[_]=n,p));return u.createElement("div",{className:h,key:e.id},u.createElement("div",{className:v},u.createElement(re,{content:e,active:m,index:t,isEpisode:n,onTileClick:l})),m?u.createElement("div",{className:f},u.createElement(X,{className:V,content:e,counter:r,toUrl:i,onLinkClick:c})):null)}))))},se=n(61409),le="TGrH4",ce="Mzvw7",ue="RapWZ",de=function(e){var t=e.title,n=e.toUrl,i=e.className,o=e.onLinkClick;return u.createElement("div",{className:s()(le,i)},u.createElement("div",{className:ce},u.createElement(se.rU,{onClick:function(e){e.preventDefault(),o(e)},to:n},t)),u.createElement("div",{className:ue},"Playing Next"))},pe="YB49l",me="nID5l",he="BeN3C",ve="cWkYh",fe="J_4hd",ye="XNhm8",Ee="UMObM",ge="S25A5",Ae=(0,d.vU)({hideAutoplay:{defaultMessage:"Hide",id:"src/web/features/playback/components/AutoPlay/AutoPlay:hideAutoplay"},openAutoplay:{defaultMessage:"Open",id:"src/web/features/playback/components/AutoPlay/AutoPlay:openAutoplay"}}),Ce=function(e){function t(t){var n=e.call(this,t)||this;n.counterTimer=null,n.stopPropagation=function(e){return e.stopPropagation()},n.timeHandler=function(){if(!n.props.videoPaused&&!n.state.minimized){if(n.state.timeLeft<=0)return A.ZP.setAutoplayDeliberate(!1),n.clearCounterTimer(),void n.autoPlay();n.setState({timeLeft:n.state.timeLeft-1})}},n.changeActiveIndex=function(e){n.state.activeIndex!==e&&n.setState({activeIndex:e,timeLeft:w(n.props.isEpisode)})},n.getAutoPlayVideo=function(){var e=n.props,t=e.contents,i=e.byId,o=t[n.state.activeIndex];return i[function(e){var t=e.id;return e.type===y._Bh?(0,P.Vs)(e)||(0,b.kJ)(t):t}(o)]||o},n.autoPlay=function(e){void 0===e&&(e=!1);var t=n.props,i=t.dispatch,o=t.onAutoplay,r=n.getAutoPlayVideo(),a=R(r);i((0,h.VF)(a)),o&&o({contentId:r.id,isFromAutoplayDeliberate:e,isFromAutoplayAutomatic:!e})},n.toggle=function(){return n.setState({minimized:!n.state.minimized})},n.onTileClick=function(e){if(e===n.state.activeIndex)n.manualAutoPlay();else{var t=n.state.activeIndex,i=n.props.contents[t].id;A.ZP.trackCarouselTrigger({startX:t,endX:e,contentId:i,slug:"",componentType:r.Nc.autoplayComponent}),n.changeActiveIndex(e)}},n.onLinkClick=function(){n.manualAutoPlay()};var i=t.isEpisode;return n.state={timeLeft:w(i),activeIndex:0,minimized:!1},n}return(0,i.ZT)(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.dispatch,i=t.id,r=t.isEpisode,a=t.isFromAutoplay,s=t.contentLimit;(0,T.L9)(E.EB,(0,C.n0)(i,o.g.SHOW));var l=r?1:5;n((0,v.uq)(i,{isAutoPlayVideo:a,limit:null!=s?s:l})).then((function(){0!==e.props.contents.length&&(e.props.onAutoplayContentLoaded&&e.props.onAutoplayContentLoaded(e.props.contents,e.state.timeLeft),e.handleMountWithContents())}))},t.prototype.componentWillUnmount=function(){this.clearCounterTimer()},t.prototype.componentDidUpdate=function(e,t){var n=this.state.minimized||this.props.videoPaused;n!==(t.minimized||e.videoPaused)&&(n&&this.props.onPause&&this.props.onPause(),!n&&this.props.onResume&&this.props.onResume())},t.prototype.handleMountWithContents=function(){this.counterTimer=setInterval(this.timeHandler,1e3)},t.prototype.clearCounterTimer=function(){this.counterTimer&&clearInterval(this.counterTimer)},t.prototype.manualAutoPlay=function(){var e=this.getAutoPlayVideo(),t=e.type,n=e.id;A.ZP.createNavigateToPageComponent({startX:this.state.activeIndex,startY:0,containerSlug:null,contentId:t===y._Bh?"0"+n:n,componentType:r.Nc.autoplayComponent}),A.ZP.setAutoplayDeliberate(!0),this.autoPlay(!0)},t.prototype.render=function(){var e,t=this.props,n=t.contents,i=t.isEpisode,o=t.className;if(0===n.length)return null;var r=this.state,a=r.minimized,l=r.activeIndex,c=r.timeLeft,d=n[l],m=R(d),h=s()(fe,((e={})[ye]=a,e)),v=a?Ae.openAutoplay:Ae.hideAutoplay;return u.createElement("div",{className:s()(pe,o),onClick:this.stopPropagation},u.createElement("div",{className:me}),u.createElement("div",{className:he},u.createElement("div",{className:ve},u.createElement(f.Z,{className:h}),u.createElement("div",{className:Ee,onClick:this.toggle},u.createElement(p.Z,v))),a?u.createElement(de,{className:ge,title:d.title,toUrl:m,onLinkClick:this.onLinkClick}):u.createElement(ae,{contents:n,counter:c,activeIndex:l,isEpisode:i,toUrl:m,onTileClick:this.onTileClick,onLinkClick:this.onLinkClick})))},t.contextTypes={router:c().object.isRequired},t}(u.PureComponent);var be=(0,m.$j)((function(e,t){var n=t.id,i=e.video.byId;return{contents:(0,g.VJ)(e,n),byId:i}}))(Ce)},88678:function(e,t,n){n.r(t),n.d(t,{default:function(){return ve},mapStateToProps:function(){return pe},rawChromecastSender:function(){return he}});var i=n(88902),o=n.n(i),r=n(70655),a=n(67294),s=n(37703),l=n(31660),c=n(5097),u=n(8735),d=n(33271),p=n(5228),m=n(52579),h=n(33407),v=n(76219),f=n(76986),y=n(23941),E=n(68700),g=n(7156),A=n(94184),C=n.n(A),b=n(25387),S=n(86896),P=n(44012),w=n(34315),R=n(10926),T=n(88239),N=n(58986),k=function(e){return a.createElement(N.Z,(0,T.Z)({viewBox:"0 0 40 40"},e),a.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(8 10)"},a.createElement("path",{fill:"currentColor",d:"M14.787 0c-.359 0-.776.151-1.22.47L8 5H2C.887 5 0 5.858 0 6.968v7.064C0 15.142.887 16 2 16h6l5.567 4.53c.444.319.861.47 1.22.47.725 0 1.213-.618 1.213-1.714V1.714C16 .618 15.512 0 14.787 0M14 3v15.304l-4.738-3.855A2 2 0 0 0 8 14l-6 .032V7h6c.46 0 .906-.158 1.262-.449L14 2.848m.921-.864h.005-.005"}),a.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19.002 8c.929.54 1.54 1.458 1.54 2.5S19.93 12.46 19 13"}),a.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18.635 4C21.742 4.854 24 7.441 24 10.5s-2.26 5.646-5.367 6.5"})))},M=function(e){return a.createElement(N.Z,(0,T.Z)({viewBox:"0 0 40 40"},e),a.createElement("g",{stroke:"none",fill:"none",fillRule:"evenodd",transform:"translate(8, 10)"},a.createElement("path",{fill:"currentColor",d:"M14,18.304 L11.513,16.28 L9.948,17.585 L13.567,20.53 C14.011,20.849 14.428,21 14.787,21 C15.512,21 16,20.382 16,19.286 L16,12.54 L14,14.207 L14,18.304 Z M14.787,0 C14.428,0 14.011,0.151 13.567,0.47 L8,5 L2,5 C0.887,5 0,5.859 0,6.968 L0,14.032 C0,15.114 0.846,15.951 1.919,15.992 L4.286,14.02 L2,14.032 L2,8 L2,7 L8,7 C8.46,7 8.906,6.842 9.262,6.551 L14,2.848 L14,5.922 L16,4.255 L16,3 L16,3 L16,1.714 C16,0.618 15.512,0 14.787,0 L14.787,0 Z"}),a.createElement("path",{stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M20,5 L4,19"})))},L=n(30060),I=n(23591),_="XBWOp",D="Kltz5",V="vGjQW",x="c2PqU",Z="MhpVh",O="iKnri",B="f0M8L",U="qXcpK",Y="NY2SP",F="zuCpx",H="KPWeR",W="yrv6J",q="jIJln",K="CDwHq",G="AYR5r",j="Wnfzc",z="Daj_L",Q="tNPC4",X="mlMKr",J="dcAYL",$="hZDGp",ee="UPvJL",te="nqLB8",ne=(0,b.vU)({castOn:{defaultMessage:"Ready to cast",id:"src/web/features/playback/components/ChromecastController/ChromecastController:castOn"},castOnDevice:{defaultMessage:"Ready to cast on {deviceName}",id:"src/web/features/playback/components/ChromecastController/ChromecastController:castOnDevice"},playBegin:{defaultMessage:"Play any title to begin casting",id:"src/web/features/playback/components/ChromecastController/ChromecastController:playBegin"},errorCasting:{defaultMessage:"We experienced an error. Please try that again.",id:"src/web/features/playback/components/ChromecastController/ChromecastController:errorCasting"},castLoading:{defaultMessage:"Preparing your video",id:"src/web/features/playback/components/ChromecastController/ChromecastController:castLoading"},castAd:{defaultMessage:"Your title will resume shortly",id:"src/web/features/playback/components/ChromecastController/ChromecastController:castAd"}}),ie=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.render=function(){var e=this.props,t=e.deviceName,n=e.castPlayerState,i=e.seriesTitle,o=e.videoTitle,r=e.isAd,s=e.position,l=e.duration,c=e.seek,u=e.isMuted,d=e.volumeLevel,p=e.updateVolume,m=e.toggleVolumeMute,h=e.setCaptions,v=e.captionsEnabled,f=e.togglePlayPause,y=e.castVideoLoadError,E=e.castVideoLoading,A=e.captionsAvailable,C=window.chrome.cast.media.PlayerState,b=C.IDLE,S=C.PLAYING,P=C.BUFFERING;if(n===b)return a.createElement(oe,{deviceName:t,error:!!y,loading:!!E});var w=n===S,T=n===P;return a.createElement("div",{key:"ccStatusBar",className:_},a.createElement(g.Z,{className:D},a.createElement("div",{className:U},a.createElement("div",{className:$},r?a.createElement(ae,null):a.createElement(re,{seriesTitle:i,videoTitle:o})),a.createElement("div",{className:Y},a.createElement("div",{className:F},a.createElement("div",{key:"playPause",className:q},w||T?a.createElement(R.dz,{onClick:f,className:K}):a.createElement(R.sh,{onClick:f,className:K}))),a.createElement("div",{className:H},l&&s?a.createElement(I.Z,{position:s,duration:l,isAd:r,seek:c}):null),a.createElement("div",{className:W},a.createElement(se,{isMuted:u,volumeLevel:d,updateVolume:p,toggleVolumeMute:m,setCaptions:h,captionsEnabled:v,captionsAvailable:A}))))))},t}(a.Component),oe=function(e){var t=e.deviceName,n=e.error,i=e.loading,o=(0,S.Z)(),r=t?o.formatMessage(ne.castOnDevice,{deviceName:t}):o.formatMessage(ne.castOn),s=a.createElement("div",{className:Z},a.createElement("div",{className:O},r),a.createElement("div",{className:B},o.formatMessage(ne.playBegin)));return(n||i)&&(s=a.createElement("div",{className:Z},a.createElement("div",{className:O},o.formatMessage(n?ne.errorCasting:ne.castLoading)))),a.createElement("div",{className:_},a.createElement(g.Z,{className:D},s,a.createElement("div",{className:V},a.createElement("button",{class:x,is:"google-cast-button"}))))},re=function(e){var t=e.seriesTitle,n=void 0===t?"":t,i=e.videoTitle;return a.createElement("div",{className:ee},a.createElement("div",{className:O},n||i),n?a.createElement("div",{className:B},i):null)},ae=function(){return a.createElement("div",{className:te},a.createElement("div",null,a.createElement(P.Z,ne.castAd)))},se=function(e){function t(t){var n=e.call(this,t)||this;return n.hideVolumeRangeTimer=null,n.showVolumeRangeTimer=null,n.onClickCaptions=function(){var e=n.props;(0,e.setCaptions)(!e.captionsEnabled&&1)},n.showVolumeRange=function(){clearTimeout(n.hideVolumeRangeTimer),n.showVolumeRangeTimer=setTimeout((function(){n.state.showVolumeRange||n.setState({showVolumeRange:!0})}),200)},n.hideVolumeRange=function(){clearTimeout(n.showVolumeRangeTimer),n.hideVolumeRangeTimer=setTimeout((function(){n.state.showVolumeRange&&n.setState({showVolumeRange:!1})}),200)},n.state={showVolumeRange:!1},n}return(0,r.ZT)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.captionsAvailable,i=t.isMuted,o=t.volumeLevel,r=t.updateVolume,s=t.captionsEnabled,l=t.toggleVolumeMute,c=this.state.showVolumeRange,u=C()(Q,((e={})[X]=s,e));return a.createElement("div",{className:G},a.createElement("div",null,a.createElement("div",{className:J},a.createElement(w.Z,null))),a.createElement("div",{key:"volume",className:j,onMouseEnter:this.showVolumeRange,onMouseLeave:this.hideVolumeRange,onClick:l},!i&&c?a.createElement("div",{className:z},a.createElement(L.Z,{min:1,max:100,value:100*o,onChanging:r})):null,i?a.createElement(M,{className:K}):a.createElement(k,{className:K})),n?a.createElement("div",{onClick:this.onClickCaptions,className:u},a.createElement(R.CC,{className:K})):null)},t}(a.PureComponent),le=n(34859),ce="TiEgM",ue=f.ZP.isStagingOrAlpha,de=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.checkCastAvailabilityTimeout=null,t.checkCastAvailability=function(){window.hasOwnProperty("castApiAvailable")&&(!window.castApiAvailable||window.cast&&window.cast.framework)?window.castApiAvailable&&(t.props.dispatch((0,h.B)(d.GN8,{castApiAvailable:!0})),t.onCastApiAvailable()):t.checkCastAvailabilityTimeout=setTimeout(t.checkCastAvailability,100)},t.onCastApiAvailable=function(){var e,n=t.props.dispatch,i=window.cast,o=window.cast.framework.RemotePlayerEventType,r=o.CURRENT_TIME_CHANGED,a=o.PLAYER_STATE_CHANGED,s=o.VOLUME_LEVEL_CHANGED,l=o.IS_MUTED_CHANGED,c=o.MEDIA_INFO_CHANGED;t.playerControllerHandlers=((e={})[r]=function(e){var n=e.value;t.props.isAd||(t.props.dispatch((0,h.B)(d.E2t,{value:parseInt(n,10)})),t.checkShouldShowAutoPlay(parseInt(n,10)))},e[a]=function(e){var n=e.value;n&&t.props.dispatch((0,h.B)(d.QDE,{playerState:n}))},e[s]=function(e){var n=e.value;t.props.dispatch((0,h.B)(d.dqF,{volumeLevel:n}))},e[l]=function(e){var n=e.value;t.props.dispatch((0,h.B)(d.hZP,{isMuted:!!n}))},e[c]=function(e){var n=e.value;if(n&&n.customData){var i=(n.customData.content||{}).contentId;t.props.contentId!==i&&(t.log("New content ID is casting: "+i),t.props.dispatch((0,h.B)(d.ef5,{contentId:i})))}},e),t.castContext=i.framework.CastContext.getInstance();var u=t.castContext.getCastState();n((0,h.B)(d.eJ_,{castState:u})),u===i.framework.CastState.CONNECTED&&t.onConnected(),t.castContext.addEventListener(i.framework.CastContextEventType.CAST_STATE_CHANGED,t.onCastStateChanged)},t.onCastStateChanged=function(e){var n=e.castState;(0,t.props.dispatch)((0,h.B)(d.eJ_,{castState:n})),n===cast.framework.CastState.CONNECTED?t.onConnected():n===cast.framework.CastState.NOT_CONNECTED&&t.onDisconnected()},t.checkShouldShowAutoPlay=function(e){var n=t.props,i=n.autoPlayShowTime,o=n.dispatch,r=n.chromecastAutoplayVisible;e&&i&&e>=i&&!r&&o((0,c.Zt)(!0))},t.autoplay=function(e){var n=e.contentId,i=e.isFromAutoplayAutomatic,o=e.isFromAutoplayDeliberate;(0,t.props.dispatch)((0,y.a)(n,{isFromAutoplayAutomatic:i,isFromAutoplayDeliberate:o,resumeFromCurrentPosition:!1})),(0,v.i)({type:le.S.AUTOPLAY_START})},t.initPlayerController=function(){var e;t.log("initPlayerController",t.playerController);var n=t.props.dispatch,i=window.cast,r=null===(e=t.castSession)||void 0===e?void 0:e.getMediaSession();if(!r)return t.log("Cannot find current media",r);t.log("detaching and reattaching ad listener"),r.removeUpdateListener(t.updateAdStatus),r.addUpdateListener(t.updateAdStatus),t.removePlayerController();var a=new i.framework.RemotePlayer,s=new i.framework.RemotePlayerController(a);t.playerController=s,t.log("new playerController",a,t.playerController);var l=a.playerState;l&&n((0,h.B)(d.QDE,{playerState:l})),t.log("attaching event handlers onto playerController");var c=t.playerControllerHandlers;c&&o()(c).forEach((function(e){var t=c[e];t&&s.addEventListener(e,t)}))},t.updateAdStatus=function(){var e,n=(null===(e=t.castSession)||void 0===e?void 0:e.getMediaSession())||{customData:void 0},i=t.props,o=i.isAd,r=i.dispatch,a=(n.customData||{isPlayingAd:void 0}).isPlayingAd;void 0!==a&&(t.log("updateAdStatus. isPlayingAd:",a),a!==o&&r((0,h.B)(d.FD6,{isAd:a})))},t.getAutoPlayStatus=function(){var e=t.props.isFromAutoplay,n=m.ZP.getState().fromAutoplayDeliberate;return{isFromAutoplayDeliberate:!(!e||!n),isFromAutoplayAutomatic:!(!e||n)}},t.onConnected=function(){t.log("On connected");var e=t.props,n=e.currentPageContentId,i=e.dispatch,o=e.isVideoPage,r=t.getAutoPlayStatus(),a=r.isFromAutoplayAutomatic,s=r.isFromAutoplayDeliberate;if(!t.castContext)throw new Error("there is no cast context when connected");var l=t.castContext.getCurrentSession();if(!l)throw new Error("there is no cast session when connected");t.castSession=l;var c=t.castSession.getCastDevice(),u=c.friendlyName,p=c.volume,m=p.muted,v=p.level;i((0,h.B)(d.fJR,{deviceName:u,isMuted:m,volumeLevel:v})),t.castSession.addEventListener(cast.framework.SessionEventType.MEDIA_SESSION,t.onMediaSession);var f=t.castSession.getMediaSession();if(f)return t.joinMediaSession(f);o&&(t.log("Video page detected, cast contentId:",n),i((0,y.a)(n,{isFromAutoplayAutomatic:a,isFromAutoplayDeliberate:s,resumeFromCurrentPosition:!0})))},t.onMediaSession=function(e){var n,i,o=(e||{}).mediaSession.media;if(o&&!o.contentId&&!(null===(i=null===(n=o.customData)||void 0===n?void 0:n.content)||void 0===i?void 0:i.contentId))return t.log("Media session has no contentId, ignore media_session event",e);t.initPlayerController()},t.joinMediaSession=function(e){t.log("joining session",e),t.props.dispatch((0,h.B)(d.E2t,{value:e.getEstimatedTime()})),t.initPlayerController()},t.onDisconnected=function(){t.log("on disconnected"),t.removePlayerController(),t.removeCastSession()},t.seek=function(e){var n;t.log("seek to",e);var i=null===(n=t.castSession)||void 0===n?void 0:n.getMediaSession();if(!i)throw new Error("there is no media session during seeking");var o=new window.chrome.cast.media.SeekRequest;o.currentTime=e,i.seek(o,(function(){t.log("Seeked to ",e)}),(function(n){return t.log("Error seeking to ",e,n)}))},t.updateVolume=function(e){var n;t.log("UPDATE VOLUME",e/100);var i=null===(n=t.castSession)||void 0===n?void 0:n.getMediaSession();if(!i)throw new Error("there is no media session during updating volume");var o=e/100,r=new window.chrome.cast.Volume(o),a=new window.chrome.cast.media.VolumeRequest(r);i.setVolume(a,(function(){t.props.dispatch((0,h.B)(d.dqF,{volumeLevel:o}))}),t.log)},t.toggleVolumeMute=function(){t.playerController&&t.playerController.muteOrUnmute()},t.setCaptions=function(e){var n,i=t.props.dispatch,o=[];e&&o.push(e);var r=null===(n=t.castSession)||void 0===n?void 0:n.getMediaSession();if(!r)throw new Error("there is no media session during setting captions");var a=new window.chrome.cast.media.EditTracksInfoRequest(o);r.editTracksInfo(a,(function(){return i((0,h.B)(d.Wo0,{captionsEnabled:!!e}))}),(function(e){return t.log("edit tracks error",e)}))},t.togglePlayPause=function(){t.playerController&&t.playerController.playOrPause()},t.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];ue&&console.log.apply(console,(0,r.ev)(["## chromecast sender-"],e,!1))},t}return(0,r.ZT)(t,e),t.prototype.componentDidMount=function(){setTimeout((function(){window.castApiAvailable||(window.castApiAvailable=!1)}),6e4),this.checkCastAvailabilityTimeout=setTimeout(this.checkCastAvailability,100)},t.prototype.componentDidUpdate=function(e){var t=e.contentId,n=this.props,i=n.contentId,o=n.dispatch;t!==i&&(o((0,u.rW)(i)),this.initPlayerController())},t.prototype.componentWillUnmount=function(){var e,t;clearTimeout(this.checkCastAvailabilityTimeout),null===(t=null===(e=this.castSession)||void 0===e?void 0:e.getMediaSession())||void 0===t||t.removeUpdateListener(this.updateAdStatus),this.removePlayerController(),this.removeCastSession(),this.removeCastContext()},t.prototype.removeCastContext=function(){var e;null===(e=this.castContext)||void 0===e||e.removeEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,this.onCastStateChanged),delete this.castContext},t.prototype.onAutoplayContentLoaded=function(e,t){var n=e[0];(0,v.i)({type:le.S.AUTOPLAY_SHOW,data:{video:n,timeLeft:t}})},t.prototype.onAutoplayPause=function(){(0,v.i)({type:le.S.AUTOPLAY_PAUSE})},t.prototype.onAutoplayResume=function(){(0,v.i)({type:le.S.AUTOPLAY_RESUME})},t.prototype.removePlayerController=function(){var e=this.playerController,t=this.playerControllerHandlers;e&&(this.log("removing event handlers off playerController"),t&&o()(t).forEach((function(n){var i=t[n];i&&e.removeEventListener(n,i)})),delete this.playerController)},t.prototype.removeCastSession=function(){var e;null===(e=this.castSession)||void 0===e||e.removeEventListener(cast.framework.SessionEventType.MEDIA_SESSION,this.onMediaSession),delete this.castSession},t.prototype.render=function(){var e=this.props,t=e.castReceiverState,n=e.castApiAvailable,i=e.castPlayerState,o=e.deviceName,r=e.seriesTitle,s=e.videoTitle,c=e.position,u=e.duration,d=e.isMuted,p=e.volumeLevel,m=e.isAd,h=e.captionsEnabled,v=e.castVideoLoading,f=e.castVideoLoadError,y=e.captionsAvailable,g=e.contentId,A=e.isSeries,C=e.isFromAutoplay,b=e.chromecastAutoplayVisible;if(!n||!(0,l.t0)(t))return null;var S=i===window.chrome.cast.media.PlayerState.PAUSED;return a.createElement(a.Fragment,null,b&&a.createElement("div",{className:ce},a.createElement(E.ZP,{id:g,isEpisode:A,videoPaused:S,isFromAutoplay:C,onAutoplay:this.autoplay,onPause:this.onAutoplayPause,onResume:this.onAutoplayResume,onAutoplayContentLoaded:this.onAutoplayContentLoaded,contentLimit:1})),a.createElement(ie,{deviceName:o,castPlayerState:i,seriesTitle:r,videoTitle:s,position:c,duration:u,seek:this.seek,updateVolume:this.updateVolume,toggleVolumeMute:this.toggleVolumeMute,togglePlayPause:this.togglePlayPause,setCaptions:this.setCaptions,captionsEnabled:h,isMuted:d,volumeLevel:p,isAd:m,castVideoLoading:v,castVideoLoadError:f,captionsAvailable:y}))},t}(a.Component),pe=function(e){var t=e.chromecast,n=e.routing,i=e.video.byId,o=e.ui.chromecastAutoplayVisible,r=t.castReceiverState,a=t.castApiAvailable,s=t.contentId,l=t.deviceName,c=t.position,u=t.isMuted,d=t.castPlayerState,m=t.isAd,h=t.captionsEnabled,v=t.volumeLevel,f=t.castVideoLoading,y=t.castVideoLoadError,E=i[s]||{},g=E.title,A=E.duration,C=E.has_subtitle,b=E.credit_cuepoints,S=void 0===b?{}:b,P="",w=!1;E.series_id&&(P=(i["0"+E.series_id]||{}).title,w=!0);var R="undefined"==typeof window?[]:window.location.pathname.split("/").filter(Boolean),T=["tv-shows","movies","video"].indexOf(R[0])>=0,N="";T&&(N=R[1]);var k=(n&&n.locationBeforeTransitions&&n.locationBeforeTransitions.query||{}).autoplay,M=void 0===k?null:k,L=S.postlude||A-1;return{isFromAutoplay:!!M,castApiAvailable:a,castReceiverState:r,castPlayerState:d,deviceName:l,seriesTitle:P,videoTitle:g,captionsAvailable:!!C,position:c,duration:A,isMuted:u,volumeLevel:v,isAd:m,captionsEnabled:h,castVideoLoading:f,castVideoLoadError:y,contentId:s,isVideoPage:T,currentPageContentId:N,autoplayContents:(0,p.VJ)(e,s),isSeries:w,autoPlayShowTime:L,chromecastAutoplayVisible:o}},me=(0,s.$j)(pe)(de),he=de,ve=me},23591:function(e,t,n){n.d(t,{Z:function(){return O}});var i=n(70655),o=n(12511),r=n(94184),a=n.n(r),s=n(67294),l=n(64317),c=n(57027),u=n(43485),d=n(3283),p=n(48446),m=n(23682),h=n(1875),v=n(47842),f=n(23493),y=n.n(f),E=n(18324),g="dOUbG",A="EA4QM",C="vCxAh",b="UXsyO",S=function(e){var t=e.position,n=e.duration,i=e.countPerSprite,o=e.interval,r=Math.floor(n/o)-1,a=Math.min(Math.floor(t/o),r);return{spriteIndex:Math.floor(a/i),thumbnailIndex:a%i}},P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={backgroundImage:"none",backgroundPosition:"-1px bottom"},t.updateThumbnailBackground=y()((function(){var e=t.props,n=e.indicatorPosition,i=e.duration,o=e.thumbnailSprites[E._T+"x"]||{},r=o.count_per_sprite,a=void 0===r?1:r,s=o.frame_width,l=void 0===s?120:s,c=o.sprites,u=void 0===c?[]:c;if(t.isComponentMounted&&0!==u.length){var d=S({position:n,duration:i,countPerSprite:a,interval:5}),p=d.spriteIndex,m=d.thumbnailIndex;t.setState({backgroundImage:(0,v.eZ)(u[p]),backgroundPosition:"-"+(m*l+1)+"px bottom"})}}),200),t.isComponentMounted=!1,t.handleClick=function(e){var n=t.props.handleClick;null==n||n(e)},t}return(0,i.ZT)(t,e),t.prototype.componentDidMount=function(){this.isComponentMounted=!0,this.updateThumbnailBackground()},t.prototype.componentDidUpdate=function(e){e.indicatorPosition!==this.props.indicatorPosition&&this.updateThumbnailBackground()},t.prototype.componentWillUnmount=function(){this.isComponentMounted=!1},t.prototype.render=function(){var e,t,n=this.props,i=n.duration,r=n.indicatorPosition,l=n.isAnimated,c=n.isShowText,u=n.positionOffset,d=n.positionWidth,p=n.thumbnailSprites[E._T+"x"]||{},h=p.frame_width,v=void 0===h?120:h,f=p.height,y=void 0===f?0:f,S=p.sprites,P=void 0===S?[]:S,w=this.state,R=w.backgroundImage,T=w.backgroundPosition,N=v/2,k=d>0?N/d:0,M=1-k,L=r/i;if(L=(0,o.clamp)(L,k,M),Array.isArray(u)){var I=(u[0]+N)/d,_=(u[1]-N)/d;L=(0,o.clamp)(L,I,_)}var D=i>0?100*L+"%":0,V=r?(0,m.ki)(r):"00:00";return 0!==P.length||c?0===P.length?s.createElement("span",{className:b,style:{left:D}},V):s.createElement("div",{className:a()(g,(e={},e[A]=l,e)),onClick:this.handleClick,style:{height:y+2+"px",left:D,width:v+"px"}},s.createElement("div",{className:a()(C,(t={},t[A]=l,t)),style:{backgroundImage:R,backgroundPosition:T}}),c?s.createElement("span",{className:b},V):null):null},t}(s.PureComponent),w="nmb7c",R="Ud9YL",T="UoV2V",N="kOpji",k="SIG6O",M="yDQuj",L="RDBql",I="QW6WE",_="YyvkS",D="fMfuT",V="SnXT0",x="qAZ1z",Z={enter:"FGRwh",enterActive:"VgCn6",exit:"nX8hJ",exitActive:"nyVJ9"},O=function(e){function t(t){var n=e.call(this,t)||this;return n.resizeSourceObserver$=(0,c.R)(window,"resize").pipe((0,u.O)(0),(0,d.b)(50)),n.handleClick=function(e){e.stopPropagation();var t=n.props,i=t.isAd,o=t.seek;i||!o||n.clickTimer||o(n.computeTargetPosition(e.clientX))},n.handlePreviewClick=function(){var e=n.props.seek;e&&e(n.state.indicatorPosition)},n.handleGlobalMouseMove=function(e){if(n.state.isDraggingScrubber&&!n.props.isAd){var t=n.computeTargetPosition(e.clientX);n.setState({position:t})}},n.handleGlobalMouseUp=function(e){var t=n.props,i=t.isAd,o=t.seek;n.state.isDraggingScrubber&&!i&&(n.setState({isDraggingScrubber:!1}),o&&o(n.computeTargetPosition(e.clientX)),n.clickTimer=setTimeout((function(){n.clickTimer=void 0}),0))},n.handleMouseEnter=function(e){var t=e.clientX;n.state.isDraggingScrubber||n.props.isAd||(n.indicatorTimer=setTimeout((function(){n.indicatorTimer=void 0,n.setState({indicatorPosition:n.computeTargetPosition(t)})}),200))},n.handleMouseMove=function(e){n.state.isDraggingScrubber||n.props.isAd||n.indicatorTimer||n.setState({indicatorPosition:n.computeTargetPosition(e.clientX)})},n.handleMouseLeave=function(){n.state.isDraggingScrubber||n.props.isAd||(n.indicatorTimer&&(clearTimeout(n.indicatorTimer),n.indicatorTimer=void 0),n.setState({indicatorPosition:-1}))},n.handleScrubberMouseDown=function(){n.props.isAd||(n.handleMouseLeave(),n.setState({isDraggingScrubber:!0}))},n.timelineRefCallback=function(e){n.elTimeline=e},n.state={indicatorPosition:-1,position:t.position,left:0,width:0,isDraggingScrubber:!1},n}return(0,i.ZT)(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.position;return t.isDraggingScrubber||n===t.position?null:{position:n}},t.prototype.componentDidMount=function(){var e=this;(0,p.Oo)(window,"mousemove",this.handleGlobalMouseMove),(0,p.Oo)(window,"mouseup",this.handleGlobalMouseUp),this.resizeSourceSubscription=this.resizeSourceObserver$.subscribe((function(){e.updateTimelineDimension()}))},t.prototype.componentWillUnmount=function(){var e;(0,p.xg)(window,"mousemove",this.handleGlobalMouseMove),(0,p.xg)(window,"mouseup",this.handleGlobalMouseUp),null===(e=this.resizeSourceSubscription)||void 0===e||e.unsubscribe()},t.prototype.computeTargetPosition=function(e){var t=this.state,n=t.left,i=t.width,r=(0,o.clamp)((e-n)/i,0,1);return Math.floor(r*this.props.duration)},t.prototype.updateTimelineDimension=function(){var e;if(this.elTimeline){var t=null===(e=this.elTimeline)||void 0===e?void 0:e.getBoundingClientRect();this.setState({left:t.left,width:t.width})}},t.prototype.render=function(){var e,t,n=this.props,i=n.isAd,o=n.isMobile,r=n.bufferPosition,c=n.duration,u=n.thumbnailSprites,d=n.enablePreview,p=(n.adBreaks,this.state),h=p.position,v=p.indicatorPosition,f=p.width,y=p.isDraggingScrubber,E=100*(c>0&&void 0!==r?parseFloat((r/c).toFixed(4)):0)+"%",g=100*(c>0?parseFloat((v/c).toFixed(4)):0)+"%",A=100*(c>0?parseFloat((h/c).toFixed(4)):0)+"%",C=d&&!o&&!i&&v>=0,b=a()(w,((e={})[x]=!!i,e));return s.createElement("div",{className:b,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},s.createElement("div",{className:R},s.createElement("span",{className:T},h?(0,m.ki)(h):"00:00"),s.createElement(l.TransitionGroup,{component:"div",className:N},C?s.createElement(l.CSSTransition,{key:"thumbnailPreview",classNames:Z,timeout:300},s.createElement(P,{duration:c,handleClick:this.handlePreviewClick,indicatorPosition:v,isAnimated:!0,isShowText:!0,key:"thumbnailPreview",positionWidth:f,thumbnailSprites:u||{}})):null),s.createElement("span",{className:T},c?(0,m.ki)(c):"00:00")),s.createElement("div",{className:k,onClick:this.handleClick,ref:this.timelineRefCallback},s.createElement("div",{className:M},r?s.createElement("div",{className:L,style:{width:E}}):null,!i&&v>=0?s.createElement("div",{className:I,style:{width:g}}):null,s.createElement("div",{className:_,style:{width:A}}),null),i?null:s.createElement("span",{className:a()(D,(t={},t[V]=y,t)),style:{left:A},onMouseDown:this.handleScrubberMouseDown})))},t.contextType=h.ZP,t}(s.PureComponent)},34859:function(e,t,n){n.d(t,{$:function(){return o},S:function(){return i}});var i,o="urn:x-cast:com.tubitv.cast.message";!function(e){e.AUTOPLAY_SHOW="AUTOPLAY_SHOW",e.AUTOPLAY_PAUSE="AUTOPLAY_PAUSE",e.AUTOPLAY_RESUME="AUTOPLAY_RESUME",e.AUTOPLAY_START="AUTOPLAY_START",e.AUTOPLAY_CANCEL="AUTOPLAY_CANCEL"}(i||(i={}))},87613:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ho},fetchData:function(){return Bo},fetchDataDeferred:function(){return Oo},mapStateToProps:function(){return Uo},rawComponent:function(){return Fo}});var i=n(46593),o=n.n(i),r=n(88239),a=n(70655),s=n(20631),l=n(34550),c=n(94184),u=n.n(c),d=n(30845),p=n(67294),m=n(64593),h=n(37703),v=n(76933),f=n(35683),y=n(8735),E=n(54852),g=n(5891),A=n(67328),C=n(37916),b=n(95274),S=n(23443),P=n(79918),w=n(2069),R=n(82803),T=n(5228),N=n(52579),k=n(3839),M=n(36476),L=n(89703),I=n(58889),_=n(27224),D=n(4680),V=n(17259),x=n(45515),Z=n(74550),O=n(1875),B=n(23941),U=n(88106),Y=n(13783),F=n.n(Y),H=n(85105),W=n.n(H),q=n(99663),K=n(22600),G=n(49135),j=n(93196),z=n(59390),Q=n(12511),X=n(47842),J=n(31094),$=n(27361),ee=n.n($),te=n(18446),ne=n.n(te),ie=n(23493),oe=n.n(ie),re=n(45697),ae=n.n(re),se=n(61409),le=n(57027),ce=n(3283),ue=n(31660),de=n(71131),pe=n(5097),me=n(64014),he=n(83762),ve=n(18324),fe=n(58114),ye=n(74334),Ee=n(43529),ge=n(5925),Ae=n(4442),Ce=n(20467),be=n(34848),Se=n(48446),Pe=n(96890),we=n(37979),Re=n(55107),Te=n(76986),Ne=n(28189),ke=n(39081),Me=n(50157),Le=n(49891),Ie=n(65191),_e=n(6862),De=n(96879),Ve=n(25387),xe=n(44012),Ze=n(45025),Oe=n(59275),Be=n(10926),Ue="Low8m",Ye="cZnNV",Fe="INzaK",He="Whcta",We="rqtov",qe="jF0Yq",Ke=(0,Ve.vU)({cast:{defaultMessage:"Casting Now",id:"src/web/features/playback/components/ChromecastPlayButton/ChromecastPlayButton:cast"}}),Ge=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClick=n.handleClick.bind(n),n}return(0,a.ZT)(t,e),t.prototype.handleClick=function(){var e=this.props,t=e.castContent,n=e.currentVideoIsCasting,i=e.castVideoLoading,o=e.castVideoLoadError;i||n&&!o||t()},t.prototype.render=function(){var e=this.props,t=e.currentVideoIsCasting,n=e.className,i=e.position,o=e.duration,r=e.castVideoLoadError,a=e.castVideoLoading,s=p.createElement(Be.sh,{className:Ye});return!t||r||a||(s=p.createElement("div",{className:Fe},p.createElement("div",{className:He},p.createElement(xe.Z,Ke.cast)),i&&o?p.createElement("div",{className:We},p.createElement("div",{className:qe,style:{width:i/o*100+"%"}})):null)),p.createElement("div",{className:n,onClick:this.handleClick},p.createElement("span",{key:"playPause",className:Ue},s))},t}(p.Component),je=(0,h.$j)((function(e,t){var n=e.chromecast,i=e.video.byId,o=t.contentId,r=n.contentId,a=n.position;return{currentVideoIsCasting:r===o,castVideoLoading:n.castVideoLoading,castVideoLoadError:n.castVideoLoadError,position:a,duration:(i[o]||{}).duration}}))(Ge),ze=n(63239),Qe=n.n(ze),Xe=n(74394),Je=n.n(Xe),$e=n(75173),et=n(9893),tt=n(47518),nt=n.n(tt),it=n(9527),ot=n.n(it),rt={normal:"normal",skipped_ads:"skipped_ads",stalled:"stalled",stalledAfterRetry:"stalledAfterRetry",destroyed:"destroyed"};var at,st="retry",lt="overrun",ct="waiting",ut=[375,750,1500,3e3,6e3],dt=[100,2e3,4e3],pt=function(){function e(e){var t=e.videoElement,n=e.getPlayerState,i=e.setup,o=e.shouldRetryMediaErrDecode,r=void 0!==o&&o;this.timersMap={},this.latestTimerIndex=0,this.videoElement=t,this.getPlayerState=n,this.setup=i,this.shouldRetryMediaErrDecode=r,this.retryErrorSet=new(ot())}return e.prototype.destroy=function(){delete this.videoElement,nt()(this.timersMap).forEach((function(e){return clearTimeout(e)})),this.timersMap={},this.latestErrorSnapshot&&(this.reportPlayerStatusAndRetry(this.latestErrorSnapshot,{isPlayerDestroyed:!0}),delete this.latestErrorSnapshot)},e.prototype.getPlayerStatus=function(e){var t=e.videoUrl,n=e.errorPosition,i=e.retryPosition,o=e.isPlayerDestroyed;if(!this.videoElement||o)return rt.destroyed;var r=this.videoElement,a=r.currentTime,s=r.src;return t===s||s.startsWith("blob")?(i||n)<a?rt.normal:i?rt.stalledAfterRetry:rt.stalled:rt.skipped_ads},e.prototype.startMonitor=function(e){if(this.videoElement){var t=e.isAd,n=e.videoUrl,i=e.error,o=e.position,r=e.contentId;if(i.code!==MediaError.MEDIA_ERR_ABORTED&&i.code!==MediaError.MEDIA_ERR_NETWORK){var a=!1;if(this.retryErrorSet.forEach((function(e){var t=e.error;i.code===t.code&&i.message===t.message&&(a=!0)})),!a){var s=this.videoElement,l=s.paused,c=s.networkState,u=s.readyState,d={isAd:t,videoUrl:n,contentId:r,error:i,errorNetworkState:c,errorPaused:l,errorPosition:o,errorReadyState:u,errorTimestamp:Date.now(),retryTimes:0};this.latestErrorSnapshot=d,this.setupMonitorTimers(d)}}}},e.prototype.stopFollowingReport=function(e,t){for(var n=ut.length-t,i=1;i<n;i++)clearTimeout(this.timersMap[i+e])},e.prototype.reportPlayerStatusAndRetry=function(e,t){var n=void 0===t?{}:t,i=n.isPlayerDestroyed,o=void 0!==i&&i,r=n.index,s=void 0===r?1/0:r,l=n.timerIndex,c=void 0===l?1/0:l,u=Date.now(),d=e.videoUrl,p=e.errorPosition,m=e.retryPosition,h=this.getPlayerStatus({videoUrl:d,errorPosition:p,isPlayerDestroyed:o,retryPosition:m}),v=this.videoElement,f={};v&&([rt.normal,rt.stalled,rt.stalledAfterRetry].includes(h)&&(f={reportPaused:v.paused,reportPosition:v.currentTime,reportNetworkState:v.networkState,reportReadyState:v.readyState}),[rt.normal,rt.skipped_ads].includes(h)&&(this.stopFollowingReport(c,s),this.retryErrorSet.delete(e)));var y=u-e.errorTimestamp;(0,ge.Q9)((0,a.pi)((0,a.pi)({reportTimestamp:u,duration:y,playerStatus:h,playerState:this.getPlayerState(),inRetryExperiment:this.shouldRetryMediaErrDecode},e),f));var g=this.trySkipStalledPosition({errorSnapshot:e,playerStatus:h,timerIndex:c,index:s});g===st?(0,ge.vr)({isAd:e.isAd,videoUrl:d,err:e.error,position:e.errorPosition,contentId:e.contentId,player:E.aab}):g===lt&&s===ut.length-1&&(0,ge.xu)({isAd:e.isAd,videoUrl:d,err:e.error,position:e.errorPosition,contentId:e.contentId,player:E.aab})},e.prototype.setupMonitorTimers=function(e){var t=this;ut.forEach((function(n,i){var o=t.latestTimerIndex++,r=setTimeout((function(){delete t.timersMap[o],t.reportPlayerStatusAndRetry(e,{timerIndex:o,index:i})}),n);t.timersMap[o]=r}))},e.prototype.trySkipStalledPosition=function(e){var t=e.errorSnapshot,n=e.playerStatus,i=e.timerIndex,o=e.index;if(!this.shouldRetryMediaErrDecode)return ct;if(![rt.stalled,rt.stalledAfterRetry].includes(n))return ct;var r=t.error,a=t.errorPosition,s=t.retryTimes,l=t.retryPosition,c=t.retryTimestamp,u=t.errorTimestamp,d=r.message||g.qr.UNKNOWN_ERROR;if(s>=3)return this.retryErrorSet.delete(t),lt;if(!function(e){var t=e||{code:"",error:""},n=t.code,i=t.message;return n===MediaError.MEDIA_ERR_DECODE&&(i===g.qr.UNKNOWN_ERROR||i===g.qr.PIPELINE_ERROR_DECODE||!i)}(r))return ct;var p=Date.now(),m=p-(c||u);return d===g.qr.UNKNOWN_ERROR&&m<0||d===g.qr.PIPELINE_ERROR_DECODE&&m<0?ct:(t.retryTimestamp=p,t.retryPosition=(l||a)+dt[t.retryTimes]/1e3,t.retryTimes++,this.retryErrorSet.add(t),this.stopFollowingReport(i,o),this.setup(t.retryPosition),this.setupMonitorTimers(t),st)},e}(),mt=n(71805),ht=n(29135),vt=function(e){var t,n=e.player,i=e.startBufferReason,o=e.elBufferStartTime,r=n.isAd();(0,D.p6)({type:r?g.fe.adInfo:g.fe.videoInfo,subtype:g.OD.PLAYBACK.BUFFER_START,message:{startBufferReason:i,startPosition:o,media:(0,X.G1)(n.getMediaUrl()),bandwidth:n.getBandwidthEstimate(),elReadyState:null===(t=n.getVideoElement())||void 0===t?void 0:t.readyState}})},ft=function(e){var t,n=e.player,i=e.time,o=e.startBufferReason,r=e.stopBufferReason,a=e.elBufferStartTime,s=e.elBufferEndTime,l=n.isAd();(0,D.p6)({type:l?g.fe.adInfo:g.fe.videoInfo,subtype:void 0!==i?g.OD.PLAYBACK.BUFFER_END:g.OD.PLAYBACK.UNPAIRED_BUFFER_END,message:{time:i,startBufferReason:o,stopBufferReason:r,startPosition:a,endPosition:s,media:(0,X.G1)(n.getMediaUrl()),bandwidth:n.getBandwidthEstimate(),elReadyState:null===(t=n.getVideoElement())||void 0===t?void 0:t.readyState}})};at=n(97063).default;var yt=function(e,t){var n,i,o=0;e.on(z.PLAYER_EVENTS.bufferStart,(function(t){vt({player:e,startBufferReason:null==t?void 0:t.reason,elBufferStartTime:null==t?void 0:t.currentTime}),o<=0&&(o=(0,mt.now)(),n=null==t?void 0:t.reason,i=null==t?void 0:t.currentTime)})),e.on(z.PLAYER_EVENTS.bufferEnd,(function(t){var r=(0,mt.now)()-o,s={player:e,stopBufferReason:null==t?void 0:t.reason,elBufferEndTime:null==t?void 0:t.currentTime};o>0&&r>E.drH&&(s=(0,a.pi)((0,a.pi)({},s),{time:r,startBufferReason:n,elBufferStartTime:i})),ft(s),o=0,n=void 0})),e.on(z.PLAYER_EVENTS.adStart,(function(n){var i=n.ad,o=n.adsCount,r=n.adSequence,a=n.adPosition,s=n.isPreroll,l=n.seamless;N.ZP.startAdEvent({ad:i,adsCount:o,adSequence:r,contentId:t,startPosition:a,isFullscreen:!1}),(0,D.p6)({type:g.fe.adInfo,subtype:g.OD.AD.AD_START,message:{content_id:t,position:e.getPosition(),count:o,index:r,duration:i.duration,id:i.id,url:i.video,isPreroll:s,seamless:l}})})),e.on(z.PLAYER_EVENTS.adComplete,(function(n){var i,o=n.ad,r=n.adsCount,a=n.adSequence,s=n.adPosition,l=n.isPreroll,c=n.seamless;N.ZP.finishAdEvent({ad:o,adsCount:r,adSequence:a,contentId:t,endPosition:s,isFullscreen:!1}),(0,D.p6)({type:g.fe.adInfo,subtype:g.OD.AD.AD_COMPLETE,message:{content_id:t,position:e.getPosition(),count:r,index:a,duration:o.duration,id:o.id,url:o.video,adPosition:s,isPreroll:l,seamless:c}}),a===r&&(void 0===i&&(i=D.HO.apiClient),i.post("/oz/videos/ad-pod-finished-metrics"))})),e.on(z.PLAYER_EVENTS.adResponse,(function(n){var i,o=n.response;e.isPlayingDRMContent||(0,ht.Z)().logExposure(),(0,D.p6)({type:g.fe.adInfo,subtype:g.OD.AD.CUE_POINT_FILLED,message:{content_id:t,position:e.getPosition(),count:o.length,isPreroll:e.isPreroll(),seamless:e.isInSeamlessPlayerMode()}}),void 0===i&&(i=D.HO.apiClient),i.post("/oz/videos/cue-point-filled-metrics")})),e.on(z.PLAYER_EVENTS.adDiscontinue,(function(n){var i=n.ad,o=n.adsCount,r=n.adSequence,a=n.adPosition,s=n.reason,l=n.isPreroll,c=n.seamless;(0,D.p6)({type:g.fe.adInfo,subtype:g.OD.AD.AD_DISCONTINUE,message:{content_id:t,position:e.getPosition(),count:o,index:r,duration:i.duration,id:i.id,url:i.video,adPosition:a,reason:s,isPreroll:l,seamless:c}})})),e.on(z.PLAYER_EVENTS.adPodFetchError,(function(e){return(0,ge.kR)(e)}))},Et=function(e){var t=e.contentId,n=void 0===t?"":t,i=e.resumePosition,o=e.captionSettings,r=(0,a._T)(e,["contentId","resumePosition","captionSettings"]),s=o?function(e){return(0,Ce.oS)(e)}(o):void 0,l=e.reuseVideoElement,c=at;var u=new z.Player((0,a.pi)((0,a.pi)({},r),{captionsStyles:s,Adapter:c,debug:!1,resumePosition:i,reuseVideoElement:l,shouldReportBitrate:!1,shouldWaitForSeekedEvent:!(0,ue.bf)()}));return function(e){var t={};e.on(z.PLAYER_EVENTS.seek,(function(n){var i=n.offset;t[i]||(t[i]=0),e.once(z.PLAYER_EVENTS.seeked,(function(){e.once(z.PLAYER_EVENTS.time,(function(n){var o=n.position;i>E.Izf&&o<=E.Dn9&&(t[i]>=E.Heu?(t={},S.ZP.error({targetPosition:i,position:o},"Player - restarts happened"),(0,D.p6)({type:"VIDEO:PLAYBACK",level:"error",subtype:"Restart",message:"Re-seek failed. Seek to "+i+", but restart to "+o})):(e.seek(i),t[i]++,(0,D.p6)({type:g.fe.videoInfo,level:"info",subtype:"ReSeek",message:"Re-Seek performed. Seek to "+i+", but restart to "+o})))}))}))}))}(u),yt(u,n),u},gt=n(1415),At="xW34t",Ct=function(e){function t(t){var n=e.call(this,t)||this;return n.isUnmounted=!1,n.handlePlayerError=function(e){var t,i=n.props.onPlayerError;i&&[z.ErrorType.SETUP_ERROR,z.ErrorType.NETWORK_ERROR].includes(e.type)&&i(e);var o=n.state.playerRef;if(e instanceof MediaError&&o){var r={isAd:!1,videoUrl:o.getMediaUrl(),error:e,position:o.getPosition(),contentId:n.props.data.id};null===(t=n.playerStatusMonitor)||void 0===t||t.startMonitor(r)}},n.state={prerollUrl:t.prerollUrl},n}return(0,a.ZT)(t,e),t.getDerivedStateFromProps=function(e,t){return e.prerollUrl!==t.prerollUrl?(t.playerRef&&e.prerollUrl&&t.playerRef.setPrerollUrl(e.prerollUrl),{prerollUrl:e.prerollUrl}):null},t.prototype.componentDidMount=function(){this.buildPlayer()},t.prototype.shouldComponentUpdate=function(e){var t,n;return!this.props.isMonitoringEnabled&&e.isMonitoringEnabled&&this.state.playerRef&&this.monitor(this.state.playerRef,e.isMonitoringEnabled),!this.props.autoStart&&e.autoStart&&(null===(t=this.state.playerRef)||void 0===t?void 0:t.getState())===$e.State.idle&&this.state.playerRef.play(),this.props.upcomingCuePoint!==e.upcomingCuePoint&&void 0!==e.upcomingCuePoint&&(null===(n=this.state.playerRef)||void 0===n||n.updateUpcomingCuePoint(e.upcomingCuePoint)),!1},t.prototype.componentWillUnmount=function(){var e,t,n;this.isUnmounted=!0,(0,ue.MF)({player:void 0}),null===(e=this.monitoring)||void 0===e||e.remove(),null===(t=this.playerStatusMonitor)||void 0===t||t.destroy();var i=this.state.playerRef;i&&(i.removeListener(z.PLAYER_EVENTS.error,this.handlePlayerError),i.remove()),null===(n=this.suitestPlayerAdapter)||void 0===n||n.remove()},t.prototype.monitor=function(e,t){return void 0===t&&(t=!1),(0,a.mG)(this,void 0,void 0,(function(){var i,o,r,s,l,c,u,d,p,m,h,v,f,y,E,g,A;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:if(i=this.props,o=i.analyticsConfig,r=i.data,s=r.id,l=r.title,c=r.lang,u=r.duration,d=i.isMonitoringEnabled,p=void 0!==d&&d,m=i.userId,h=i.videoResource,v=void 0===h?{}:h,this.setupPlayerStatusMonitor(e),!p&&!t)return[2];f=this.props,y=f.experimentName,E=f.experimentTreatmentName,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.e(689).then(n.bind(n,41389))];case 2:return g=a.sent().setup,this.isUnmounted?[2]:(this.monitoring=g(e,{analyticsConfig:o,contentId:s,drm:v&&(0,V.SF)(v)||void 0,duration:u,experimentName:y,experimentTreatmentName:E,language:c,playbackType:v.type,title:l,userId:m,titanVersion:v.titan_version}),[3,4]);case 3:return A=a.sent(),S.ZP.error(A,"Failed to setup youbora"),[3,4];case 4:return[2]}}))}))},t.prototype.setupPlayerStatusMonitor=function(e){var t,n=e.getVideoElement();n&&(this.playerStatusMonitor=new pt({videoElement:n,getPlayerState:function(){return e.getState()},setup:function(t){return e.reload(t)},shouldRetryMediaErrDecode:null===(t=this.props.extraOptions)||void 0===t?void 0:t.shouldRetryMediaErrDecode}))},t.prototype.buildPlayer=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,t,n,i,o,r,s,l,c,u,d,p,m,h,v,f,y,E,g,A,C,b,S,P,w,R,T,N,k,M,L,I,_,D,x;return(0,a.Jh)(this,(function(Z){switch(Z.label){case 0:if(e=this.props,t=e.resumePos,n=void 0===t?0:t,i=e.data,o=e.trailerId,r=e.prerollUrl,s=e.onPlayerCreate,l=e.onPlayerError,c=e.autoStart,u=void 0!==c&&c,d=e.poster,p=e.extraOptions,m=e.reuseVideoElement,h=e.videoResource,v=e.performanceCollectorEnabled,f=e.useHlsNext,y=e.preloadStartFragment,E=e.samsungUseHtmlAdapter,g=e.playerName,A=e.videoPreviewUrl,C=e.preload,b=e.enableRedundantResource,S=e.forceFiretvUsingHlsjs,P=i.id,w=i.trailers,R=void 0===w?[]:w,T=!(!o&&"number"!=typeof o),N=!!A,k=(0,V.AE)(R,o),T){if(!k.mediaUrl&&!h&&l)return M={message:"No video resource found.",type:z.ErrorType.SETUP_ERROR},l(M),[2]}else k=N?{mediaUrl:A}:(0,V.Yl)(h);return L=this.getCaptionsConfig(T||N),I=function(e,t){return(0,et.J)({ExternalHls:e,useHlsNext:f,preloadStartFragment:y,onPreload:t})},_=!!k.licenseUrl,D=this.props.enableSeamlessPlayer&&!_,x=Et((0,a.pi)((0,a.pi)((0,a.pi)((0,a.pi)({contentId:P,autoStart:u},L),{resumePosition:n,poster:d,preload:C,prerollUrl:r,extraOptions:(0,a.pi)((0,a.pi)((0,a.pi)({},(0,we.c)({isDrmContent:_,hdcpVersion:k.hdcpVersion,useHlsNext:f,enableSeamlessPlayer:D,enableRedundantResource:b,forceFiretvUsingHlsjs:S})),{preloader:I,systemData:{systemVersion:gt.Z.getSystemVersion&&gt.Z.getSystemVersion()||void 0}}),p),reuseVideoElement:m,performanceCollectorEnabled:v,actionsTimeout:ve.KD[""]}),k),{samsungUseHtmlAdapter:E,disableSeamlessPlayerOnPreroll:!1,enableSeamlessPlayer:D,playerName:g})),(0,ue.MF)({player:x}),x.on(z.PLAYER_EVENTS.error,this.handlePlayerError),s(x),this.setState({playerRef:x}),[4,this.monitor(x)];case 1:return Z.sent(),[4,x.setup()];case 2:return Z.sent(),this.isUnmounted&&x.remove(),[2]}}))}))},t.prototype.getCaptionsConfig=function(e){if(e)return{subtitles:[]};var t=this.props,n=t.data,i=t.captionSettings,o=n.subtitles,r=void 0===o?[]:o;return{captionSettings:i,defaultCaptions:i.defaultCaptions,subtitles:(0,we.nU)((0,we.X)(r))}},t.prototype.render=function(){var e;this.props.samsungUseHtmlAdapter;return p.createElement("div",{className:At,dangerouslySetInnerHTML:{__html:null!==(e=null==at?void 0:at.htmlString)&&void 0!==e?e:""}})},t.contextTypes={deviceId:ae().string},t}(p.Component),bt=n(995),St=n(64317),Pt=n(14166),wt=n(3709),Rt="jGr4F",Tt="YkuW_",Nt="h1xX3",kt="rCZta",Mt="yedUO",Lt="e2l1z",It={enter:"Zd9uR",enterActive:"CS5ew",exit:"gVCkD",exitActive:"JDtqr"},_t={enter:"q01_u",enterActive:"DqfGA",exit:"lL2oR",exitActive:"_FOmX"},Dt=function(e){var t,n=e.active,i=e.ratings,o=e.className,r=e.ratingClassName,a=e.ratingValueClassName,s=e.leftBannerClassName,l=e.ratedClassName,c=e.descriptorsClassName;if(!i||i.length<=0)return null;var d=p.createElement(wt.uy,{rating:i,cls:u()(Nt,Mt,r),descriptorCls:u()(a)}),m=null===(t=i[0].descriptors)||void 0===t?void 0:t.map((function(e){return e.description})).join(", ");return p.createElement("div",{className:u()(Rt,o)},p.createElement(St.CSSTransition,{in:n,key:"leftBanner",timeout:500,classNames:_t,unmountOnExit:!0},p.createElement("div",{className:u()(Tt,s)})),p.createElement(St.CSSTransition,{in:n,timeout:1e3,classNames:It,unmountOnExit:!0},p.createElement("div",null,p.createElement("div",null,p.createElement("div",{className:u()(Nt,kt,l)},"Rated"),d),m?p.createElement("div",{className:u()(Lt,c)},m):null)))},Vt="CVa1v",xt="VMH8v",Zt="TqCOd",Ot="wEQKL",Bt="QFpHy",Ut={enter:"nFP3x",enterActive:"qvCCy",exit:"CDRow",exitActive:"G7RVN"},Yt=function(e){var t=e.className,n=e.subtitle,i=e.subtitleClassName,o=e.title,r=e.titleClassName,a=e.ratingOverlay,s=e.showTitle,l=p.createElement("div",{className:Zt},p.createElement("h1",{className:u()(Ot,r)},o),n?p.createElement("h2",{className:u()(Bt,i)},n):null);return p.createElement("div",{className:u()(Vt,t),onClick:function(e){e.stopPropagation()}},p.createElement(St.CSSTransition,{in:s,timeout:800,classNames:Ut,unmountOnExit:!0},p.createElement("div",{className:xt},l)),a||null)},Ft=n(9345);var Ht=n(58986),Wt=n(65425),qt=n.n(Wt),Kt=n(85345),Gt=n.n(Kt),jt=function(e){function t(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var r=e.call(this,n)||this,a=i[0],s=i[1],l=i[2],c=i[3],u=i[4];return r.message="invalid "+c+' "'+(u||a[s])+'" supplied to '+l+', message: "'+n+'"',r.stack="",Gt()(r,t.prototype),r}return(0,a.ZT)(t,e),t}(Error);function zt(e,t){return void 0===e&&(e=-1/0),void 0===t&&(t=1/0),function(e){function t(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0],r=n[1],s=o[r];return null==s?t?new(jt.bind.apply(jt,(0,a.ev)([void 0,"value is marked as required."],n,!1))):null:e.apply(void 0,n)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}((function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=n[0],r=n[1],s=o[r];return"number"!=typeof s?new(jt.bind.apply(jt,(0,a.ev)([void 0,"value is expected to be number type."],n,!1))):qt()(s)||s<e||s>t?new(jt.bind.apply(jt,(0,a.ev)([void 0,"value is expected in range from "+e+" to "+t+"."],n,!1))):null}))}ae().shape({onceBefore:ae().string,onceAfter:ae().string,text:ae().string});var Qt="b17uZ",Xt="ZSLX6",Jt="_5jf5",$t="OPuFO",en="MDGSz",tn="oj5Cl",nn="j3xLp",on="FU34B",rn=function(){return p.createElement(Ht.Z,{viewBox:"0 0 1 86",className:en},p.createElement("path",{d:"M0 0v6c20.4 0 37 16.6 37 37S20.4 80 0 80v6c23.7 0 43-19.3 43-43S23.7 0 0 0z"}))},an=function(e){var t,n=e.innerText,i=e.progress,o=void 0===i?0:i,r=u()(Qt,((t={})[$t]=!0,t),e.className);return p.createElement("div",{className:r},p.createElement("div",{className:on},p.createElement("div",{className:nn,style:cn(o)},p.createElement(rn,null))),o<.5?null:p.createElement("div",{className:tn},p.createElement("div",{className:nn,style:ln(o)},p.createElement(rn,null))),p.createElement("div",{className:Xt},n?p.createElement("span",{className:Jt},n):null))};an.propTypes={progress:zt(0,1).isRequired};var sn=an;function ln(e){return{transform:"rotate("+Math.floor((e-.5)/.5*180)+"deg)"}}function cn(e){return 0===e?{transform:"rotate(185deg)"}:e>=.49?{transform:"rotate(360deg)"}:{transform:"rotate("+Math.floor(185+e/.51*175)+"deg)"}}var un="C4jzN",dn="i4vzG",pn="uN6BM",mn=(0,Ve.vU)({adMessage:{defaultMessage:"Your video will resume after the break",id:"src/common/features/playback/components/AdMessage/AdMessage:adMessage"}}),hn=function(e){var t,n=e.progress,i=e.showProgressBar,o=u()(un,e.className);return t=i?p.createElement(sn,{innerText:"AD",progress:n}):p.createElement("div",{className:pn},"AD"),p.createElement("div",{className:o},t,p.createElement("div",{className:dn},p.createElement(xe.Z,mn.adMessage)))};hn.propTypes={progress:zt(0,1).isRequired};var vn=hn,fn=(0,h.$j)((function(e,t){t.shouldUsePlayerPackage,e.ottPlayer;var n=e.player,i=n.ad,o=i.adCount,r=i.adSequence,a=n.adProgress;return{adCount:o,adSequence:r,duration:a.duration,position:a.position}}))((function(e){var t=e.adCount,n=e.adSequence,i=e.duration,o=e.position,r=!e.hideProgressBar;return p.createElement(vn,{progress:function(){if(!r)return 0;var e=function(e){for(var t={0:0},n=1;n<e+1;n++)if(e===n)t[n]=1;else{var i=t[n-1]||0;t[n]=i+Math.floor(100/e)/100}return t}(t),a=e[n-1],s=0;return 0!==i&&(s=o/i*(e[n]-a)),(0,Q.clamp)(Math.round(100*(s+a))/100,0,1)}(),className:e.className,showProgressBar:r})})),yn=n(68700),En=n(23591),gn=n(11382),An=n(28323),Cn=n(77145);var bn=p.memo((function(e){return p.createElement("svg",(0,a.pi)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),p.createElement("path",{d:"M20.707 3.29301C20.316 2.90201 19.684 2.90201 19.293 3.29301L3.29301 19.293C2.90201 19.684 2.90201 20.316 3.29301 20.707C3.48801 20.902 3.74401 21 4.00001 21C4.25601 21 4.51201 20.902 4.70701 20.707L20.707 4.70701C21.098 4.31601 21.098 3.68401 20.707 3.29301Z",fill:"currentColor"}),p.createElement("path",{d:"M14 18.102C14 18.28 13.785 18.369 13.659 18.243L11.829 16.413L10.415 17.827L14.294 21.706C14.297 21.709 14.3 21.709 14.303 21.712C14.388 21.795 14.486 21.855 14.589 21.903C14.62 21.917 14.652 21.926 14.685 21.937C14.767 21.965 14.851 21.981 14.938 21.987C14.958 21.989 14.978 22 15 22C15.013 22 15.025 21.993 15.038 21.992C15.15 21.988 15.262 21.969 15.37 21.926C15.374 21.924 15.379 21.925 15.383 21.923C15.756 21.769 16 21.404 16 21V12.242L14 14.242V18.102Z",fill:"currentColor"}),p.createElement("path",{d:"M7.00001 12.758V10.442C7.00001 9.48101 7.51001 9.00001 8.43101 9.00001L8.43201 9.00201C8.44401 9.00201 8.45601 9.00001 8.46701 9.00001H9.08301C10.144 9.00001 11.161 8.57901 11.911 7.82801L16.032 3.70701C16.423 3.31601 16.423 2.68401 16.032 2.29301C15.641 1.90201 15.009 1.90201 14.618 2.29301L10.492 6.41901C10.119 6.79101 9.61301 7.00001 9.08601 7.00001L8.29201 6.99901C6.13101 6.99901 5.00001 8.12001 5.00001 10.261V13.739C5.00001 14.076 5.03801 14.378 5.09401 14.664L7.00001 12.758Z",fill:"currentColor"}))}));var Sn=p.memo((function(e){return p.createElement("svg",(0,a.pi)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),p.createElement("path",{d:"M15 5.00002V7.00002C17.757 7.00002 20 9.24302 20 12C20 14.757 17.757 17 15 17V19C18.866 19 22 15.866 22 12C22 8.13402 18.866 5.00002 15 5.00002Z",fill:"currentColor"}),p.createElement("path",{d:"M18 12C18 10.343 16.657 9.00002 15 9.00002V11C15.551 11 16 11.449 16 12C16 12.551 15.551 13 15 13V15C16.657 15 18 13.657 18 12Z",fill:"currentColor"}),p.createElement("path",{d:"M12.383 2.07602C12.379 2.07402 12.374 2.07502 12.37 2.07302C12.262 2.03002 12.15 2.01102 12.038 2.00702C12.025 2.00702 12.013 1.99902 12 1.99902C11.978 1.99902 11.958 2.01002 11.936 2.01202C11.849 2.01802 11.766 2.03402 11.683 2.06202C11.65 2.07302 11.619 2.08202 11.587 2.09602C11.483 2.14302 11.385 2.20402 11.301 2.28702C11.298 2.29002 11.295 2.29002 11.292 2.29302L7.167 6.41902C6.793 6.79102 6.288 7.00002 5.76 7.00002L5.292 6.99902C3.131 6.99902 2 8.12002 2 10.261V13.739C2 15.879 3.131 17 5.292 17L5.761 16.999C6.288 16.999 6.793 17.208 7.167 17.58L11.293 21.706C11.296 21.709 11.299 21.709 11.302 21.712C11.387 21.795 11.485 21.855 11.588 21.903C11.619 21.917 11.651 21.926 11.684 21.937C11.766 21.965 11.85 21.981 11.937 21.987C11.958 21.989 11.978 22 12 22C12.013 22 12.025 21.993 12.038 21.992C12.15 21.988 12.262 21.969 12.37 21.926C12.374 21.924 12.379 21.925 12.383 21.923C12.756 21.769 13 21.404 13 21V3.00002C13 2.59602 12.756 2.23002 12.383 2.07602ZM11 18.102C11 18.28 10.785 18.369 10.659 18.243L8.586 16.17C7.836 15.42 6.818 14.998 5.758 14.998H5.468C5.456 14.998 5.445 14.996 5.433 14.996L5.432 14.998C4.51 14.999 4 14.518 4 13.558V10.442C4 9.48102 4.51 9.00002 5.431 9.00002L5.432 9.00202C5.444 9.00202 5.456 9.00002 5.467 9.00002H5.757C6.818 9.00002 7.835 8.57902 8.585 7.82802L10.658 5.75502C10.785 5.63002 11 5.71902 11 5.89702V18.102Z",fill:"currentColor"}))})),Pn=n(42051);var wn=p.memo((function(e){return p.createElement("svg",(0,a.pi)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),p.createElement("path",{d:"M8.786 11H7.214C5.527 11 4.194 11 3.098 12.097C2.008 13.186 2.002 14.544 2 15.986C2 15.919 2 15.855 2 15.785V16.214C2 16.145 2 16.082 2.001 16.016C2.003 17.455 2.009 18.813 3.098 19.903C4.195 21 5.527 21 7.214 21H8.785C10.472 21 11.805 21 12.903 19.902C13.995 18.808 13.997 17.445 13.998 15.999C13.997 14.554 13.995 13.189 12.902 12.098C11.805 11 10.473 11 8.786 11ZM8.786 19H7.214C5.694 19 5.002 18.979 4.511 18.488C4.051 18.028 4.002 17.376 4 16.001C4.002 14.624 4.051 13.972 4.512 13.512C5.002 13.021 5.695 13 7.214 13H8.785C10.305 13 10.997 13.021 11.488 13.512C11.947 13.971 11.996 14.62 11.999 15.988C11.999 15.992 11.999 15.996 11.999 16C11.999 16.004 11.999 16.008 11.999 16.011C11.997 17.379 11.947 18.03 11.489 18.488C10.998 18.979 10.305 19 8.786 19Z",fill:"currentColor"}),p.createElement("path",{d:"M20.782 5.225L20.779 5.223C19.695 4.148 18.241 4 16.831 4H9.154C7.75 4 6.301 4.149 5.221 5.229C4.282 6.159 4.061 7.35 4.014 8.482C4.002 8.764 4.224 9 4.506 9H8.786C10.59 9 12.939 8.821 14.622 10.504C16.302 12.182 15.998 14.377 16 16.001V17.169C16 17.6285 16.3725 18.001 16.832 18.001C18.469 18.001 19.768 17.793 20.783 16.776C21.906 15.652 22 14.15 22 12.831V9.177C22 7.854 21.906 6.348 20.782 5.225Z",fill:"currentColor"}))}));var Rn=p.memo((function(e){return p.createElement("svg",(0,a.pi)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),p.createElement("path",{d:"M7.78598 12H6.21398C4.64498 12 3.60898 12 2.80398 12.805C2.03798 13.57 2.00198 14.552 2.00098 16C2.00298 17.447 2.03898 18.429 2.80498 19.196C3.60898 20 4.64598 20 6.21398 20H7.78498C9.35398 20 10.39 20 11.196 19.195C11.962 18.429 11.997 17.446 11.999 15.999C11.997 14.552 11.961 13.57 11.195 12.804C10.391 12 9.35398 12 7.78598 12Z",fill:"currentColor"}),p.createElement("path",{d:"M20.515 5.487C19.194 4.181 17.391 4 15.64 4H9.28C7.537 4 5.742 4.182 4.425 5.497C3.449 6.464 3.111 7.682 2.997 8.893V10H4.998V9.076C5.086 8.152 5.311 7.435 5.835 6.915C6.503 6.248 7.437 6 9.28 6H15.639C17.497 6 18.437 6.246 19.103 6.905C19.85 7.652 20 8.784 20 10.37V12.64C20 14.529 19.766 15.433 19.104 16.095C18.443 16.755 17.505 17 15.64 17H14V19H15.64C17.673 19 19.281 18.746 20.518 17.509C21.886 16.141 22 14.278 22 12.64V10.37C22 8.727 21.886 6.859 20.515 5.487Z",fill:"currentColor"}))}));var Tn=p.memo((function(e){return p.createElement("svg",(0,a.pi)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),p.createElement("path",{d:"M13 3.99997H12V2.72897C12 2.18797 11.413 1.85197 10.947 2.12497L7.06098 4.39597C7.03398 4.41197 7.02398 4.43997 6.99998 4.45797V2.72797C6.99998 2.18697 6.41298 1.85097 5.94698 2.12397L2.06098 4.39597C1.59898 4.66597 1.59898 5.33397 2.06098 5.60497L5.94598 7.87597C6.41298 8.14897 6.99998 7.81197 6.99998 7.27097V5.54097C7.02398 5.55997 7.03398 5.58797 7.06098 5.60397L10.946 7.87497C11.413 8.14897 12 7.81197 12 7.27097V5.99997H13C16.859 5.99997 20 9.13997 20 13C20 16.86 16.859 20 13 20C9.14098 20 5.99998 16.86 5.99998 13C5.99998 12.448 5.55298 12 4.99998 12C4.44698 12 3.99998 12.448 3.99998 13C3.99998 17.962 8.03698 22 13 22C17.963 22 22 17.962 22 13C22 8.03797 17.963 3.99997 13 3.99997Z",fill:"currentColor"}),p.createElement("path",{d:"M15.502 16.431C14.889 16.424 13.495 16.183 13.46 14.097V11.913C13.494 9.83497 14.884 9.58197 15.48 9.56797C16.1 9.58097 17.482 9.83397 17.535 11.896V14.085C17.482 16.185 16.095 16.425 15.502 16.431ZM15.48 10.855C15.212 10.861 14.764 10.871 14.747 11.924V14.087C14.764 15.137 15.208 15.142 15.501 15.145C15.78 15.142 16.221 15.137 16.248 14.071V11.923C16.219 10.872 15.774 10.862 15.48 10.855Z",fill:"currentColor"}),p.createElement("path",{d:"M12.518 13.511C12.402 13.273 12.22 13.062 11.978 12.884C12.213 12.706 12.383 12.502 12.484 12.276C12.579 12.028 12.628 11.766 12.628 11.498C12.622 10.969 12.443 10.504 12.097 10.114C11.733 9.71397 11.238 9.50697 10.621 9.50097C10.133 9.50797 9.70698 9.68897 9.35698 10.042C9.00098 10.396 8.79598 10.837 8.74698 11.352L8.73798 11.446H9.83498L9.84898 11.378C9.90398 11.122 10.011 10.931 10.168 10.81C10.318 10.689 10.478 10.63 10.657 10.63C10.913 10.636 11.116 10.717 11.276 10.877C11.437 11.045 11.519 11.254 11.524 11.517C11.524 11.777 11.446 11.981 11.285 12.143C11.124 12.309 10.901 12.39 10.604 12.39H10.197V13.409H10.681C10.949 13.409 11.163 13.49 11.334 13.657C11.51 13.83 11.598 14.07 11.603 14.389C11.598 14.704 11.51 14.938 11.332 15.107C11.16 15.285 10.954 15.372 10.702 15.372C10.467 15.372 10.285 15.309 10.144 15.178C10.002 15.049 9.89098 14.876 9.81398 14.666L9.79298 14.61H8.69998L8.71798 14.711C8.82298 15.287 9.05598 15.733 9.41198 16.039C9.76798 16.346 10.183 16.501 10.646 16.501C11.241 16.494 11.735 16.295 12.115 15.91C12.502 15.532 12.701 15.011 12.707 14.36C12.707 14.066 12.644 13.781 12.518 13.511Z",fill:"currentColor"}))}));var Nn=p.memo((function(e){return p.createElement("svg",(0,a.pi)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),p.createElement("path",{d:"M8.5 21H6.5C5.675 21 5 20.325 5 19.5V4.5C5 3.675 5.675 3 6.5 3H8.5C9.325 3 10 3.675 10 4.5V19.5C10 20.325 9.325 21 8.5 21Z",fill:"currentColor"}),p.createElement("path",{d:"M17.5 21H15.5C14.675 21 14 20.325 14 19.5V4.5C14 3.675 14.675 3 15.5 3H17.5C18.325 3 19 3.675 19 4.5V19.5C19 20.325 18.325 21 17.5 21Z",fill:"currentColor"}))})),kn=n(36214);var Mn,Ln,In=p.memo((function(e){return p.createElement("svg",(0,a.pi)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),p.createElement("path",{d:"M11 3.99997H12V2.72897C12 2.18797 12.587 1.85197 13.053 2.12497L16.938 4.39597C16.966 4.41197 16.976 4.43997 17 4.45797V2.72797C17 2.18697 17.587 1.85097 18.053 2.12397L21.938 4.39497C22.4 4.66497 22.4 5.33297 21.938 5.60397L18.053 7.87497C17.587 8.14897 17 7.81197 17 7.27097V5.54097C16.976 5.55897 16.966 5.58797 16.939 5.60297L13.054 7.87397C12.587 8.14897 12 7.81197 12 7.27097V5.99997H11C7.141 5.99997 4 9.13997 4 13C4 16.86 7.141 20 11 20C14.859 20 18 16.86 18 13C18 12.448 18.447 12 19 12C19.553 12 20 12.448 20 13C20 17.962 15.963 22 11 22C6.037 22 2 17.962 2 13C2 8.03797 6.037 3.99997 11 3.99997Z",fill:"currentColor"}),p.createElement("path",{d:"M13.6021 16.431C12.9891 16.424 11.5951 16.183 11.5601 14.097V11.913C11.5941 9.83499 12.9841 9.58199 13.5801 9.56799C14.2001 9.58099 15.5821 9.83399 15.6351 11.896V14.085C15.5821 16.185 14.1951 16.425 13.6021 16.431ZM13.5801 10.855C13.3121 10.861 12.8641 10.871 12.8471 11.924V14.087C12.8641 15.137 13.3081 15.142 13.6011 15.145C13.8801 15.142 14.3211 15.137 14.3481 14.071V11.923C14.3191 10.872 13.8741 10.862 13.5801 10.855Z",fill:"currentColor"}),p.createElement("path",{d:"M10.618 13.511C10.502 13.273 10.32 13.062 10.078 12.884C10.313 12.706 10.483 12.502 10.584 12.276C10.68 12.028 10.728 11.766 10.728 11.498C10.722 10.969 10.543 10.504 10.197 10.114C9.83405 9.713 9.33805 9.507 8.72205 9.5C8.23405 9.507 7.80805 9.688 7.45805 10.041C7.10205 10.395 6.89705 10.836 6.84805 11.351L6.83905 11.445H7.93605L7.95005 11.377C8.00505 11.121 8.11205 10.93 8.26905 10.809C8.41905 10.688 8.57905 10.629 8.75805 10.629C9.01405 10.635 9.21705 10.716 9.37705 10.876C9.53805 11.044 9.62005 11.253 9.62505 11.516C9.62505 11.776 9.54705 11.98 9.38605 12.142C9.22505 12.308 9.00205 12.389 8.70505 12.389H8.29905V13.408H8.78305C9.05105 13.408 9.26505 13.489 9.43605 13.656C9.61205 13.829 9.70005 14.069 9.70505 14.388C9.70005 14.703 9.61205 14.937 9.43405 15.106C9.26205 15.284 9.05605 15.371 8.80405 15.371C8.56905 15.371 8.38705 15.308 8.24605 15.177C8.10405 15.048 7.99305 14.875 7.91605 14.665L7.89505 14.609H6.80005L6.81805 14.71C6.92305 15.286 7.15605 15.732 7.51205 16.038C7.86805 16.344 8.28305 16.5 8.74605 16.5C9.34105 16.493 9.83505 16.294 10.215 15.909C10.602 15.531 10.801 15.01 10.807 14.359C10.807 14.066 10.744 13.781 10.618 13.511Z",fill:"currentColor"}))})),_n=n(98840),Dn=n(22623),Vn=n(15938),xn=n(74806),Zn=n(96774),On=n.n(Zn),Bn=n(34315),Un=function(e){return p.createElement(Ht.Z,(0,r.Z)({viewBox:"0 0 40 40"},e),p.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",transform:"matrix(-1 0 0 1 40 0)"},p.createElement("path",{fill:"currentColor",d:"M32 21v-9H8v16h15v-7h9zM6 11.99C6 10.892 6.9 10 7.991 10H32.01c1.1 0 1.991.898 1.991 1.99v16.02c0 1.099-.9 1.99-1.991 1.99H7.99C6.891 30 6 29.102 6 28.01V11.99z"}),p.createElement("path",{stroke:"currentColor",strokeOpacity:".1",strokeWidth:"1",d:"M22.5 27.5v.5l.5-.5h-.5zm-14 0H8l.5.5v-.5zm0-15V12l-.5.5h.5zm23 0h.5l-.5-.5v.5zm0 8v.5l.5-.5h-.5zm0 0h-9v7h-14v-15h23v8zm-26-8.51A2.496 2.496 0 0 1 7.991 9.5H32.01a2.495 2.495 0 0 1 2.491 2.49v16.02a2.496 2.496 0 0 1-2.491 2.49H7.99A2.495 2.495 0 0 1 5.5 28.01V11.99z"})))},Yn=function(e){return p.createElement(Ht.Z,(0,r.Z)({viewBox:"0 0 40 40"},e),p.createElement("g",{stroke:"none",fill:"none",fillRule:"evenodd"},p.createElement("path",{fill:"currentColor",d:"M8,27 L8,28 L15,28 L15,26 L10,26 L10,21 L8,21 L8,27 Z M34,11.9907951 L34,28.0092049 C34,29.1017876 33.1084896,30 32.0087557,30 L7.99124431,30 C6.89989752,30 6,29.1086907 6,28.0092049 L6,11.9907951 C6,10.8982124 6.89151044,10 7.99124431,10 L32.0087557,10 C33.1001025,10 34,10.8913093 34,11.9907951 Z"}),p.createElement("path",{stroke:"currentColor",strokeOpacity:"0.1",strokeWidth:"1",d:"M8.5,21.5 L8.5,21 L8,21.5 L8.5,21.5 Z M9.5,21.5 L10,21.5 L9.5,21 L9.5,21.5 Z M14.5,26.5 L15,26.5 L14.5,26 L14.5,26.5 Z M14.5,27.5 L14.5,28 L15,27.5 L14.5,27.5 Z M8.5,27.5 L8,27.5 L8.5,28 L8.5,27.5 Z M8.5,21.5 L9.5,21.5 L9.5,26.5 L14.5,26.5 L14.5,27.5 L8.5,27.5 L8.5,21.5 Z M34.5,11.9907951 L34.5,28.0092049 C34.5,29.3800719 33.3824958,30.5 32.0087557,30.5 L7.99124431,30.5 C6.6212083,30.5 5.5,29.3822965 5.5,28.0092049 L5.5,11.9907951 C5.5,10.6199281 6.61750422,9.5 7.99124431,9.5 L32.0087557,9.5 C33.3787917,9.5 34.5,10.6177035 34.5,11.9907951 Z"})))},Fn=n(30060),Hn=n(17370),Wn="SHcqi",qn="Bwojx",Kn="vkrvF",Gn="aHcCR",jn="DB9bK",zn="v_wJk",Qn="dIe4i",Xn="_PvvO",Jn="QES62",$n="sknV3",ei="CgOQ_",ti="VvWiv",ni="KiBYW",ii="LyNU0",oi="QuenX",ri="dr5O7",ai="EMei3",si="dsIOc",li="lWlCF",ci="ao5W9",ui="DfbDK",di="lWsnh",pi="T8nOy",mi="VWEIw",hi="QkBCA",vi="kYOlI",fi="MDJ4H",yi="CPW2c",Ei="pb1km",gi="FNhSh",Ai="XpdT7",Ci="vg_DA",bi="m2igM",Si="Sde8F",Pi=(0,Ve.vU)({closeFullscreen:{defaultMessage:"Close Fullscreen",id:"src/web/features/playback/components/WebPlayerOverlay/PlayerControls/PlayerControls:closeFullscreen"},goFullscreen:{defaultMessage:"Go Fullscreen",id:"src/web/features/playback/components/WebPlayerOverlay/PlayerControls/PlayerControls:goFullscreen"},cast:{defaultMessage:"Play on TV",id:"src/web/features/playback/components/WebPlayerOverlay/PlayerControls/PlayerControls:cast"},videoQuality:{defaultMessage:"Video Quality",id:"src/web/features/playback/components/WebPlayerOverlay/PlayerControls/PlayerControls:videoQuality"}}),wi=function(e,t){var n=function(e,t,n){return"position"===n||void 0};return On()(e[0],t[0],n)&&On()(e[1],t[1],n)},Ri=function(e){function t(t){var n=e.call(this,t)||this;return n.showVolumeRangeTimer=0,n.hideVolumeRangeTimer=0,n.showQualityListTimer=0,n.hideQualityListTimer=0,n._volumeChangedByUser=!1,n._volumeMuteChangedByUser=!1,n._isMutedBeforeAd=!1,n._volumeBeforeAd=0,n._cachedIconComponents={chromeCast:p.createElement(Bn.Z,{className:ui}),fullScreen:p.createElement(Un,{className:ui}),fullScreenDisable:p.createElement(Yn,{className:ui})},n.handleFullscreenChange=function(){var e=!!(0,Se.aP)();e!==n.state.fullscreen&&n.setState({fullscreen:e})},n.handleResize=function(){var e=n.state.useMobileDesign,t=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);!e&&t<=960&&n.setState({useMobileDesign:!0}),e&&t>960&&n.setState({useMobileDesign:!1})},n.showVolumeRange=function(){window.clearTimeout(n.hideVolumeRangeTimer),n.showVolumeRangeTimer=window.setTimeout((function(){n.state.showVolumeRange||n.setState({showVolumeRange:!0})}),200)},n.hideVolumeRange=function(){window.clearTimeout(n.showVolumeRangeTimer),n.hideVolumeRangeTimer=window.setTimeout((function(){n.state.showVolumeRange&&n.setState({showVolumeRange:!1})}),200)},n.toggleFullscreen=function(){var e=n.state.fullscreen;n.props.requestFullscreen(!e),n.setState({fullscreen:!e})},n.handleAdvancedSettingsClick=function(){var e,t=n.props,i=t.pause,o=t.position,r=t.isLoggedIn;if(i(),!r){/startPos=\d+/.test(""+window.location)||window.history.replaceState(null,"",(0,gn.addQueryStringToUrl)(window.location.href,((e={})[E.bFy]=o,e)))}},n.handleClickStepRewind=function(e){e.stopPropagation(),n.props.stepRewind()},n.handleClickStepForward=function(e){e.stopPropagation(),n.props.stepForward()},n.toggleVolumeMute=function(){n._volumeMuteChangedByUser=!0,n.props.toggleVolumeMute()},n.showQualityList=function(){window.clearTimeout(n.hideQualityListTimer),n.showQualityListTimer=window.setTimeout((function(){n.state.showQualityList||n.setState({showQualityList:!0})}),200)},n.hideQualityList=function(){window.clearTimeout(n.showQualityListTimer),n.hideQualityListTimer=window.setTimeout((function(){n.state.showQualityList&&n.setState({showQualityList:!1})}),200)},n.handleClickQualityIcon=function(e){if(e.stopPropagation(),n.state.showQualityList){var t=(n.props.qualityIndex+1)%n.props.qualityList.length;n.props.setQuality(t)}n.showQualityList()},n.handleClickQuality=function(e){var t;e.stopPropagation();var i=parseInt(null!==(t=e.target.dataset.index)&&void 0!==t?t:"0",10);n.props.setQuality(i)},n.handleQualityChange=function(e){n.props.setQuality(e)},n.stopPropagation=function(e){e.stopPropagation()},n.renderExtraControls=(0,d.Z)((function(e,t){var i,o=e.basicCaptionSettings,a=e.captionsList,s=e.captionsIndex,l=e.castApiAvailable,c=e.containerRef,d=e.handleCaptionBackgroundChange,m=e.handleCaptionSizeChange,h=e.handleCaptionSettingsToggle,v=e.captionsSettingsVisible,f=e.intl,y=e.isAd,E=e.isMobile,g=e.isMuted,A=e.qualityList,C=e.qualityIndex,b=e.setCaptions,S=e.volume,P=t.showVolumeRange,w=t.fullscreen,R=t.showQualityList,T=t.useMobileDesign,N=[],k=!y&&A.length>1,M=!y&&a.length>1,L={enter:Ei,enterActive:gi,exit:Ai,exitActive:Ci};if(l&&N.push(p.createElement("span",{key:"cast",id:"castButtonArea",className:mi,onClick:n.handleClickChromecast},p.createElement("div",{className:hi},p.createElement(_n.Z,{label:f.formatMessage(Pi.cast)},n._cachedIconComponents.chromeCast)))),N.push(p.createElement("span",{key:"volume",id:"volumeArea",className:mi,onMouseEnter:E?void 0:n.showVolumeRange,onMouseLeave:E?void 0:n.hideVolumeRange},p.createElement(Dn.Z,{icon:g?p.createElement(bn,{className:ui}):p.createElement(Sn,{className:ui}),onClick:n.handleClickVolume}),!g&&P?p.createElement(St.CSSTransition,{key:"volumeRange",classNames:L,timeout:300},p.createElement("div",{className:vi},p.createElement(Fn.Z,{min:1,max:100,value:S,onChanging:n.setVolume,onChanged:n.setVolume,useRefresh:!0}))):null)),M){var I={basicCaptionSettings:o,captionsList:a,captionsIndex:s,className:mi,getMenuContainer:function(){return(0,Se.aP)()||c.current},handleAdvancedSettingsClick:n.handleAdvancedSettingsClick,handleCaptionBackgroundChange:d,handleCaptionSizeChange:m,iconClass:ui,isAd:y,isFullscreen:w,setCaptions:b,toggleDelay:200,forceFullHeightMenu:T,onToggle:h,visible:v};N.push(p.createElement(Hn.Z,(0,r.Z)({key:"captions"},I)))}return k&&N.push(p.createElement("span",{key:"quality",id:"qualityArea",className:u()(mi,(i={},i[fi]=C>0,i)),onMouseEnter:n.showQualityList,onMouseLeave:n.hideQualityList},R?n.renderQualityList():null,p.createElement(Dn.Z,{icon:p.createElement(Pn.Z,{className:ui}),onClick:n.handleClickQualityIcon}))),N.push(p.createElement("span",{key:"fullscreen",id:"fullscreenArea",className:mi},p.createElement(Dn.Z,{icon:w?p.createElement(wn,{className:ui}):p.createElement(Rn,{className:ui}),tooltip:w?f.formatMessage(Pi.closeFullscreen):f.formatMessage(Pi.goFullscreen),tooltipPlacement:"topLeft",onClick:n.handleClickFullscreen}))),N}),wi),n.handleClickPlayPause=function(e){e.stopPropagation();var t=n.props,i=t.playerState,o=t.pause,r=t.play;i===z.State.playing?o():r()},n.renderPlaybackButtons=(0,d.Z)((function(e,t){var i=e===z.State.playing,o=[],r=u()(ci,di);return t||o.push(p.createElement("span",{key:"stepRewind",className:r},p.createElement(Dn.Z,{icon:p.createElement(Tn,{className:ui}),onClick:n.handleClickStepRewind}))),o.push(p.createElement("span",{key:"playPause",className:ci},p.createElement(Dn.Z,{icon:i?p.createElement(Nn,{className:ui}):p.createElement(kn.Z,{className:ui}),onClick:n.handleClickPlayPause}))),t||o.push(p.createElement("span",{key:"stepForward",className:r},p.createElement(Dn.Z,{icon:p.createElement(In,{className:ui}),onClick:n.handleClickStepForward}))),o})),n.renderContents=(0,d.Z)((function(e,t){var i=e.playerState,o=e.isAd;return p.createElement(p.Fragment,null,p.createElement(Cn.Z,{xs:"4",className:si}),p.createElement(Cn.Z,{xs:"4",className:li},n.renderPlaybackButtons(i,o)),p.createElement(Cn.Z,{xs:"4",className:pi},n.renderExtraControls(e,t)))}),wi),n.state={showVolumeRange:!1,fullscreen:!!(0,Se.aP)(),showQualityList:!1,useMobileDesign:!1},n._isMutedBeforeAd=t.isMuted,n._volumeBeforeAd=t.volume,n.handleClickChromecast=n.handleClickChromecast.bind(n),n.handleClickFullscreen=n.handleClickFullscreen.bind(n),n.handleClickVolume=n.handleClickVolume.bind(n),n.setVolume=n.setVolume.bind(n),n.throttledHandleResize=oe()(n.handleResize,250),n}return(0,a.ZT)(t,e),Object.defineProperty(t.prototype,"volumeChangedByUser",{get:function(){return this._volumeChangedByUser},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"volumeMuteChangedByUser",{get:function(){return this._volumeMuteChangedByUser},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMutedBeforeAd",{get:function(){return this._isMutedBeforeAd},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"volumeBeforeAd",{get:function(){return this._volumeBeforeAd},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){(0,Se.Oo)(document,E.i1k,this.handleFullscreenChange),this.throttledHandleResize(),(0,Se.Oo)(window,"resize",this.throttledHandleResize)},t.prototype.componentDidUpdate=function(e){var t=e.isAd,n=e.adSequence,i=e.isMuted,o=e.volume,r=e.toggleVolumeMute,a=e.updateVolume,s=this.props.isAd&&!t,l=!this.props.isAd&&t||this.props.adSequence!==n;s&&(this._volumeChangedByUser=!1,this._volumeMuteChangedByUser=!1,this._isMutedBeforeAd=i,this._volumeBeforeAd=o),l&&(this._volumeMuteChangedByUser||this._isMutedBeforeAd===i||r(),this._volumeChangedByUser||this._volumeBeforeAd===o||a(this._volumeBeforeAd))},t.prototype.componentWillUnmount=function(){(0,Se.xg)(document,E.i1k,this.handleFullscreenChange),(0,Se.xg)(window,"resize",this.throttledHandleResize)},t.prototype.handleClickChromecast=function(e){e.stopPropagation()},t.prototype.handleClickFullscreen=function(e){e.stopPropagation(),this.toggleFullscreen()},t.prototype.handleClickVolume=function(e){e.stopPropagation(),this.toggleVolumeMute()},t.prototype.setVolume=function(e){var t=this.props,n=t.isMuted,i=t.updateVolume;this._volumeChangedByUser=!0,n&&(this._volumeMuteChangedByUser=!0),i(e)},t.prototype.renderQualityList=function(){var e=this.props,t=e.qualityList,n=e.qualityIndex;return t.length<=1?null:p.createElement("div",{id:"qualityList",onClick:this.stopPropagation,className:yi},p.createElement("section",null,p.createElement("h3",null,p.createElement(xe.Z,Pi.videoQuality)),p.createElement(Vn.Z,{options:t,activeLabel:t[n].label,onOptionSelect:this.handleQualityChange})))},t.prototype.render=function(){return p.createElement(An.default,{className:ai},this.renderContents(this.props,this.state))},t}(p.PureComponent),Ti=(0,xn.ZP)(Ri),Ni={enter:Ei,enterActive:gi,exit:Ai,exitActive:Ci},ki=function(e){function t(t){var n=e.call(this,t)||this;return n.hasPlayActionTriggered=!1,n.playerOverlayRef=(0,p.createRef)(),n.updateVolume=function(e){n.setVolume({volume:e})},n.toggleVolumeMute=function(){var e=n.props,t=e.playerStore;(0,e.dispatch)(s.controlActions.setVolume({isMuted:!t.volume.isMuted}))},n.togglePlay=function(){n.props.playerStore.playerState===z.State.playing?n.explicitPause():n.explicitPlay()},n.onMouseMove=function(){n.refreshActiveTimer()},n.onMouseLeave=function(){n.props.playerStore.playerState!==z.State.playing||n.state.isShowingOverlayOnStartPlayback||n.state.captionSettingsVisible||(clearTimeout(n.hideActiveTimer),n.setInactiveTimer=window.setTimeout(n.setInactive,500))},n.onTouchStart=function(e){if(e.touches){var t=e.touches[0];n.touchInfo={startX:t.pageX,startY:t.pageY}}},n.onTouchMove=function(e){if(n.touchInfo){var t=n.touchInfo,i=t.startX,o=void 0===i?-1:i,r=t.startY,s=void 0===r?-1:r;if(!(o<0||s<0)){var l=e.touches[0],c=l.pageX,u=l.pageY,d=function(e){var t=e.startX,n=e.endX,i=e.startY,o=e.endY,r=e.vertical,a=void 0!==r&&r,s=Math.atan2(o-i,n-t),l=Math.round(180*s/Math.PI),c=0;if(l<0&&(l=360-Math.abs(l)),(l<=45||l>=315)&&(c=-1),l>=135&&l<=225&&(c=1),a){if(!(l>=180&&l<=360))return-1;c=1}return c}({startX:o,endX:c,startY:s,endY:u,vertical:!0});n.touchInfo=(0,a.pi)((0,a.pi)({},n.touchInfo),{endX:c,endY:u,direction:d})}}},n.onTouchEnd=function(){return n.handleSwipe()},n.onTouchCancel=function(){return n.handleSwipe()},n.handleCaptionSettingsToggle=function(e){n.setState({captionSettingsVisible:e}),n.refreshActiveTimer()},n.handleSwipe=function(){var e,t=(null!==(e=n.touchInfo)&&void 0!==e?e:{}).direction;1===t||void 0===t?n.refreshActiveTimer():n.setInactive(),n.touchInfo={}},n.onMouseMove=oe()(n.onMouseMove,50),n._hotKeyHandler=n._hotKeyHandler.bind(n),n._hotKeyHandler=oe()(n._hotKeyHandler,50),n.onClick=n.onClick.bind(n),n.onDoubleClick=n.onDoubleClick.bind(n),n.play=n.play.bind(n),n.pause=n.pause.bind(n),n.seek=n.seek.bind(n),n.stepRewind=n.stepRewind.bind(n),n.stepForward=n.stepForward.bind(n),n.setVolume=n.setVolume.bind(n),n.setCaptions=n.setCaptions.bind(n),n.setQuality=n.setQuality.bind(n),n.isAd=n.isAd.bind(n),n.setInactive=n.setInactive.bind(n),n.refreshActiveTimer=n.refreshActiveTimer.bind(n),n.explicitPlay=n.play.bind(n,!0),n.explicitPause=n.pause.bind(n,!0),n.state={active:!0,ratingActive:!1,showLargePlayButton:!0,isShowingOverlayOnStartPlayback:!0,shouldShowRatingLayout:!0,captionSettingsVisible:!1},n}return(0,a.ZT)(t,e),t.getDerivedStateFromProps=function(e,t){if(t.showLargePlayButton){var n=e.playerStore;if(n&&n.playerState===z.State.playing)return{showLargePlayButton:!1}}return null},t.prototype.componentDidMount=function(){this.showOverlayOnStartPlayback(),(0,Se.Oo)(window,"keydown",this._hotKeyHandler)},t.prototype.componentDidUpdate=function(){this.state.isShowingOverlayOnStartPlayback&&this.showOverlayOnStartPlayback()},t.prototype.componentWillUnmount=function(){clearTimeout(this.hideActiveTimer),clearTimeout(this.setInactiveTimer),clearTimeout(this.hideRatingActiveTimer),clearInterval(this.showRatingDuringPlaybackTimer),clearTimeout(this.renderControlTimeout),(0,Se.xg)(window,"keydown",this._hotKeyHandler)},t.prototype.setRatingShowInPlayTimer=function(){var e=this;this.showRatingDuringPlaybackTimer&&clearTimeout(this.showRatingDuringPlaybackTimer),this.showRatingDuringPlaybackTimer=window.setTimeout((function(){e.setShouldShowRating(!0),e.showRatingOverlay()}),36e5)},t.prototype.setRatingState=function(e){this.setState({ratingActive:e})},t.prototype.setShouldShowRating=function(e){this.setState({shouldShowRatingLayout:e})},t.prototype.showRatingOverlay=function(){var e=this;this.state.shouldShowRatingLayout&&(this.isAd()||this.props.playerStore.playerState===z.State.playing&&(this.setState({ratingActive:!0,shouldShowRatingLayout:!1}),this.hideRatingActiveTimer&&clearTimeout(this.hideRatingActiveTimer),this.hideRatingActiveTimer=window.setTimeout((function(){e.setState({ratingActive:!1}),e.setRatingShowInPlayTimer()}),15e3)))},t.prototype.play=function(e){var t=this,n=this.props,i=n.dispatch,o=n.video,r=void 0===o?{id:""}:o;return e&&!this.hasPlayActionTriggered&&(this.hasPlayActionTriggered=!0),i(s.controlActions.play()).then((function(){if(e){t.refreshActiveTimer();var n=(0,Ae.$v)(r.id,bt.BK.RESUMED);(0,D.L9)(he.V3,n)}})).catch((function(e){throw e}))},t.prototype.pause=function(e){var t=this,n=this.props,i=n.dispatch,o=n.video,r=void 0===o?{id:""}:o;return i(s.controlActions.pause()).then((function(){if(e){t.refreshActiveTimer();var n=(0,Ae.$v)(r.id,bt.BK.PAUSED);(0,D.L9)(he.V3,n)}}))},t.prototype.seek=function(e){var t=this,n=this.props,i=n.dispatch,o=n.video,r=void 0===o?{id:""}:o,a=n.playerStore.progress.position;return i(s.controlActions.seek(e)).then((function(){t.refreshActiveTimer();var n=(0,Ae.mB)({videoId:r.id,fromPosition:a,toPosition:e});(0,D.L9)(he.tG,n)}))},t.prototype.stepRewind=function(){var e=this,t=this.props,n=t.dispatch,i=t.video,o=void 0===i?{id:""}:i,r=t.playerStore.progress.position;return n(s.controlActions.stepRewind()).then((function(t){e.refreshActiveTimer();var n=(0,Ae.mB)({videoId:o.id,fromPosition:r,toPosition:t});(0,D.L9)(he.tG,n)}))},t.prototype.stepForward=function(){var e=this,t=this.props,n=t.dispatch,i=t.video,o=void 0===i?{id:""}:i,r=t.playerStore.progress.position;return n(s.controlActions.stepForward()).then((function(t){e.refreshActiveTimer();var n=(0,Ae.mB)({videoId:o.id,fromPosition:r,toPosition:t});(0,D.L9)(he.tG,n)}))},t.prototype.setVolume=function(e){return this.refreshActiveTimer(),this.props.dispatch(s.controlActions.setVolume(e))},t.prototype.setCaptions=function(e){var t=this,n=this.props,i=n.dispatch,o=n.video,r=void 0===o?{id:""}:o;return i(s.controlActions.setCaptions(e)).then((function(){t.refreshActiveTimer();var e=t.props.playerStore.captions||{},n=e.captionsList,i="off"===(void 0===n?[]:n)[e.captionsIndex].label.toLowerCase()?bt.c9.OFF:bt.c9.ON,o=(0,Ae.lm)(r.id,i);(0,D.L9)(he.jN,o)}))},t.prototype.setQuality=function(e){var t=this,n=this.props,i=n.dispatch,o=n.video,r=void 0===o?{id:""}:o;return i(s.controlActions.setQuality(e)).then((function(){t.refreshActiveTimer();var n=(0,Ae.oY)(r.id,e);(0,D.L9)(he.KW,n)}))},t.prototype._hotKeyHandler=function(e){var t=e.keyCode,n=e.altKey,i=e.ctrlKey,o=e.metaKey,r=e.shiftKey;if(!(n||i||o||r||document.activeElement&&"input"===document.activeElement.tagName.toLowerCase())){var a=this.props,s=a.requestFullscreen,l=a.playerStore,c=l.playerState,u=l.volume.isMuted,d=l.captions,p=d.captionsList,m=d.captionsIndex,h=Ft.F7.space,v=Ft.F7.k,f=Ft.F7.arrowLeft,y=Ft.F7.j,E=Ft.F7.arrowRight,g=Ft.F7.l,A=Ft.F7.m,C=Ft.F7.f,b=Ft.F7.c,S=Ft.F7.escape;switch(t){case h:e.preventDefault();case v:c===z.State.paused?this.play(!0):this.pause(!0);break;case f:case y:if(this.isAd())break;this.stepRewind();break;case E:case g:if(this.isAd())break;this.stepForward();break;case A:var P=!u;this.setVolume({isMuted:P});break;case C:s(!(0,Se.aP)());break;case S:(0,Se.aP)()&&s(!1);break;case b:if(this.isAd())break;var w=m+1>=p.length?0:m+1;this.setCaptions(w)}}},t.prototype.isAd=function(){return this.props.playerStore.contentType===z.PLAYER_CONTENT_TYPE.ad},t.prototype.setInactive=function(){var e=this.props.dispatch;this.setState({active:!1}),clearTimeout(this.renderControlTimeout),this.renderControlTimeout=window.setTimeout((function(){e((0,pe.qQ)(!1))}),200)},t.prototype.showOverlayOnStartPlayback=function(){var e=this;this.props.playerStore.playerState===z.State.playing&&(this.hideActiveTimer||(this.hideActiveTimer=window.setTimeout((function(){e.setState({isShowingOverlayOnStartPlayback:!1}),e.props.playerStore.playerState!==z.State.playing||e.state.captionSettingsVisible||e.setInactive()}),E.rnQ)))},t.prototype.refreshActiveTimer=function(){if(!this.state.isShowingOverlayOnStartPlayback){var e=this.props,t=e.playerStore.playerState,n=e.dispatch;clearTimeout(this.hideActiveTimer),clearTimeout(this.renderControlTimeout),this.state.active||(this.setState({active:!0}),n((0,pe.qQ)(!0))),t!==z.State.playing||this.state.captionSettingsVisible||(this.hideActiveTimer=window.setTimeout(this.setInactive,E.zQj))}},t.prototype.onClick=function(e){(0,this.props.dispatch)((0,pe.qQ)(!0)),this.isAd()||(this.state.captionSettingsVisible?this.setState({captionSettingsVisible:!1}):(e.stopPropagation(),this.togglePlay()))},t.prototype.onDoubleClick=function(e){e.target!==this.playerOverlayRef.current||this.props.requestFullscreen(!(0,Se.aP)())},t.prototype.render=function(){var e,t,n,i=this.props,o=i.video,r=i.requestFullscreen,a=i.showAutoPlay,s=i.className,l=i.isMobile,c=i.castApiAvailable,d=i.title,m=i.seriesTitle,h=i.thumbnailSprites,v=i.playerStore,f=v.playerState,y=v.progress,E=y.position,g=y.duration,A=y.bufferPosition,C=y.isBuffering,b=v.volume,S=b.isMuted,P=b.volume,w=v.captions,R=w.captionsIndex,T=w.captionsList,N=v.quality,k=N.qualityIndex,M=N.qualityList,L=N.isHD,I=v.ad.adSequence,_=i.isFromAutoplay,D=i.basicCaptionSettings,V=i.handleCaptionSizeChange,x=i.handleCaptionBackgroundChange,Z=i.isLoggedIn,O=i.castReceiverState,B=i.adBreaks,U=i.renderControls,Y=this.state,F=Y.active,H=Y.ratingActive,W=Y.showLargePlayButton,q=Y.isShowingOverlayOnStartPlayback,K=this.isAd(),G=!K&&C,j=!K&&a,Q=f===z.State.paused&&Math.abs(E-g)>1,X=u()(Wn,((e={})[Kn]=!F,e[qn]=K,e),s),J=u()($n,((t={})[ei]=F,t[qn]=K,t[ti]=j,t)),$=u()(jn,((n={})[zn]=F||H,n)),ee=p.createElement(Dt,{active:H,ratings:o.ratings}),te=p.createElement(Yt,{className:Qn,subtitle:m?d:"",subtitleClassName:Jn,title:m||d,titleClassName:Xn,ratingOverlay:ee,showTitle:F,showRating:H}),ne=c&&O!==window.cast.framework.CastState.NO_DEVICES_AVAILABLE,ie=q&&ne;return p.createElement("div",{className:X,onClick:l?void 0:this.onClick,onDoubleClick:l?void 0:this.onDoubleClick,onMouseMove:l?void 0:this.onMouseMove,onMouseLeave:l?void 0:this.onMouseLeave,onTouchStart:l?this.onTouchStart:void 0,onTouchMove:l?this.onTouchMove:void 0,onTouchEnd:l?this.onTouchEnd:void 0,onTouchCancel:l?this.onTouchCancel:void 0,ref:this.playerOverlayRef},W&&p.createElement("div",{className:bi},p.createElement(Pt.Z,{className:Si})),p.createElement(St.TransitionGroup,{component:"div",className:$},p.createElement(St.CSSTransition,{key:"title",timeout:200,classNames:Ni},te)),G?p.createElement(Ze.Z,{className:Gn}):null,p.createElement(St.TransitionGroup,{component:"div",className:J},p.createElement(St.CSSTransition,{key:"message",classNames:Ni,timeout:200},p.createElement("div",{className:ni},K?p.createElement("div",{key:"adMessage",className:ii},p.createElement(fn,{className:oi})):null,j?p.createElement(yn.ZP,{key:"autoplay",id:o.id,isEpisode:!!o.series_id,videoPaused:Q,isFromAutoplay:_}):null)),U?p.createElement(St.CSSTransition,{key:"control",classNames:Ni,timeout:200},p.createElement("div",{className:ri},p.createElement(En.Z,{bufferPosition:A,duration:g,isAd:K,isMobile:l,position:E,seek:this.seek,thumbnailSprites:h,enablePreview:!0,adBreaks:B}),p.createElement(Ti,{playerState:f,isAd:K,adSequence:I,isMuted:S,volume:P,captionsList:T,captionsIndex:R,setCaptions:this.setCaptions,toggleVolumeMute:this.toggleVolumeMute,updateVolume:this.updateVolume,isHD:L,qualityList:M,qualityIndex:k,setQuality:this.setQuality,requestFullscreen:r,play:this.explicitPlay,pause:this.explicitPause,stepRewind:this.stepRewind,stepForward:this.stepForward,isMobile:l,castApiAvailable:c,basicCaptionSettings:D,handleCaptionSizeChange:V,handleCaptionBackgroundChange:x,position:E,isLoggedIn:Z,shouldInitShowCastTip:ie,containerRef:this.playerOverlayRef,handleCaptionSettingsToggle:this.handleCaptionSettingsToggle,captionsSettingsVisible:this.state.captionSettingsVisible}))):null))},t}(p.Component),Mi=(0,h.$j)((function(e,t){var n,i,o,r,a,s=e.player,l=e.auth,c=e.ui,u=null!==(i=null===(n=e.chromecast)||void 0===n?void 0:n.castReceiverState)&&void 0!==i?i:"",d=null!==(r=null===(o=e.chromecast)||void 0===o?void 0:o.castApiAvailable)&&void 0!==r&&r,p=null===(a=e.video)||void 0===a?void 0:a.thumbnailSpritesById,m=t.video;return{castReceiverState:u,castApiAvailable:d,playerStore:s,thumbnailSprites:(null==p?void 0:p[(void 0===m?{id:""}:m).id])||E.H25,isLoggedIn:!(!l||!l.user),renderControls:c.renderControls}}),null,null,{forwardRef:!0})(ki),Li=function(e){function t(t){var n=e.call(this,t)||this;return n.onPlayerCreate=function(e){var t,i;e.on(z.PLAYER_EVENTS.play,(function(){var e;null===(e=n.overlayComponent.current)||void 0===e||e.showRatingOverlay()})),e.on(z.PLAYER_EVENTS.adStart,(function(){var e;null===(e=n.overlayComponent.current)||void 0===e||e.setRatingState(!1)})),e.on(z.PLAYER_EVENTS.adComplete,(function(){var e;null===(e=n.overlayComponent.current)||void 0===e||e.setShouldShowRating(!0)})),null===(i=(t=n.props).onPlayerCreate)||void 0===i||i.call(t,e)},n.overlayComponent=p.createRef(),n.props.webHlsUpgrade.logExposure(),n.props.webAutoplayDetection.logExposure(),n}return(0,a.ZT)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.video,i=e.belongSeries,o=e.prerollUrl,r=e.ready,a=e.trailerId,s=e.autoStart,l=void 0!==s&&s,c=e.startPosition,u=e.captionSettings,d=e.poster,m=e.onPlayerError,h=e.isMonitoringEnabled,v=e.userAgent,f=e.userId,y=e.experimentName,E=e.experimentTreatmentName,g=e.videoResource,A=e.webHlsUpgrade,C=e.performanceCollectorEnabled,b=u.background.toggle,S={fontSize:u.font.size,backgroundToggle:b},P=null;if(r){var w=this.props,R=w.isMobile,T=void 0!==R&&R,N=w.requestFullscreen,k=w.showAutoPlay,M=w.title,L=w.seriesTitle,I=w.isFromAutoplay,_=w.adBreaks,D=w.handleCaptionSizeChange,V=w.handleCaptionBackgroundChange;P=p.createElement(Mi,{ref:this.overlayComponent,video:n,requestFullscreen:N,showAutoPlay:k,isMobile:T,seriesTitle:L,title:M,adBreaks:_,isFromAutoplay:I,basicCaptionSettings:S,handleCaptionSizeChange:D,handleCaptionBackgroundChange:V})}return p.createElement("div",{className:t},p.createElement(Ct,{key:""+Qe()(g),data:n,belongSeries:i,prerollUrl:o,onPlayerCreate:this.onPlayerCreate,onPlayerError:m,autoStart:l,resumePos:c,trailerId:a,captionSettings:u,poster:d,playerType:ve.nf.hls,isMonitoringEnabled:h,userAgent:v,userId:f,experimentName:y,experimentTreatmentName:E,videoResource:g,analyticsConfig:Je().getAnalyticsConfig(),reuseVideoElement:!1,performanceCollectorEnabled:C,useHlsNext:A.getValue(),extraOptions:{shouldReportBufferChange:!1}}),P)},t}(p.Component),Ii=(0,P.Z)(Li,{webHlsUpgrade:C.Z,webAutoplayDetection:fe.Z}),_i=n(52294),Di=n(1794),Vi="LNexg",xi="FWz4L",Zi="OXG0E",Oi="nivP6",Bi="Uci7N",Ui="hWMim",Yi="S0FLJ",Fi="MEOoO",Hi="mXQKi",Wi="Rvbc3",qi="oltTC",Ki="T_zHn",Gi="ilAD4",ji="i_od0",zi="QENkJ",Qi=function(e){var t=e.className;return p.createElement(Ht.Z,{className:u()(xi,t),viewBox:"0 0 66 66"},p.createElement("path",{d:"M19.316 0L0 19.316v27.318l19.316 19.315h27.318l19.315-19.315V19.316L46.634 0H19.316zM1.5 46.013V19.937L19.937 1.5h26.076l18.436 18.437v26.076L46.013 64.449H19.937L1.5 46.013z"}),p.createElement("path",{d:"M38.16 28.66c0 3.128-.002 6.259.004 9.388.001.466-.156 1.051.544 1.173.657.115.782-.449.984-.88.885-1.897 1.758-3.799 2.65-5.692.589-1.245 1.697-1.558 2.843-.828.705.449.992 1.154.678 1.932-1.351 3.348-2.605 6.744-4.125 10.016-2.758 5.937-10.515 8.664-16.083 5.793-2.938-1.515-4.362-4.083-5.092-7.185-.633-2.688-.645-5.4-.575-8.13.096-3.76.17-7.52.254-11.279.006-.286.016-.574.045-.86.105-1.076.634-1.558 1.675-1.532 1.032.024 1.685.627 1.695 1.659.021 2.497.008 4.996.01 7.494 0 .23-.074.504.025.678.13.232.38.5.613.538.174.027.486-.25.582-.463.11-.242.06-.563.06-.848.005-3.417-.009-6.834.012-10.25.008-1.375 1.253-2.16 2.526-1.624.752.317 1.028.908 1.023 1.718-.02 3.157-.007 6.316-.006 9.474 0 .2-.07.444.018.594.152.26.4.46.61.685.224-.213.514-.391.655-.65.11-.203.037-.506.037-.764.002-3.905-.003-7.81.002-11.715.001-1.308.612-1.896 1.899-1.86 1.113.03 1.608.523 1.61 1.663.007 4.02.002 8.039.002 12.059 0 .2-.072.447.017.594.165.271.426.486.646.724.22-.247.594-.47.633-.744.095-.646.033-1.315.033-1.977 0-2.812-.01-5.626.006-8.44.01-1.248.888-1.974 2.088-1.784.87.14 1.398.752 1.4 1.676.007 3.214.003 6.43.003 9.646"}))},Xi=function(){var e=u()(xi,Wi);return p.createElement(Ht.Z,{className:e,viewBox:"0 0 67 67"},p.createElement("g",null,p.createElement("path",{className:qi,d:"M1 66h65V1H1z"}),p.createElement("path",{className:Ki,d:"M40 17h10v33h-6V28c-.44-.963-.433-1.861 0-3-.403-1.176-.396-2.068 0-3l-7 28h-6l-7-28c.396.932.403 1.824 0 3 .433 1.139.44 2.037 0 3v22h-6V17h10l6 26 6-26z"})))},Ji=(0,Ve.vU)({adblock:{defaultMessage:"Please disable your ad-blocker to watch this title.",id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:adblock"},adblockDesc:{defaultMessage:"For instructions on how to whitelist tubitv.com, visit our <customtag>support page</customtag>.",id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:adblockDesc"},unavailable:{defaultMessage:"Content Unavailable",id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:unavailable"},unavailableDesc:{defaultMessage:"Sorry, this video is not currently available.",id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:unavailableDesc"},castUnavailable:{defaultMessage:"We're sorry, but Chromecast is not available for this title.",id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:castUnavailable"},castUnavailableDesc:{defaultMessage:"Stop casting to watch this title in our web player",id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:castUnavailableDesc"},error:{defaultMessage:"Sorry, there was a problem loading the video player.",id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:error"},errorDesc:{defaultMessage:"Please try to reload the page.",id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:errorDesc"},errorDesc2:{defaultMessage:"If you are using an ad-blocker, please disable it or <customtag>whitelist tubitv.com</customtag>",id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:errorDesc2"},networkError:{defaultMessage:"No internet connection.",id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:networkError"},networkErrorDesc:{defaultMessage:"Please try again when your connection is available.",id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:networkErrorDesc"},errorDesc3:{defaultMessage:"If the problem persists, please contact us at <supportLink>tubitv.com/support</supportLink>",id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:errorDesc3"},matureSignIn:{defaultMessage:"Sign In",id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:matureSignIn"},matureRegister:{defaultMessage:"Don't have an account? <customtag>Register</customtag>",id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:matureRegister"},kidsModeMessage:{defaultMessage:"This video is rated above your allowed level",id:"src/web/features/playback/components/VideoDetail/WarningBlocks/WarningBlocks:kidsModeMessage"}}),$i=function(e){return p.createElement(De.Z,{to:"https://tubitv.com/support"},e)},eo=function(e){var t=e.className,n=u()(Vi,Gi,t);return p.createElement("div",{className:n,"data-nosnippet":!0},p.createElement(Qi,{className:ji}),p.createElement("div",{className:Zi},p.createElement("div",{className:Oi},p.createElement(xe.Z,Ji.adblock)),p.createElement("div",{className:Bi},p.createElement(xe.Z,(0,r.Z)({},Ji.adblockDesc,{values:{customtag:function(e){var t=e[0];return p.createElement(De.Z,{to:"https://tubitv.com/help-center/Setup-and-Troubleshooting/articles/4410093830939"},t)}}})))))},to=function(e){var t=e.message,n=e.showLogin,i=void 0===n||n,o=e.pathname,a=e.className,s=u()(Vi,Hi,a);return p.createElement("div",{className:s},p.createElement(Xi,null),p.createElement("div",{className:Zi},p.createElement("div",{className:Bi},t)),i?p.createElement("div",{className:Ui},p.createElement(se.rU,{to:Oe.Z6.signIn+"?redirect="+o},p.createElement(Di.Z,null,p.createElement(xe.Z,Ji.matureSignIn))),p.createElement("br",null),p.createElement("span",{className:Yi},p.createElement(xe.Z,(0,r.Z)({},Ji.matureRegister,{values:{customtag:function(e){var t=e[0];return p.createElement(De.Z,{to:Oe.Z6.register+"?redirect="+o},t)}}})))):null)},no=function(e){var t=e.className,n=u()(Vi,Fi,t);return p.createElement("div",{className:n},p.createElement("div",{className:Zi},p.createElement("div",{className:Oi},p.createElement(xe.Z,Ji.unavailable)),p.createElement("div",{className:Bi},p.createElement(xe.Z,Ji.unavailableDesc))))},io=function(e){var t=e.className,n=e.rating,i=void 0===n?void 0:n,o=u()(Vi,Fi,t);return p.createElement("div",{className:o},i&&i.length?p.createElement(_i.Z,{text:i[0].value,className:zi}):null,p.createElement("div",{className:Zi},p.createElement("div",{className:Oi},p.createElement(xe.Z,Ji.kidsModeMessage))))},oo=function(e){var t=e.className,n=u()(Vi,Fi,t);return p.createElement("div",{className:n,"data-nosnippet":!0},p.createElement("div",{className:Zi},p.createElement("div",{className:Oi},p.createElement(xe.Z,Ji.error)),p.createElement("div",{className:Bi},p.createElement(xe.Z,Ji.errorDesc)),p.createElement("div",{className:Bi},p.createElement(xe.Z,(0,r.Z)({},Ji.errorDesc2,{values:{customtag:function(e){var t=e[0];return p.createElement(De.Z,{to:"https://tubitv.com/help-center/Setup-and-Troubleshooting/articles/4410093830939"},t)}}}))),p.createElement("div",{className:Bi},p.createElement(xe.Z,(0,r.Z)({},Ji.errorDesc3,{values:{supportLink:$i}})))))},ro=function(e){var t=e.className,n=u()(Vi,Fi,t);return p.createElement("div",{className:n,"data-nosnippet":!0},p.createElement("div",{className:Zi},p.createElement("div",{className:Oi},p.createElement(xe.Z,Ji.networkError)),p.createElement("div",{className:Bi},p.createElement(xe.Z,Ji.networkErrorDesc)),p.createElement("div",{className:Bi},p.createElement(xe.Z,(0,r.Z)({},Ji.errorDesc3,{values:{supportLink:$i}})))))},ao=function(e,t){(0,D.p6)({type:g.fe.videoInfo,subtype:g.OD.PLAYBACK.WEB_MOBILE_PLAY_BUTTON,message:{id:e,title:t}})},so="W9F1c",lo="Q5asw",co="ywUIB",uo="vFuUs",po="_ldbK",mo="b3cjC",ho="NRDhw",vo="Fo1A1",fo="heENJ",yo="MbKMG",Eo="JHpt9",go="qUsGu",Ao="CcEnu",Co="YKF55",bo="wf95r",So="aeV61",Po=(0,Ve.vU)({play:{defaultMessage:"Play",id:"src/web/features/playback/components/VideoDetail/PlayerArea/MobilePlayButton:play"}}),wo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getResumePosition=function(){var e=t.props.viewHistory;if(!e)return 0;var n=e.contentType,i=e.position,o=e.id,r=i||0;if("series"===n){var a=void 0,s=e.episodes||[];for(var l in s)if(s[l].contentId===parseInt(o,10)){a=s[l];break}r=a?a.position:0}return r},t.trackMobilePlayButtonClick=function(){var e=t.props,n=e.id,i=e.title;ao(n,i)},t}return(0,a.ZT)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.viewHistory,i=t.duration,o=t.isInWebRefresh,r=n?this.getResumePosition():0;return p.createElement("div",{className:Eo,onClick:this.trackMobilePlayButtonClick},p.createElement(Pt.Z,{className:u()(go,(e={},e[Ao]=o,e))}),o?p.createElement("div",{className:Co},p.createElement(xe.Z,Po.play)):null,r?p.createElement("div",{className:bo},p.createElement("div",{className:So,style:{width:r/i*100+"%"}})):null)},t}(p.PureComponent),Ro=(0,Ve.vU)({parentalRestrictedMessage:{defaultMessage:"This video is rated above your allowed level. Please adjust your <parentallink>Parental Controls</parentallink> settings.",id:"src/web/features/playback/components/VideoDetail/PlayerArea/PlayerArea:parentalRestrictedMessage"},loginGatedMessage:{defaultMessage:"Mature rating. Sign in or register to continue watching.",id:"src/web/features/playback/components/VideoDetail/PlayerArea/PlayerArea:loginGatedMessage"}}),To=function(e){function t(t){var n=e.call(this,t)||this;return n.scrollObserver=null,n.castVideo=function(){var e=n.props,t=e.video.id;(0,e.castVideo)(t)},n.playerAreaRef=p.createRef(),n}return(0,a.ZT)(t,e),t.prototype.componentDidMount=function(){var e=this;if(this.props.isInWebRefresh){var t=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);this.scrollObserver=(0,le.R)(window,"scroll").subscribe((function(){var n=e.playerAreaRef.current;if(n){var i=(.8*t-window.scrollY)/(.8*t);n.style.opacity=String(i>0?i:0)}}))}},t.prototype.componentWillUnmount=function(){this.scrollObserver&&this.scrollObserver.unsubscribe()},t.prototype.render=function(){var e,t=this.props,n=t.isMobile,i=t.video,o=t.viewHistory,a=t.belongSeries,s=t.ADBFound,l=t.isLoggedIn,c=t.prerollUrl,d=t.onPlayerCreate,m=t.removePlayer,h=t.aboveParental,v=t.showAutoPlay,f=t.mobilePlaying,y=t.mobilePlaybackEnabled,E=t.playerReady,g=t.isCasting,A=t.userId,C=t.seriesTitle,b=t.isContentReady,S=t.autoStart,P=t.startPosition,w=t.captionSettings,R=t.playerError,T=t.onPlayerError,N=t.isMonitoringEnabled,k=t.userAgent,M=t.experimentName,L=t.experimentTreatmentName,I=t.isFullscreen,_=t.isFromAutoplay,D=t.handleCaptionSizeChange,x=t.handleCaptionBackgroundChange,Z=t.isContentLoginGated,O=t.isKidsModeEnabled,B=t.videoResource,U=t.adBreaks,Y=t.isInWebRefresh,F=t.handleMobilePlayClick,H=t.requestFullscreen,W=t.performanceCollectorEnabled,q=i.id,K=i.title,G=i.type,j=i.duration,Q=(0,Re.Gr)({type:G,id:q,title:K}),X=(0,V.Qk)(i);if(b&&!B)return m(),p.createElement(no,null);if(g)return m(),p.createElement("div",{className:fo},p.createElement("div",null,p.createElement(je,{className:yo,contentId:q,castContent:this.castVideo})));if(n&&!y){var J=this.context.deviceId;return p.createElement("a",{href:(0,Re.Tv)(i,J)},p.createElement(wo,{viewHistory:o,duration:j,title:K,id:q}))}if(s)return m(),p.createElement(eo,null);if(h&&!l&&O)return m(),p.createElement(io,{rating:i.ratings});var $=h&&l;if($||Z){m();var ee=$?p.createElement(xe.Z,(0,r.Z)({},Ro.parentalRestrictedMessage,{values:{parentallink:function(e){var t=e[0];return p.createElement(De.Z,{to:Oe.Z6.parentalControl+"?ref="+Q},t)}}})):p.createElement(xe.Z,Ro.loginGatedMessage);return p.createElement(to,{message:ee,showLogin:Z,pathname:Q})}if(R){if(m(),R.type===z.ErrorType.SETUP_ERROR&&R.fatal)return p.createElement(oo,null);if(R.type===z.ErrorType.NETWORK_ERROR)return p.createElement(ro,null)}var te=n&&!f,ne=!E||te,ie=u()(co,((e={})[po]=ne,e[ho]=I,e)),oe=p.createElement(Ii,{className:mo,video:i,belongSeries:a,prerollUrl:c,onPlayerCreate:d,isMobile:n,autoStart:S,requestFullscreen:H,showAutoPlay:v,seriesTitle:C,title:K,ready:!ne,startPosition:P,captionSettings:w,poster:X,onPlayerError:T,isMonitoringEnabled:N,userAgent:k,userId:A,experimentName:M,experimentTreatmentName:L,isFromAutoplay:_,handleCaptionSizeChange:D,handleCaptionBackgroundChange:x,videoResource:B,adBreaks:U,performanceCollectorEnabled:W});return p.createElement("div",{className:so},p.createElement("section",{className:ie,ref:this.playerAreaRef},b?oe:null,n||b&&!ne?null:p.createElement("div",{className:uo},p.createElement(Ze.Z,{className:vo}))),n&&b&&te?p.createElement("div",{onClick:F,className:lo},p.createElement(wo,{isInWebRefresh:Y,viewHistory:o,duration:j,title:K,id:q})):null)},t}(p.PureComponent),No={contentContainer:"dQhZw",reduceBottomMargin:"SLgbq",transportShowup:"Le3zO",titleImage:"Nxx1i",positionPlayer:"VPkoh",PlaybackInfoWrapper:"CZOGn",collapsed:"cCMND",fullscreen:"dd9kM",hidden:"_Rpva",positionContentDetail:"zHQGA",noPlayer:"FHwR7",fadeIn:"YtJ0K",fadeInUp:"QwvMZ",slideDownAppear:"nNiXG",shake:"MZm3y",zoomIn:"ldjQs",rotate:"Ffp2G"},ko=function(e){var t=e.children,n=e.playerErrorDetails,i=e.drmKeySystem,o=e.isContentReady,r=e.onChange,a=e.retryCount,s=e.video,l=(e.experimentName,e.experimentTreatmentName,(0,p.useMemo)((function(){if(!o)return null;var e=s.video_resources,t=void 0===e?[]:e,n=new Ee.ZP({drmKeySystem:i,isDRMSupported:i!==z.DrmKeySystem.Invalid,videoResources:t});return t.length>0&&0===n.getAllLevels().length&&(0,ge.N_)({content_id:s.id}),n}),[i,o,a,s]));return(0,p.useEffect)((function(){if(l){var e=l.getCurrentResource();r(e)}}),[l]),(0,p.useEffect)((function(){if(l){var e=void 0;switch(n){case z.PLAYER_ERROR_DETAILS.HDCP_INCOMPLIANCE:case z.PLAYER_ERROR_DETAILS.KEY_SYSTEM_LICENSE_REQUEST_FAILED:case z.PLAYER_ERROR_DETAILS.KEY_SYSTEM_LICENSE_INTERNAL_ERROR:e=l.fallback(),r(e);break;case z.PLAYER_ERROR_DETAILS.UNKNOWN_DRM_ERROR:e=l.fallback({skipDRM:!0}),r(e)}}}),[n,l]),p.createElement("div",null,t,null)},Mo=(Ln=Mn=function(e){function t(e){(0,q.Z)(this,t);var n=(0,G.Z)(this,(t.__proto__||W()(t)).call(this,e));return n.handleContentUnavailable=function(){var e=n.props,t=e.isLoggedIn,i=e.dispatch,o=e.isContentUnavailable,r=e.isKidsModeEnabled;o&&!r&&t&&i((0,de.cw)())},n.setPlayerReady=function(){n.state.playerReady||(n.setState({playerReady:!0}),clearTimeout(n.playerReadyTimer))},n.removePlayer=function(){n.viewHistoryTimer&&clearInterval(n.viewHistoryTimer),n.playerReadyTimer&&clearTimeout(n.playerReadyTimer),n.player&&n.player.remove&&(n.player.remove(),n.player=null)},n.handleFullscreenChange=function(){var e=n.props,t=e.isMobile,i=e.dispatch,o=e.video.id,r=!!(0,Se.aP)();i((0,pe.K1)(r));var a=r?"ON":"OFF",s=(0,Ae.o$)(o,a);if((0,D.L9)(he.KU,s),t){if(!r)return n.setMobilePlayback(!1);(0,Se.OG)("landscape")}},n.onPlayerError=function(e){var t=n.props.video.id;e.fatal&&(e.type===z.ErrorType.SETUP_ERROR?(S.ZP.error({error:e,contentId:t},"Player initialization error"),n.setState({playerError:e})):e.type===z.ErrorType.NETWORK_ERROR&&(S.ZP.error({error:e,contentId:t},"Player network error"),n.setState({playerError:e})))},n.getFallbackPosition=function(){var e=n.props.startPosition,t=n.player?n.player.getPosition():0;return t>1?t:e},n.onVisualQualityChange=function(e){var t=e.qualityIndex,i=e.level,o=n.props,r=o.videoResource,a=o.video.id;(0,D.p6)({type:g.fe.videoInfo,subtype:g.OD.PLAYBACK.VISUAL_QUALITY_CHANGE,message:{qualityIndex:t,level:i,content_id:a,playback_type:r&&r.type,url:n.player&&n.player.getMediaUrl(),position:n.player&&n.player.getPosition(),player:E.aab}})},n.onPlayerCreate=function(e){var t=n.props,i=t.video,o=i.id,a=i.duration,s=i.title,l=t.startPosition,c=t.initPlayer,u=t.dispatch,d=t.isLoggedIn;n.playerReadyTimer=setTimeout((function(){S.ZP.error({contentId:o},"Web player ready event timeout")}),45e3),n.player=e,c(n.player,l,a),n.attachPlayProgressEvent(),n.attachHistoryHandler(),n.attachAnalyticsEvents(),n.player.once(z.PLAYER_EVENTS.ready,n.setPlayerReady),n.player.on(z.PLAYER_EVENTS.captionsChange,(function(e){var t=e.captionsIndex,i=n.player.getCaptionsList()[t],o=i.lang,r=i.label,a=o||r,s="off"===a.toLowerCase()?"":a;u((0,me.sI)(s))})),n.attachUpNext(),n.attachAdRules(),n.player.on(z.PLAYER_EVENTS.visualQualityChange,n.onVisualQualityChange),n.player.on(z.PLAYER_EVENTS.error,(function(e){var t=n.props.videoResource;if((0,ge.RC)(e,{contentId:o,cdn:n.player&&n.player.getCDN(),position:n.player&&n.player.getPosition(),duration:n.player&&n.player.getDuration(),videoResourceType:t&&t.type,hdcp:n.getHDCP(),player:E.aab}),e&&"Media attach timeout."===e.message)S.ZP.error({contentId:o},e.message);else if(S.ZP.error({err:e,contentId:o},"Web player error"),e&&e.name&&"NotAllowedError"===e.name)n.setState({allowAutostart:!1});else{var i=n.getFallbackPosition();if(e&&(e.type===z.PLAYER_ERROR_TYPE.DRM||e.details&&e.details.startsWith("keySystem")))switch(e.details){case z.PLAYER_ERROR_DETAILS.KEY_SYSTEM_LICENSE_INTERNAL_ERROR:n.setState({playerErrorDetails:e.details,resumePosition:i});break;case z.PLAYER_ERROR_DETAILS.HDCP_INCOMPLIANCE:case z.PLAYER_ERROR_DETAILS.KEY_SYSTEM_INVALID_HDCP_VERSION:case z.PLAYER_ERROR_DETAILS.KEY_SYSTEM_LICENSE_INVALID_STATUS:n.setState({playerErrorDetails:z.PLAYER_ERROR_DETAILS.HDCP_INCOMPLIANCE,resumePosition:i});break;case z.PLAYER_ERROR_DETAILS.KEY_SYSTEM_LICENSE_REQUEST_FAILED:n.setState({playerErrorDetails:e.details});break;default:n.setState({playerErrorDetails:z.PLAYER_ERROR_DETAILS.UNKNOWN_DRM_ERROR})}}})),n.player.on(z.PLAYER_EVENTS.adBeaconFail,(function(e,t){(0,D.p6)({type:g.fe.adInfo,subtype:g.OD.AD.AD_BEACON_FAILED,message:(0,r.Z)({},e,t)})})),n.player.on(z.PLAYER_EVENTS.adError,(function(e,t){var i=t.ad,r=t.adPosition,a=t.adsCount,s=t.adSequence,l=t.isPreroll,c=t.seamless;(0,ge.GT)(e,{contentId:o,position:n.player&&n.player.getPosition(),url:i.video,id:i.id,duration:i.duration,index:s,count:a,adPosition:r,isPreroll:l,seamless:c,player:E.aab}),S.ZP.error({err:e,contentId:o},"Web player ad error"),e&&e.name&&"NotAllowedError"===e.name&&n.setState({allowAutostart:!1})})),n.player.on(z.PLAYER_EVENTS.play,(function(){(0,D.IW)(he.OP,{contentId:o,title:s})}));var p=(0,me.sy)();p&&(n.props.dispatch((0,me.F7)(p)),n.updateCaptionStylesInPlayer(JSON.parse(p))),d||n.checkAndRemoveStoredPosition()},n.handleResize=function(){n.setState({vw:window.innerWidth})},n.handleCaptionSizeChange=function(e){n.handleBasicSettingUpdate({setting:"font",attributeKey:"size",attributeValue:Me.ER[e]})},n.handleCaptionBackgroundChange=function(e){n.handleBasicSettingUpdate({setting:"background",attributeKey:"toggle",attributeValue:Me.xl[e]})},n.handleBasicSettingUpdate=function(e){n.props.dispatch((0,me.FT)(e)).then((function(e){return n.updateCaptionStylesInPlayer(e)}))},n.setMobilePlayback=function(e){if(n.player){var t=n.props.video.id;if(e){n.player.play();var i=(0,Ae.$v)(t,"RESUMED");(0,D.L9)(he.V3,i)}else{n.player.pause();var o=(0,Ae.$v)(t,"PAUSED");(0,D.L9)(he.V3,o)}n.setState({mobilePlaying:e})}},n.requestFullscreen=function(e){if(n.fullscreenEl){var t=n.fullscreenEl;e?(0,Se.rM)(t):((0,Se.Qg)(),n.state.mobilePlaying&&n.setMobilePlayback(!1))}},n.handleMobilePlayClick=function(){var e=n.props,t=e.dispatch,i=e.webMobileEnhancedRegistration,o=e.hasShownRegistrationPrompt,r=e.video,a=e.isLoggedIn,s=e.isInMobileWhitelist;if(!e.isMobile||s){if(!a){i.logExposure();var l=i.getValue();if(l===ye.rG.forced)return void t((0,pe.EH)({isOpen:!0}));if(l===ye.rG.optional&&!o)return void t((0,pe.EH)({isOpen:!0,title:r.id,onClose:function(){n.handleMobilePlayClick()}}))}n.setMobilePlayback(!0),n.requestFullscreen(!0)}else{var c=n.context.deviceId;window.location.href=(0,Re.Tv)(r,c)}},n.handleVideoResourceChange=function(e){var t=n.state,i=t.playerErrorDetails,o=t.videoResource;n.player&&!ne()(o,e)&&n.unmountPlayer();var a,s={videoResource:e};if(i)if(e){s=(0,r.Z)({},s,{playerErrorDetails:null});var l={content_id:n.props.video.id,failed_hdcp:o.license_server.hdcp_version,failed_type:o.type,failed_url:(0,X.G1)(o.manifest.url),fallback_hdcp:ee()(e,["license_server","hdcp_version"],""),fallback_type:e.type,fallback_url:(0,X.G1)(e.manifest.url)};(0,D.p6)({level:"error",type:g.fe.videoLoad,subtype:g.OD.PLAYBACK.DRM_FALLBACK,message:l}),void 0===a&&(a=D.HO.apiClient),a.post("/oz/videos/fallback-metrics")}else n.showDRMErrorModal(i);n.setState(s)},n.handleDrmErrorModalClose=function(e){var t=0,i={isDrmModalOpen:!1,playerErrorDetails:null};if(e){var o=n.props.video,a=n.state,s=a.playerErrorDetails;t=a.retryCount+1,(0,D.p6)({type:g.fe.videoInfo,subtype:g.OD.PLAYBACK.VIDEO_RETRY,message:{content_id:o.id,reason:s,retry:t}}),i=(0,r.Z)({},i,{retryCount:t})}n.setState(i)},n.state={showAutoPlay:!1,vw:e.isMobile?E.j$L.sm:E.j$L.xl,mobilePlaying:!1,playerReady:!1,playerError:null,allowAutostart:!0,isDrmModalOpen:!1,playerErrorDetails:null,retryCount:0,resumePosition:0,videoResource:null},n.handleResize=oe()(n.handleResize,250),n.fullscreenEl=(0,Se.aP)()||document.body,(0,ue.MF)({showDRMErrorModal:function(){n.showDRMErrorModal(z.PLAYER_ERROR_DETAILS.KEY_SYSTEM_LICENSE_REQUEST_FAILED)},showHDCPErrorModal:function(){n.showDRMErrorModal(z.PLAYER_ERROR_DETAILS.HDCP_INCOMPLIANCE)}}),n}return(0,j.Z)(t,e),(0,K.Z)(t,[{key:"componentDidMount",value:function(){var e,t,n,i,r,a=this;this.resizeSource=(0,le.R)(window,"resize").pipe((0,ce.b)(50)).subscribe(this.handleResize),this.handleResize(),this.props.canAutoplay||(e={muted:!1},t=e.muted,n=void 0!==t&&t,i=e.timeout,r=void 0===i?0:i,new(o())((function(e){var t,i=document.createElement("video");i.src="data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAK21kYXTeAgBMYXZjNTguOTEuMTAwAEIgCMEYOCEQBGCMHCEQBGCMHAAAAv9tb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAARgABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACKXRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAARgAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC4AAAQAAAEAAAAAAaFtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAMAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAFMbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAEQc3RibAAAAGpzdHNkAAAAAAAAAAEAAABabXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAA2ZXNkcwAAAAADgICAJQABAASAgIAXQBUAAAAAAfQAAAAPswWAgIAFEhBW5QAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAwAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAMAAAABAAAAIHN0c3oAAAAAAAAAAAAAAAMAAAAXAAAABgAAAAYAAAAUc3RjbwAAAAAAAAABAAAALAAAABpzZ3BkAQAAAHJvbGwAAAACAAAAAf//AAAAHHNiZ3AAAAAAcm9sbAAAAAEAAAADAAAAAQAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTguNDUuMTAw",i.setAttribute("playsinline","true"),i.autoplay=!0,i.muted=n,r>0&&(t=window.setTimeout((function(){o(!1)}),r));var o=function(n){t&&window.clearTimeout(t),e(n)};try{i.play().then((function(){o(!0)})).catch((function(){o(!1)}))}catch(e){o(!1)}}))).then((function(e){a.props.dispatch((0,s.setAutoplayCapability)(e))})),(0,Se.Oo)(document,E.i1k,this.handleFullscreenChange),this.handleContentUnavailable()}},{key:"componentDidUpdate",value:function(e){!e.isContentReady&&this.props.isContentReady&&this.handleContentUnavailable()}},{key:"componentWillUnmount",value:function(){(0,Se.xg)(document,E.i1k,this.handleFullscreenChange),this.resizeSource.unsubscribe(),this.unmountPlayer()}},{key:"unmountPlayer",value:function(){if(this.props.resetPlayer(),this.player){var e=this.props.video.id,t=this.player.getPosition();this.updateHistory(t,{syncHistoryWithServer:!0}),this.removePlayer(),this.secondsOfViewTime<=10&&(N.ZP.trackPlayProgressEvent({contentId:e,resumePos:t,viewTime:this.secondsOfViewTime,isAutoplay:(0,ue.eY)().autoplay}),this.secondsOfViewTime=0)}}},{key:"attachGlobalMethod",value:function(){var e=this,t=this.props.video,n=t.duration,i=t.credit_cuepoints,o=void 0===i?{}:i;window.tubiPlayer={seekTo:function(t){if(F()(t))e.player.seek(t);else if(/^\d+%$/.test(t)){var i=(0,Q.clamp)(parseFloat(t)/100,0,1);e.player.seek(Math.floor(i*n))}else{if("credits"!==t||!o.postlude)throw new Error("Unrecognized value for position when calling tubiPlayer.seekTo("+t+")");e.player.seek(o.postlude)}}}}},{key:"checkAndRemoveStoredPosition",value:function(){window.location.search.indexOf(E.bFy)>-1&&window.history.replaceState(null,null,window.location.href.replace(/\?startPos=\d*/,""))}},{key:"attachUpNext",value:function(){var e=this,t=this.props,n=t.nextContextVideo,i=t.video,o=i.duration,r=i.credit_cuepoints,a=void 0===r?{}:r;if(n)this.player.on(z.PLAYER_EVENTS.complete,(function(){e.playNextContextVideo()}));else{var s=a.postlude||o-1,l=!1;this.player.on(z.PLAYER_EVENTS.time,(function(t){var n=t.position;!l&&n>=s?(l=!0,e.setState({showAutoPlay:!0})):l&&n<s&&(l=!1,e.setState({showAutoPlay:!1}))}))}}},{key:"getContentAdUrl",value:function(e,t){var n=this.context.deviceId,i=this.props,o=i.video,r={contentId:o.id,deviceId:n,position:e,publisherId:o.publisher_id,userId:i.userId,coppaEnabled:i.isKidsModeEnabled,resumeType:t};return(0,we.LV)(r)}},{key:"updateHistory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.syncHistoryWithServer,i=void 0!==n&&n,o=this.props,r=o.video.id,a=o.belongSeries,s=o.addToHistory,l=o.playerContentType,c=o.isLoggedIn,u=Math.floor(e);c&&s&&l!==z.PLAYER_CONTENT_TYPE.ad&&0!==u&&s({contentId:r,contentType:a?"episode":"movie",parentId:a||null,position:u},{syncHistoryWithServer:i})}},{key:"attachHistoryHandler",value:function(){var e=this,t=this.props,n=t.addToHistory,i=t.video.duration;n&&(clearInterval(this.viewHistoryTimer),this.viewHistoryTimer=setInterval((function(){if(e.props.playerState===z.State.playing&&e.player){var t=e.player.getPosition();0!==Math.floor(t)&&e.updateHistory(t)}}),ve.u7),this.player.on(z.PLAYER_EVENTS.seek,(function(t){var n=t.offset;e.updateHistory(n)})),this.player.on(z.PLAYER_EVENTS.complete,(function(){e.updateHistory(i)})))}},{key:"getHDCP",value:function(){var e=this.props.videoResource;return e&&e.license_server&&e.license_server.hdcp_version}},{key:"attachAnalyticsEvents",value:function(){var e=this,t=this.props,n=t.startPosition,i=t.video,o=i.id,r=i.has_subtitle,a=!1;this.player.on(z.PLAYER_EVENTS.firstFrame,(function(){if(!a){a=!0;var t=e.state.videoResource;t&&N.ZP.trackStartVideoEvent({contentId:o,resumePos:n,isAutoplay:(0,ue.eY)().autoplay,videoResourceType:t.type,videoResourceUrl:t.manifest.url,hasSubtitles:r})}}));var s=function(){var t=(0,Ae.kG)(o,e.player.getPosition());(0,D.L9)(he.EU,t)};this.player.on(z.PLAYER_EVENTS.adPodComplete,s),this.player.on(z.PLAYER_EVENTS.adPodFetchError,s),this.player.on(z.PLAYER_EVENTS.adPodEmpty,s),this.player.on(z.PLAYER_EVENTS.startupPerformance,(function(t){var n=t.isAd,i=t.metrics,o=t.isAfterMidroll,r=g.OD.PLAYBACK,a=r.VOD_PERFORMANCE_METRIC,s=r.AD_PERFORMANCE_METRIC,l=e.props.videoResource;(0,D.p6)({type:g.fe.videoInfo,subtype:n?s:a,message:n?{metrics:i}:{content_id:e.contentId,metrics:i,isAfterMidroll:o,videoResourceType:l&&l.type,hdcp:e.getHDCP()}}),n||function(e,t){void 0===t&&(t=D.HO.apiClient),t.post("/oz/performance/player-metrics",{data:{metrics:e}})}(i)})),this.player.on(z.PLAYER_EVENTS.enterPictureInPicture,(function(){(0,D.p6)({type:g.fe.videoInfo,subtype:g.OD.ENTER_PICTURE_IN_PICTURE,message:{content_id:e.contentId}})})),this.player.on(z.PLAYER_EVENTS.leavePictureInPicture,(function(){(0,D.p6)({type:g.fe.videoInfo,subtype:g.OD.LEAVE_PICTURE_IN_PICTURE,message:{content_id:e.contentId}})}))}},{key:"adsDisabled",value:function(){return!1}},{key:"prerollDisabled",value:function(){return["noPreroll","noOdd"].includes("default")}},{key:"isPrerollEnabled",value:function(){return!this.adsDisabled()&&!this.prerollDisabled()}},{key:"attachAdRules",value:function(){var e=this;if(!this.adsDisabled()){var t=this.props.adBreaks.reduce((function(e,t){return 0!==t&&(e[t]={adPlayed:!1}),e}),{});this.player.on(z.PLAYER_EVENTS.time,(function(n){var i=n.position,o=Math.floor(i);t.hasOwnProperty(o)&&!t[o].adPlayed&&(t[o].adPlayed=!0,e.player.playAdTag(e.getContentAdUrl(o)))})),this.player.on(z.PLAYER_EVENTS.seek,(function(t){var n=t.offset;if(!(t.position<=1)){var i=Math.floor(n);e.player.once(z.PLAYER_EVENTS.seeked,(function(){e.player.playAdTag(e.getContentAdUrl(i))}))}}))}}},{key:"attachPlayProgressEvent",value:function(){var e=this,t=this.props.video.id,n=this.player.getPosition();this.secondsOfViewTime=0,this.player.on(z.PLAYER_EVENTS.time,(function(i){var o=i.position,r=Math.floor(o);r!==n&&(n=r,e.secondsOfViewTime++),e.secondsOfViewTime>=10&&(N.ZP.trackPlayProgressEvent({contentId:t,resumePos:o,viewTime:e.secondsOfViewTime,isAutoplay:(0,ue.eY)().autoplay}),e.secondsOfViewTime=0)}))}},{key:"playNextContextVideo",value:function(){var e=this.props.nextContextVideo;this.context.router.push((0,Re.Pl)({video:e}))}},{key:"updateCaptionStylesInPlayer",value:function(e){var t=(0,Ce.oS)(e);this.player.setCaptionsStyles(t)}},{key:"getAutoStart",value:function(){if(this.props.isMobile)return!1;if(window.__Cypress__)return!1;var e=this.props,t=e.canAutoplay,n=e.autoStart;return!!(this.state.playerReady&&t&&this.state.allowAutostart)||t&&this.state.allowAutostart&&n}},{key:"showDRMErrorModal",value:function(e){var t=e===z.PLAYER_ERROR_DETAILS.HDCP_INCOMPLIANCE?Pe.aB.PLAYER.HDCP_ERROR:Pe.aB.PLAYER.DRM_ERROR,n=(0,Pe.lx)(Pe.cq.PLAYER,t);(0,D.L9)(he.Ey,(0,Ae.WY)((0,ue.IO)(),J.iR.PLAYER_ERROR,n)),this.setState({isDrmModalOpen:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.belongSeries,i=t.video,o=t.startPosition,r=t.series,a=t.viewHistory,s=t.relatedContents,l=t.handleCastClick,c=t.posterUrl,d=t.episodeSeasonIndex,m=t.episodeIndex,h=t.isMobile,v=t.adBreaks,f=t.ADBFound,y=t.isLoggedIn,g=t.aboveParental,A=t.hasSubtitle,C=t.isInMobileWhitelist,b=t.isCasting,S=t.castVideo,P=t.userId,w=t.userBirthday,R=t.dispatch,T=t.captionSettings,N=t.isContentReady,k=t.userAgent,M=t.isMonitoringEnabled,L=t.isFullscreen,I=t.isFromAutoplay,_=t.isContentLoginGated,D=t.isKidsModeEnabled,V=t.drmKeySystem,x=t.experimentName,Z=t.experimentTreatmentName,B=t.performanceCollectorEnabled,Y=t.isTransportControlShowup,F=t.isContentUnavailable,H=t.isContentComingSoon,W=this.state,q=W.mobilePlaying,K=W.playerReady,G=W.playerError,j=W.vw,z=W.isDrmModalOpen,Q=W.playerErrorDetails,X=W.retryCount,J=W.videoResource,$=W.resumePosition,ee=o>0?ve.aQ.STOP:void 0,te=this.isPrerollEnabled()?this.getContentAdUrl(o,ee):void 0,ne=!!n,ie=void 0,oe=void 0;r&&(ie=r.title,oe=r.id);var re=(ne?r:i)||{},ae=re.hero_images,se=void 0===ae?[]:ae,le=re.posterarts,ce=void 0===le?[]:le,ue=re.backgrounds,de=(void 0===ue?[]:ue)[0]||se[0]||ce[0],pe=F,me={belongSeries:n,content:i,onCastClick:l,related:s,position:y?o:null,to:ne?(0,Re.Gr)({type:E._Bh,title:ie,id:oe}):null,seasons:(r||{}).seasons,seriesTitle:ne?ie:null,posterUrl:c,vw:j,episodeSeasonIndex:d,episodeIndex:m,hasSubtitle:A,dispatch:R,isContentReady:N,playerReady:K,handleMobilePlayClick:this.handleMobilePlayClick,shouldShowContentUnavailable:pe,shouldShowComingSoon:H},he="linear-gradient(to top, "+Te.ZP.getAppThemeColor(D)+", rgba(38, 38, 45, 0.4) 83%, rgba(38, 38, 45, 0.2))",fe=null!==V,ye=K&&$?$:o,Ee=this.getAutoStart();return p.createElement(O.Ho,null,(function(t){var o,s,l;return p.createElement("div",{className:u()(No.contentContainer,(o={},(0,U.Z)(o,No.reduceBottomMargin,t.enabledDetails),(0,U.Z)(o,No.transportShowup,Y),o))},t.enabledDetails?p.createElement(Ie.Z,{src:de}):p.createElement(ke.Z,{url:de,className:No.titleImage,gradient:he}),p.createElement("div",{className:u()(No.positionPlayer,No.threeCol,(s={},(0,U.Z)(s,No.collapsed,!K&&t.enabledDetails),(0,U.Z)(s,No.fullscreen,L),(0,U.Z)(s,No.hidden,pe),s))},fe?p.createElement(ko,{drmKeySystem:V,isContentReady:N,onChange:e.handleVideoResourceChange,playerErrorDetails:Q,retryCount:X,video:i,experimentName:x,experimentTreatmentName:Z},pe?null:p.createElement(To,{key:i.id+"-"+(Ee?"true":"false"),isMobile:!!h,belongSeries:n,viewHistory:a,series:r,video:i,adBreaks:v,ADBFound:f,isLoggedIn:y,aboveParental:g,isContentLoginGated:_,showAutoPlay:e.state.showAutoPlay,onPlayerCreate:e.onPlayerCreate,removePlayer:e.removePlayer,prerollUrl:te,mobilePlaybackEnabled:C,mobilePlaying:q,playerReady:K,isCasting:b,castVideo:S,seriesTitle:ie,userId:P,userBirthday:w,isContentReady:N,autoStart:Ee,startPosition:ye,captionSettings:T,playerError:G,onPlayerError:e.onPlayerError,userAgent:k,isMonitoringEnabled:M,isFullscreen:L,isFromAutoplay:I,handleCaptionSizeChange:e.handleCaptionSizeChange,handleCaptionBackgroundChange:e.handleCaptionBackgroundChange,isKidsModeEnabled:D,videoResource:J,isInWebRefresh:t.enabledDetails,handleMobilePlayClick:e.handleMobilePlayClick,requestFullscreen:e.requestFullscreen,experimentName:x,experimentTreatmentName:Z,performanceCollectorEnabled:B})):null),p.createElement("div",{className:u()(No.positionContentDetail,(l={},(0,U.Z)(l,No.hidden,L),(0,U.Z)(l,No.fullscreen,t.enabledDetails&&(!N||!K)&&!h),(0,U.Z)(l,No.noPlayer,pe),l))},t.enabledDetails?p.createElement(_e.Z,me):p.createElement(Ne.Z,me)),p.createElement(Le.Z,{isOpen:z,onClose:e.handleDrmErrorModalClose,playerErrorDetails:Q}))}))}}]),t}(p.PureComponent),Mn.propTypes={handleCastClick:ae().func,video:ae().object.isRequired,startPosition:ae().number.isRequired,belongSeries:ae().oneOfType([ae().string,ae().number]),nextContextVideo:ae().object,viewHistory:ae().object,series:ae().object,addToHistory:ae().func,adBreaks:ae().array.isRequired,ADBFound:ae().bool,isLoggedIn:ae().bool,relatedContents:ae().array,hotContents:ae().array,aboveParental:ae().bool,posterUrl:ae().string,isMobile:ae().bool,hasSubtitle:ae().bool,userId:ae().number,userBirthday:ae().string,episodeSeasonIndex:ae().number,episodeIndex:ae().number,playerState:ae().string.isRequired,playerContentType:ae().string.isRequired,initPlayer:ae().func.isRequired,resetPlayer:ae().func.isRequired,isInMobileWhitelist:ae().bool,isCasting:ae().bool.isRequired,castVideo:ae().func,dispatch:ae().func.isRequired,captionSettings:ae().object.isRequired,isContentReady:ae().bool.isRequired,autoStart:ae().bool.isRequired,userAgent:ae().object,isMonitoringEnabled:ae().bool.isRequired,isFullscreen:ae().bool,isFromAutoplay:ae().bool.isRequired,isContentLoginGated:ae().bool,isKidsModeEnabled:ae().bool,drmKeySystem:ae().string,experimentName:ae().string,experimentTreatmentName:ae().string,canAutoplay:ae().bool,isContentUnavailable:ae().bool,isContentComingSoon:ae().bool},Mn.contextTypes={router:ae().object.isRequired,deviceId:ae().string},Ln),Lo=(0,P.Z)((0,se.EN)((0,h.$j)((function(e,t){var n=e.ui,i=n.registrationPrompt,o=n.renderControls,r=e.player,a=t.video,s=t.webAutoplayDetection,l=t.location,c=i.shownInTitles.includes(a.id),u=(l&&l.state&&l.state.from===E.s3N||t.isContentReady)&&!a.policy_match,d=a.availability_starts,p=!1;if(d){var m=(0,be.P)(new Date(d),new Date);p=m>0&&m<=7}return{hasShownRegistrationPrompt:c,isTransportControlShowup:o,canAutoplay:!s.getValue()||r.canAutoplay,isContentUnavailable:u,isContentComingSoon:p}}))(Mo)),{webMobileEnhancedRegistration:ye.ZP,webAutoplayDetection:fe.Z}),Io=n(78137),_o=function(){function e(e){void 0===e&&(e={}),this.options=e,this.log=e.debug?(0,Io.M$)("AdBlockerDetector"):function(){}}return e.prototype.check=function(){return(0,a.mG)(this,void 0,o(),(function(){var e;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return[4,this.checkOnetime()];case 1:return(e=t.sent())?[2,e]:[4,new(o())((function(e){return setTimeout(e,1e4)}))];case 2:return t.sent(),[2,this.checkOnetime()]}}))}))},e.prototype.checkOnetime=function(){return o().all([this.checkByBlockAdBlock(),this.checkByRequestBait()]).then((function(e){return e.some(Boolean)}))},e.prototype.checkByBlockAdBlock=function(){var e=this;return void 0!==window.blockAdBlock&&"function"!=typeof window.blockAdBlock.setOption&&(window.blockAdBlock=null,window.blockAdBlock=void 0),n(75787),new(o())((function(t){var n=window.blockAdBlock;if(void 0===n)return e.log("BlockAdBlock script isn't loaded, it should be caused by ad blockers"),void t(!0);n.setOption({resetOnEnd:!0,debug:e.options.debug}),n.onDetected((function(){return t(!0)})),n.onNotDetected((function(){return t(!1)})),n.check()}))},e.prototype.checkByRequestBait=function(){var t=this;return fetch(e.AD_BLOCK_BAIT_URL).then((function(){return!1}),(function(e){return t.log("Error happens when requesting bait",e),!0}))},e.AD_BLOCK_BAIT_URL="https://cdn.adrise.tv/js/ads.js",e}(),Do=n(22035),Vo="rjiTB",xo="wyd30",Zo=function(e){function t(t){var n=e.call(this,t)||this;return n.handleCastClick=function(e){var t=n.props,i=t.dispatch,o=t.location.pathname;N.ZP.createNavigateToPageComponent({actorName:e,componentType:l.Nc.castListComponent}),i((0,f.ZU)(o))},n.addToHistoryWrapper=function(e,t){var i=(void 0===t?{}:t).syncHistoryWithServer,o=void 0!==i&&i,r=n.props.dispatch;(0,V.w7)(e.position)&&r((0,v.IH)(e)).then((function(){o&&r((0,v.H0)())}))},n.initPlayer=function(e,t,i){n.props.dispatch((0,s.init)(e,t,i))},n.resetPlayer=function(){n.props.dispatch((0,s.reset)())},n.castVideoContent=function(e){n.props.dispatch((0,B.a)(e))},n.getMemoizedMeta=(0,d.Z)(V.tZ),n.state={ADBFound:!1},n.playerExperiments=[n.props.webHlsUpgrade],n}return(0,a.ZT)(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.webRefresh.logExposure(),new _o({debug:!1}).check().then((function(t){t&&(e.setState({ADBFound:!0}),(0,D.p6)({type:g.fe.videoInfo,subtype:g.E9,message:{}}))}))},t.prototype.getStartPosition=function(){return this.props.receiverPosition||this.props.startPosFromQuery&&parseInt(this.props.startPosFromQuery,10)||this.props.startPosition},t.prototype.render=function(){var e,t=this.props,n=t.data,i=t.series,o=t.adBreaks,a=t.isMobile,s=t.isEpisode,l=t.isLoggedIn,c=t.relatedContents,d=t.nextContextVideo,h=t.history,v=t.parentalRating,f=t.userId,y=t.userBirthday,g=t.episodeSeasonIndex,C=t.episodeIndex,b=t.playerState,S=t.playerContentType,P=t.dispatch,w=t.isInMobileWhitelist,R=t.isCasting,T=t.captionSettings,N=t.isContentReady,k=t.autoStart,M=t.userAgent,L=t.isMonitoringEnabled,I=t.isFullscreen,D=t.isFromAutoplay,V=t.shouldShowMatureContentModal,B=t.isKidsModeEnabled,U=t.drmKeySystem,Y=t.performanceCollectorEnabled,F=this.state.ADBFound,H=n.title,W=n.id,q=n.ratings,K=n.type,G=n.posterarts,j=(void 0===G?[]:G)[0];i&&i.posterarts[0]&&(j=i.posterarts[0]);var z,Q,X=B&&(!l||l&&v===A.p.ADULTS)?A.p.OKIDS:v,J={dispatch:P,nextContextVideo:d,series:i,aboveParental:(0,_.NR)(X,q),episodeSeasonIndex:g,episodeIndex:C,playerState:b,playerContentType:S,autoStart:k,isMonitoringEnabled:L},$=u()(Vo,((e={})[xo]=I,e)),ee=this.getStartPosition(),te=V(n),ne=this.getMemoizedMeta(n,i,s),ie=this.playerExperiments.find((function(e){return e&&null!==e.treatment}));return ie&&(z=ie.experimentName,Q=ie.treatment),p.createElement("div",null,p.createElement(m.Z,ne),p.createElement("div",{className:$,key:n.id},p.createElement(Lo,(0,r.Z)({key:H},J,{handleCastClick:this.handleCastClick,belongSeries:n.series_id,video:n,startPosition:ee,viewHistory:h,addToHistory:K===E.gJK?null:this.addToHistoryWrapper,adBreaks:o,isMobile:a,ADBFound:F,isLoggedIn:l,relatedContents:c,posterUrl:j,userId:f,userBirthday:y,initPlayer:this.initPlayer,resetPlayer:this.resetPlayer,isInMobileWhitelist:w,isCasting:R,castVideo:this.castVideoContent,dispatch:P,captionSettings:T,isContentReady:N,userAgent:M,isFullscreen:I,isFromAutoplay:D,isContentLoginGated:te,isKidsModeEnabled:B,drmKeySystem:U,experimentName:z,experimentTreatmentName:Q,performanceCollectorEnabled:Y})),p.createElement(Do.Z,{id:n.id})),p.createElement(x.Z,null),p.createElement(O.Ho,null,(function(e){var t=e.enabledDetails;return p.createElement(Z.Z,{contentId:W,useRefreshStyle:t})})))},t.defaultProps={adBreaks:[],relatedContents:[],isFullscreen:!1},t}(p.Component);function Oo(e){var t=e.getState,n=e.dispatch,i=e.params.id,r=[n(s.drmActions.updateDrmKeySystem()),n((0,y.rW)(i)),(0,I.R)(n((0,y.Hc)(i)))];return o().all(r).then((function(){var e=t().video.byId[i],r=e.series_id,a=e.type===E._Bh?"0"+i:i,s=[n((0,y.k4)(a))];return r&&s.push(n((0,y.s$)(r,!1))),o().all(s)})).catch((function(e){var t=(0,L.k)(e.errType);return S.ZP[t]({error:e,contentId:i},"error when loading related contents for video container"),o().reject(e)}))}function Bo(e){var t=e.getState,n=e.dispatch,i=[],r=e.params.id,a=t(),l=a.auth,c=a.video.byId;!l||l.user;return c[r]||i.push(n((0,y.rW)(r))),i.push(n(s.drmActions.updateDrmKeySystem())),o().all(i).then((function(){t().video.byId[r].series_id})).catch((function(e){var t=(0,L.k)(e.errType);return S.ZP[t]({error:e,contentId:r},"error when loading data for video container"),o().reject(e)}))}var Uo=function(e,t){var n,i=t.params,o=t.location,r=e.captionSettings,a=e.video,s=e.container,l=e.history,c=e.auth,u=e.ui,d=u.isMobile,p=u.userAgent,m=u.fullscreen,h=u.isKidsModeEnabled,v=u.ageGateModal,f=e.userSettings,y=f.parentalRating,g=f.birthday,A=e.player,C=e.chromecast,b=i.id,S=!(!c||!c.user),P=o.query,N=void 0===P?{}:P,L="true"===N.autoplay,I=L||"google-feed"===N.utm_source||"true"===N.start;v.isVisible&&(I=!1);var _=N.startPos,D=a.byId,x=a.adBreaksById,Z=D[b]||{},O=Z.series_id,B=C.castReceiverState,U=C.position,Y=!("undefined"==typeof window||!window.cast||B!==window.cast.framework.CastState.CONNECTED),F=(O?D["0"+O]:void 0)||void 0,H=O?"0"+O:""+b,W=(0,T.iS)(e,b),q=null;if(s.containerContext&&Z.type===E.gJK){var K=s.containerChildrenIdMap[s.containerContext]||[],G=K[K.indexOf(b)+1];G&&D[G]&&(q=D[G])}var j=S?null===(n=c.user)||void 0===n?void 0:n.userId:null,z=l.contentIdMap[H],Q=((0,V.ZW)({history:z,contentId:b,byId:D,isSeries:!1})||{}).position,X=void 0===Q?0:Q,J=F&&(0,M.vO)(b,F.seasons)||{},$=J.season,ee=J.episode,te=d&&(0,k.yf)(p),ne=x[b];return{id:b,data:Z,startPosition:Math.max(X,0),series:F,isMobile:!!d,isEpisode:!!Z.series_id,isLoggedIn:S,userId:j,userBirthday:g,adBreaks:ne,history:z,relatedContents:W,parentalRating:y,episodeSeasonIndex:$,episodeIndex:ee,playerState:A.playerState,playerContentType:A.contentType,isInMobileWhitelist:te,isCasting:Y,isContentReady:(0,V.he)(Z)&&void 0!==ne,nextContextVideo:q,captionSettings:r,autoStart:I,userAgent:p,isMonitoringEnabled:(0,w.bI)(e),performanceCollectorEnabled:(0,w.$n)(e),isFullscreen:m,isFromAutoplay:L,startPosFromQuery:_,shouldShowMatureContentModal:(0,R.cK)(e),isKidsModeEnabled:h,drmKeySystem:A.drmKeySystem,receiverPosition:U}},Yo=(0,h.$j)(Uo)(Zo);Yo.fetchData=Bo,Yo.fetchDataDeferred=Oo,Yo.reserveContainerContext=!0,Yo.hasDynamicMeta=!0;var Fo=Zo,Ho=(0,P.Z)(Yo,{webHlsUpgrade:C.Z,webRefresh:b.Z})},65191:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(94184),o=n.n(i),r=n(67294),a=n(25387),s=n(67337),l="w6yu0",c="Lu9eu",u=(0,a.vU)({posterAlt:{defaultMessage:"poster background",id:"src/web/rd/components/BackgroundImage/BackgroundImage:posterAlt"}}),d=(0,r.memo)((function(e){var t,n=e.src,i=(0,r.useState)(!1),a=i[0],d=i[1],p=(0,r.useRef)(null),m=(0,s.YB)(),h=o()(((t={})[c]=a,t)),v=function(){d(!0)};return(0,r.useEffect)((function(){p.current&&p.current.complete&&setTimeout(v,200)}),[]),r.createElement("div",{className:l},r.createElement("img",{ref:p,src:n,alt:m.formatMessage(u.posterAlt),className:h,onLoad:v}))}))},6862:function(e,t,n){n.d(t,{Z:function(){return Ke}});var i=n(5143),o=n(9648),r=n(27575),a=n(67294),s=n(25387),l=n(86896),c=n(54852),u=n(68266),d=n(27224),p=n(23682),m=n(55107),h=n(61788),v=n(39772),f=n(96879),y=n(34550),E=n(37703),g=n(31660),A=n(35683),C=n(59275),b=n(52579),S=n(24610),P=n(67337),w="LXnxs",R="Em3_m",T="Cg14t",N="KJR4e",k=(0,s.vU)({director:{defaultMessage:"Directed by",id:"src/web/rd/components/ContentDetail/DirectorAndActor/DirectorAndActor:director"},starring:{defaultMessage:"Starring",id:"src/web/rd/components/ContentDetail/DirectorAndActor/DirectorAndActor:starring"}}),M=function(e){var t=e.directors,n=void 0===t?[]:t,i=e.actors,o=void 0===i?[]:i,r=(0,E.I0)(),s=(0,P.YB)(),l=function(e){return e.map((function(e){if("N/A"===e)return e;var t=(0,S.T2)(e);return a.createElement(f.Z,{to:C.Z6.search+"/"+encodeURIComponent(t),key:e,onClick:function(){return function(e){b.ZP.createNavigateToPageComponent({actorName:e,componentType:y.Nc.castListComponent}),r((0,A.ZU)((0,g.IO)()))}(e)}},a.createElement("span",{className:N},e))}))};return a.createElement("div",{className:w},(null==o?void 0:o.length)?a.createElement("div",{className:R},a.createElement("span",{className:T},s.formatMessage(k.starring)),a.createElement("span",null,l(o))):null,(null==n?void 0:n.length)?a.createElement("div",{className:R},a.createElement("span",{className:T},s.formatMessage(k.director)),a.createElement("span",null,l(n))):null)},L=n(30444),I=n(94184),_=n.n(I),D=n(88239),V=n(20631),x=n(43457),Z=n(33717),O=n(56192),B=n(36476),U=n(14930),Y=n(20712),F=n(70655);var H=a.memo((function(e){return a.createElement("svg",(0,F.pi)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 12C9 11.4477 8.55228 11 8 11C7.44772 11 7 11.4477 7 12C7 12.5523 7.44772 13 8 13C8.55228 13 9 12.5523 9 12ZM12 11C12.5523 11 13 11.4477 13 12C13 12.5523 12.5523 13 12 13C11.4477 13 11 12.5523 11 12C11 11.4477 11.4477 11 12 11ZM16 11C16.5523 11 17 11.4477 17 12C17 12.5523 16.5523 13 16 13C15.4477 13 15 12.5523 15 12C15 11.4477 15.4477 11 16 11Z",fill:"currentColor"}))})),W=n(11909),q="un53Z",K="mTKCf",G="XykWo",j="FsywM",z="eAd4E",Q="NBXOS",X=(0,s.vU)({reportAProblem:{defaultMessage:"Report a problem",id:"src/web/rd/components/ContentDetail/MoreActions/MoreActions:reportAProblem"}}),J=function(e){var t=e.title,n=e.contentId,i=(0,P.YB)(),o=(0,a.useState)(!1),r=o[0],s=o[1],l=(0,a.useRef)(null);(0,W.Z)(l,(function(){return s(!1)}));var c={pathname:C.Z6.support,query:{title:t,contentId:n}};return a.createElement("div",{className:_()(q),ref:l},a.createElement(x.Z,{appearance:"tertiary",onClick:function(){return s(!r)},className:G},r?a.createElement(Y.Z,{className:K}):a.createElement(H,{className:K})),r?a.createElement("div",{className:_()(j)},a.createElement("div",{className:_()(z)},a.createElement(f.Z,{className:Q,to:c},i.formatMessage(X.reportAProblem)))):null)},$=n(47938),ee=n(71538),te=n(76876),ne=n(18880),ie=n(83762),oe=n(4442),re=n(4680),ae="XByGK",se="H5RWw",le="CZOzW",ce="eK7QY",ue="iQIyk",de="z2MiI",pe=(0,s.vU)({share:{defaultMessage:"Share",id:"src/web/rd/components/ContentDetail/ShareButton/ShareButton:share"},twitterText:{defaultMessage:"Watch {title} on Tubi: ",id:"src/web/rd/components/ContentDetail/ShareButton/ShareButton:twitterText"}}),me=function(e){var t=e.title,n=e.contentId,i=e.type,o=(0,P.YB)(),r=(0,a.useState)(!1),s=r[0],l=r[1],c=(0,a.useRef)(null);(0,W.Z)(c,(function(){return l(!1)}));var u=function(e){var t=e.shareUrl,n=e.twitterText;return[{name:"facebook",Icon:te.Z,trackType:ie.$R,url:"https://www.facebook.com/sharer/sharer.php?u="+(0,re.h1)(t,"facebook")},{name:"twitter",Icon:ne.Z,trackType:ie.D9,url:"https://twitter.com/intent/tweet?text="+n+(0,re.h1)(t,"twitter")}]}({shareUrl:(0,m.Gr)({type:i,id:n,title:t,absolute:!0}),twitterText:o.formatMessage(pe.twitterText,{title:t})});return a.createElement("div",{className:ae,ref:c},a.createElement(x.Z,{className:se,appearance:"tertiary",onClick:function(){return l(!s)}},o.formatMessage(pe.share)),s?a.createElement("div",{className:_()(le)},a.createElement("div",{className:_()(ce)},u.map((function(e){var t=e.name,i=e.url,o=e.trackType,r=e.Icon;return a.createElement("a",{className:ue,key:t,href:i,target:"_blank",onClick:function(){return function(e){var t=(0,oe.vD)(n,e,ee.aU.CLICK);(0,re.L9)(ie.ue,t),l(!1)}(o)}},t,a.createElement("span",{className:de},a.createElement(r,null)))})))):null)},he="d3O8W",ve="ar4AE",fe="etFQQ",ye="mCeMU",Ee=(0,s.vU)({watchNow:{defaultMessage:"Watch Now",id:"src/web/rd/components/ContentDetail/ButtonGroup/ButtonGroup:watchNow"},free:{defaultMessage:"Free",id:"src/web/rd/components/ContentDetail/ButtonGroup/ButtonGroup:free"},addToMyList:{defaultMessage:"Add to My List",id:"src/web/rd/components/ContentDetail/ButtonGroup/ButtonGroup:addToMyList"},removeFromMyList:{defaultMessage:"Remove from My List",id:"src/web/rd/components/ContentDetail/ButtonGroup/ButtonGroup:removeFromMyList"},watch:{defaultMessage:"Watch",id:"src/web/rd/components/ContentDetail/ButtonGroup/ButtonGroup:watch"},watchLastEpisode:{defaultMessage:"Watch Latest Episode",id:"src/web/rd/components/ContentDetail/ButtonGroup/ButtonGroup:watchLastEpisode"},resume:{defaultMessage:"Resume",id:"src/web/rd/components/ContentDetail/ButtonGroup/ButtonGroup:resume"}}),ge=function(e){var t=e.isRecurring,n=e.id,i=e.belongSeries,o=e.type,r=e.title,s=e.onClickWatch,l=e.className,d=e.isSeriesDetail,p=e.isContentUnavailable,m=(0,P.YB)(),h=(0,E.I0)(),v=(0,u.Z)((function(e){return e.player})).playerState,f=(0,a.useRef)(null),y=(0,u.Z)((function(e){return e.ui.isMobile})),g=(0,u.Z)((function(e){var t,i,r=!1,a="",s=n;return o===c._Bh&&(s=(0,O.kJ)(n),a=null!==(i=null===(t=(0,Z.Wi)(e,s))||void 0===t?void 0:t.title)&&void 0!==i?i:"",r=!!e.history.contentIdMap[s]),{isInHistory:r,episodeTitle:a}})),A=g.episodeTitle,C=g.isInHistory,b={children:m.formatMessage(Ee.watchNow),tag:m.formatMessage(Ee.free)},S=(0,a.useCallback)((function(e){var t=e.dispatchQueueAction,n=e.isInQueue;return a.createElement(x.Z,{ref:f,onClick:t,appearance:"tertiary",className:_()(ye)},m.formatMessage(n?Ee.removeFromMyList:Ee.addToMyList))}),[m]);t?b={children:C?m.formatMessage(Ee.resume):m.formatMessage(Ee.watchLastEpisode)}:A&&(b={children:m.formatMessage(C?Ee.resume:Ee.watch)+" "+(0,B.HL)(A)});var w=a.createElement(a.Fragment,null,d?a.createElement(x.Z,(0,D.Z)({},b,{onClick:function(){y?null==s||s():"inited"===v||"paused"===v?h(V.controlActions.play()):"playing"===v?h(V.controlActions.pause()):null==s||s()},className:fe})):null,a.createElement(U.Z,{id:n,belongSeries:i},S),a.createElement("div",{className:ve},a.createElement(me,{title:r,contentId:n,type:o}),a.createElement(J,{title:r,contentId:n})));return a.createElement("div",{className:_()(he,l)},p?a.createElement($.Z,{contentId:n,contentType:"s"===o?"series":"movie",title:r}):w)},Ae="Foi1U",Ce=function(e){var t=e.onClickWatch,n=e.posterUrl,i=e.content,o=e.belongSeries,r=e.isContentUnavailable,s=e.className,l=e.isSeriesDetail,c=i,d=c.id,p=c.is_recurring,m=c.title,h=c.type,v=(0,u.Z)((function(e){return e.player})).progress;return a.createElement("div",{className:_()(Ae,s)},a.createElement(L.Z,{src:n,progress:v.position/v.duration}),a.createElement(ge,{id:d,belongSeries:o,isRecurring:p,type:h,title:m,onClickWatch:t,isSeriesDetail:l,isContentUnavailable:r}))},be=n(53015),Se=n(5228),Pe=n(77014),we="VOtL6",Re="rrNfJ",Te="t3vzq",Ne=(0,s.vU)({youMayAlsoLike:{defaultMessage:"You May Also Like",id:"src/web/rd/components/RelatedContents/RelatedContents:youMayAlsoLike"},addToMyList:{defaultMessage:"Add to My List",id:"src/web/rd/components/RelatedContents/RelatedContents:addToMyList"},removeFromMyList:{defaultMessage:"Remove from My List",id:"src/web/rd/components/RelatedContents/RelatedContents:removeFromMyList"}}),ke=(0,a.memo)((function(e){var t=e.contentId,n=(0,P.YB)(),i=(0,a.useCallback)((function(e){return(0,Se.iS)(e,t)}),[t]),o=(0,u.Z)(i),r=(0,a.useState)(0),s=r[0],l=r[1],c=(0,u.Z)((function(e){return e.ui.viewportType})),d=(0,a.useCallback)((function(e){var t=e.index,n=e.contentId;b.ZP.createNavigateToPageComponent({startX:t,startY:0,containerSlug:null,contentId:n,componentType:y.Nc.relatedComponent})}),[]),p=(0,a.useCallback)((function(e){var n=e.itemIndex;l((function(e){return b.ZP.trackCarouselTrigger({startX:e,endX:n,contentId:t,slug:"related",componentType:y.Nc.relatedComponent}),n}))}),[t]),m=(0,a.useCallback)((function(e,t){return a.createElement(Pe.Z,{id:e,indexInContainer:t,tileOrientation:"portrait",showProgress:!0,onNavigation:d})}),[d]),h="tablet"===c?4:5;return o.length?a.createElement("div",{className:we},a.createElement("div",{className:Re},n.formatMessage(Ne.youMayAlsoLike)),a.createElement(be.Z,{index:s,onIndexChange:p,className:Te,data:o,renderItem:m,adjustPrevNextForContentTile:!0,breakpoints:{xs:4===h?"4":"3"}})):null})),Me=n(11382),Le=n(75847),Ie=n(25021);var _e=a.memo((function(e){return a.createElement("svg",(0,F.pi)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a.createElement("path",{d:"M21.545 16.017L14.908 4.678C14.305 3.643 13.192 3 12.004 3C10.793 3 9.704 3.627 9.092 4.677L2.458 16.021C2.159 16.525 2 17.097 2 17.67C2 19.6 3.42 21 5.376 21H18.624C20.58 21 22 19.6 22 17.67C22 17.092 21.842 16.519 21.545 16.017ZM18.624 19H5.376C4.361 19 4 18.312 4 17.67C4 17.452 4.06 17.24 4.182 17.035L10.82 5.685C11.07 5.256 11.513 5 12.004 5C12.49 5 12.93 5.256 13.18 5.687L19.821 17.031C19.938 17.229 20 17.45 20 17.67C20 18.312 19.639 19 18.624 19Z",fill:"currentColor"}),a.createElement("path",{d:"M12 8C11.189 8 10.549 8.688 10.607 9.496L10.929 14.002C10.969 14.565 11.437 15 12 15C12.563 15 13.031 14.565 13.071 14.003L13.393 9.497C13.451 8.688 12.811 8 12 8Z",fill:"currentColor"}),a.createElement("path",{d:"M12 18C12.5523 18 13 17.5523 13 17C13 16.4477 12.5523 16 12 16C11.4477 16 11 16.4477 11 17C11 17.5523 11.4477 18 12 18Z",fill:"currentColor"}))})),De=(0,a.memo)((function(e){var t=e.label,n=e.defaultOption,i=e.options,o=e.onSelect,r=e.error,s=(0,a.useState)(null==n?void 0:n.value),l=s[0],c=s[1],u=(0,a.useState)(!1),d=u[0],p=u[1],m=(0,a.useRef)(null),h=(0,a.useRef)(null),v=i.find((function(e){return e.value===l})),f=i.findIndex((function(e){return e.value===l})),y=(0,a.useState)(f),E=y[0],g=y[1],A=(0,a.useCallback)((function(e){c(e.value),p(!1),null==o||o(e)}),[o]),C=(0,a.useCallback)((function(e){d&&h.current&&(h.current.scrollTop=56*(e-1))}),[d]),b=(0,a.useCallback)((function(e){switch(e.preventDefault(),e.key){case"Enter":i[E]&&A(i[E]);break;case"ArrowUp":(t=E-1)>=0&&(g(t),C(t));break;case"ArrowDown":var t;(t=E+1)<i.length&&(g(t),C(t))}}),[i,E,A,C]);(0,a.useEffect)((function(){return d&&window.addEventListener("keydown",b),function(){window.removeEventListener("keydown",b)}}),[d,E,i,b]),(0,a.useEffect)((function(){C(f),d||g(f)}),[d,C,f]);var S=_()("web-dropdown",{"web-dropdown__open":d,"web-dropdown__error":!!r}),P=_()("web-dropdown--arrow-icon",{"web-dropdown--arrow-icon__open":d});return(0,W.Z)(m,(function(){return p(!1)})),a.createElement("div",{className:"web-dropdown--container"},d?a.createElement("div",{className:"web-dropdown--placeholder"}):null,a.createElement("div",{className:S,ref:m},a.createElement("div",{className:"web-dropdown--input",onClick:function(){p(!d)},tabIndex:-1,role:"button"},t?a.createElement("span",{className:"web-dropdown--label"},t):null,a.createElement("span",{className:"web-dropdown--input-text"},null==v?void 0:v.label),a.createElement(Ie.Z,{className:P})),d?a.createElement("ul",{className:"web-dropdown--options",tabIndex:-1,role:"listbox",ref:h},i.map((function(e,t){return a.createElement("li",{className:_()("web-dropdown--option",{"web-dropdown--option__selected":e.value===l||t===E}),key:e.value,onClick:function(){return A(e)},role:"option","aria-selected":l===e.value},e.label)}))):null,r?a.createElement("div",{className:"web-dropdown--error"},a.createElement(_e,null),r):null))})),Ve=n(33311),xe="WSPEJ",Ze="GDHqp",Oe=(0,a.memo)((function(e){var t=e.seasons,n=e.episodeSeasonIndex,i=e.episodeIndex,o=(0,E.I0)(),r=(0,a.useState)(n),s=r[0],l=r[1],d=(0,a.useState)(i),p=d[0],h=d[1],v=(0,u.Z)((function(e){return e.video.byId})),f=(0,u.Z)((function(e){return e.history})),g=t.map((function(e){var t=e.title;return{value:t,label:t}})),A=(0,a.useMemo)((function(){var e;return(null===(e=t[s])||void 0===e?void 0:e.episodeIds)||[]}),[t,s]),C=(0,a.useCallback)((function(e,t){var n,i,r=v[e],s="0"+r.series_id,l=f.contentIdMap[s],u=null===(n=null==l?void 0:l.episodes)||void 0===n?void 0:n.find((function(t){return String(t.contentId)===String(e)}));u&&(i=u.position/u.contentLength);var d=r.title,p=r.thumbnails,h=void 0===p?[]:p,E=r.description,g=function(){var n,i=(0,m.Pl)({video:r});i=(0,Me.addQueryStringToUrl)(i,((n={})[c.hwD]=!0,n)),b.ZP.createNavigateToPageComponent({startX:t,startY:0,containerSlug:null,contentId:e,componentType:y.Nc.episodeVideoListComponent}),o((0,Ve.VF)(i))},A={id:e,title:d,thumbnailSrc:h[0],description:E,progress:i};return a.createElement(Le.Z,(0,D.Z)({autoHeightForContentInfo:!0,alwaysShowMetadata:!0,tileOrientation:"landscape",hoverBgEffect:!1,onClick:g,onPlayClick:g},A))}),[v,f.contentIdMap,o]),S=(0,a.useCallback)((function(e){var t=e.itemIndex;h((function(e){return b.ZP.sendNavigateWithinPage({startX:e,startY:0,endX:t,endY:0,contentId:A[e],componentType:y.Nc.episodeVideoListComponent}),t}))}),[A]);return a.createElement("div",{className:xe},a.createElement("div",{className:Ze},a.createElement(De,{options:g,defaultOption:g[s],onSelect:function(e){var t=e.value;h(0),l(g.findIndex((function(e){return e.value===t})))}})),a.createElement(be.Z,{key:s,index:p,tileOrientation:"landscape",data:A,onIndexChange:S,adjustPrevNextForContentTile:!0,extraKey:function(e){return e},renderItem:C}))})),Be="OpEE9",Ue="c1jX9",Ye="WMff3",Fe="Xx95I",He="NOixg",We="BPUNy",qe=(0,s.vU)({channelLogo:{defaultMessage:"{network} network logo",id:"src/web/rd/components/ContentDetail/ContentDetail:channelLogo"},scrollToDetail:{defaultMessage:"Scroll for Title Details",id:"src/web/rd/components/ContentDetail/ContentDetail:scrollToDetail"},contentUnavailable:{defaultMessage:"content unavailable",id:"src/web/rd/components/ContentDetail/ContentDetail:contentUnavailable"}}),Ke=function(e){var t,n,s=e.content,f=e.posterUrl,y=e.seasons,E=e.episodeIndex,g=void 0===E?0:E,A=e.episodeSeasonIndex,C=void 0===A?0:A,b=e.belongSeries,S=e.seriesTitle,P=e.onClickWatch,w=e.isContentReady,R=e.playerReady,T=e.isSeriesDetail,N=e.handleMobilePlayClick,k=e.shouldShowContentUnavailable,L=e.shouldShowComingSoon,I=e.vw,_=(0,l.Z)(),D=s,V=D.id,x=D.year,Z=D.title,O=D.duration,B=D.ratings,U=D.tags,Y=D.description,F=D.actors,H=D.directors,W=D.type,q=D.series_id,K=D.channel_logo,G=D.channel_id,j=D.channel_name,z=D.is_recurring,Q=D.availability_starts,X=(0,p.NT)(O,_.formatMessage),J=!!q,$=(0,u.Z)((function(e){return e.ui.isMobile})),ee=(0,u.Z)((function(e){return e.ui.viewportType})),te=I<c.j$L.lg,ne=!(w&&R||T||"desktop"!==ee||k),ie=(0,a.useMemo)((function(){return J?a.createElement(a.Fragment,null,a.createElement("h1",{className:Ue},S),a.createElement("h2",{className:Ye},Z)):a.createElement("h1",{className:Ue},Z)}),[J,S,Z]),oe=(0,a.useMemo)((function(){var e=null;return k&&(e=L?a.createElement(h.Z,{date:Q}):a.createElement(v.Z,null)),e}),[k,L,Q]),re=(0,a.useCallback)((function(){P?P():$&&N()}),[N,$,P]),ae="tablet"===ee?4:5,se=4===ae?"3":"1-5",le=4===ae?"9":"4-5";return a.createElement("div",{className:Be},a.createElement(o.Z.Container,null,ne?a.createElement("div",{className:He},_.formatMessage(qe.scrollToDetail),a.createElement(i.Z,null)):null,ne?a.createElement("div",{className:He},_.formatMessage(qe.scrollToDetail),a.createElement(i.Z,null)):null,te?null:a.createElement(o.Z.Item,{xs:se},a.createElement(Ce,{content:s,posterUrl:f,belongSeries:b,onClickWatch:re,isContentUnavailable:k,isSeriesDetail:T})),a.createElement(o.Z.Item,{lg:le,sm:12},oe,ie,a.createElement(r.Z,{year:x,duration:X,rating:null===(t=null==B?void 0:B[0])||void 0===t?void 0:t.value,descriptor:(0,d.Pl)(null===(n=null==B?void 0:B[0])||void 0===n?void 0:n.descriptors),tags:U,channelLogoAltText:_.formatMessage(qe.channelLogo,{network:j}),channelLogo:K,channelUrl:G?(0,m.Nk)(G,{type:c.eY1.CHANNEL}):""}),te?a.createElement(ge,{id:V,isRecurring:z,type:W,title:Z,onClickWatch:re,className:We,isSeriesDetail:T,isContentUnavailable:k}):null,a.createElement("div",{className:Fe},Y),a.createElement(M,{actors:F,directors:H}),y&&y.length?a.createElement(Oe,{seasons:y,episodeIndex:g,episodeSeasonIndex:C}):null,a.createElement(ke,{contentId:V}))))}},47938:function(e,t,n){n.d(t,{Z:function(){return w}});var i=n(70655),o=n(67294);var r=o.memo((function(e){return o.createElement("svg",(0,i.pi)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("path",{d:"M12.26 21.978C13.552 21.819 14.542 20.853 14.811 19.65L9.22197 20.336C9.77397 21.438 10.968 22.136 12.26 21.978Z",fill:"currentColor"}),o.createElement("path",{d:"M20.078 15.219L19.085 15.341L18.071 7.09603C17.581 4.32403 14.141 1.58403 10.279 2.05403C6.44797 2.52403 3.71397 6.02403 4.18397 9.85503L5.06897 17.063L4.19697 17.17C3.64897 17.237 3.25897 17.736 3.32597 18.284C3.39297 18.833 3.89197 19.222 4.43997 19.155L20.321 17.205C20.869 17.138 21.259 16.639 21.192 16.091C21.125 15.541 20.626 15.151 20.078 15.219ZM7.05397 16.818L6.16897 9.61003C6.00697 8.29103 6.37197 6.98303 7.19697 5.92703C8.02197 4.87103 9.20297 4.20003 10.522 4.03803C13.217 3.70903 15.782 5.63003 16.094 7.39203L17.1 15.585L7.05397 16.818Z",fill:"currentColor"}))})),a=n(36915),s=n(43457),l=n(94184),c=n.n(l),u=n(34023),d=n(25387),p=n(37703),m=n(31660),h=n(71131),v=n(5097),f=n(54852),y=n(67754),E=n(42165),g=n(67337),A="tNvyU",C="Td7wJ",b="SYAPr",S="My5bG",P=(0,d.vU)({remindMe:{defaultMessage:"Remind Me",id:"src/web/rd/components/ContentDetail/RemindButton/RemindButton:remindMe"},reminderSet:{defaultMessage:"Reminder Set",id:"src/web/rd/components/ContentDetail/RemindButton/RemindButton:reminderSet"},reminderDesc:{defaultMessage:"You’ll be notified via email when this becomes available",id:"src/web/rd/components/ContentDetail/RemindButton/RemindButton:reminderDesc"}}),w=function(e){var t=e.contentId,n=e.contentType,i=e.title,l=(0,g.YB)(),d=(0,p.I0)(),w=(0,p.v9)((function(e){return e.reminder.loaded||e.reminder.hasError})),R=(0,p.v9)((function(e){return e.reminder.contentIdMap[t]})),T=(0,p.v9)((function(e){return e.reminder.inProgress[t]})),N=(0,p.v9)(E.dd),k=(0,o.useCallback)((function(){T||d((0,h.IH)(t,n))}),[d,t,n,T]),M=(0,o.useCallback)((function(e){u.ZP.save(f.Cm6,e,{maxAge:300,path:"/"})}),[]),L=(0,o.useCallback)((function(){N?k():d((0,v.k8)({isOpen:!0,title:i,onLogin:function(){var e=(0,m.IO)();M(e),d((0,y.ti)(e)),d((0,y.IS)(k))}}))}),[N,d,k,M,i]),I=(0,o.useCallback)((function(){!T&&R&&d((0,h.Od)(R.id,t))}),[d,R,t,T]);if(N&&!w)return null;var _=R?o.createElement(s.Z,{icon:a.Z,className:c()(C,b),appearance:"tertiary",onClick:I},o.createElement("span",null,l.formatMessage(P.reminderSet))):o.createElement(s.Z,{icon:r,className:C,appearance:"tertiary",onClick:L},l.formatMessage(P.remindMe));return o.createElement("div",{className:A},_,o.createElement("div",{className:S},l.formatMessage(P.reminderDesc)))}},42522:function(e,t){t.g=void 0,function(e){e.UNKNOWN="UNKNOWN",e.SHOW="SHOW",e.DISMISS="DISMISS",e.STILL_WATCHING="STILL_WATCHING"}(t.g||(t.g={}))},76876:function(e,t,n){var i=n(70655),o=n(67294);var r=o.memo((function(e){return o.createElement("svg",(0,i.pi)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 2C3.79086 2 2 3.79086 2 6V18C2 20.2091 3.79086 22 6 22H12.4124V14.0363H10.3262C10.1461 14.0363 10 13.8903 10 13.71V11.0795C10 10.8993 10.146 10.7531 10.3262 10.7531H12.4124V8.93762C12.4124 6.54552 13.9188 5 16.2498 5L18.3247 5.00333C18.5046 5.00366 18.6504 5.14964 18.6504 5.32958V7.77211C18.6504 7.95222 18.5044 8.09836 18.3243 8.09836L16.9266 8.09886C15.963 8.09886 15.7868 8.47438 15.7868 9.2141V10.7531H18.2268C18.3133 10.7531 18.3966 10.7876 18.4577 10.8488C18.5188 10.9101 18.5532 10.993 18.5532 11.0795L18.5522 13.71C18.5522 13.8903 18.4062 14.0363 18.226 14.0363H15.7868V22H18C20.2091 22 22 20.2091 22 18V6C22 3.79086 20.2091 2 18 2H6Z",fill:"currentColor"}))}));t.Z=r},18880:function(e,t,n){var i=n(70655),o=n(67294);var r=o.memo((function(e){return o.createElement("svg",(0,i.pi)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("path",{d:"M22 5.89415C21.2563 6.21538 20.4637 6.42831 19.6375 6.53169C20.4875 6.032 21.1363 5.24677 21.4412 4.30031C20.6488 4.76554 19.7738 5.09415 18.8412 5.27754C18.0887 4.48862 17.0162 4 15.8462 4C13.5763 4 11.7487 5.81415 11.7487 8.03815C11.7487 8.35815 11.7762 8.66585 11.8438 8.95877C8.435 8.79508 5.41875 7.18646 3.3925 4.736C3.03875 5.34031 2.83125 6.032 2.83125 6.77662C2.83125 8.17477 3.5625 9.41415 4.6525 10.1317C3.99375 10.1194 3.3475 9.93108 2.8 9.63446C2.8 9.64677 2.8 9.66277 2.8 9.67877C2.8 11.6406 4.22125 13.2702 6.085 13.6455C5.75125 13.7354 5.3875 13.7785 5.01 13.7785C4.7475 13.7785 4.4825 13.7637 4.23375 13.7095C4.765 15.3083 6.2725 16.4837 8.065 16.5218C6.67 17.5963 4.89875 18.2437 2.98125 18.2437C2.645 18.2437 2.3225 18.2289 2 18.1883C3.81625 19.3415 5.96875 20 8.29 20C15.835 20 19.96 13.8462 19.96 8.512C19.96 8.33354 19.9538 8.16123 19.945 7.99015C20.7588 7.42154 21.4425 6.71138 22 5.89415Z",fill:"currentColor"}))}));t.Z=r},97063:function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=n(11382),p=u(n(97212)),m=n(88572),h=n(88578),v=n(80618),f=n(75173),y=u(n(53060)),E=n(18666),g=n(13858),A=n(83014),C=n(70713),b=n(16346),S=n(39873),P=n(18036),w=n(72415),R=n(92038),T=function(e){function t(n){var i=e.call(this)||this;return i.isPlayingAd=!1,i.isBuffering=!1,i.isPlayingPreroll=!1,i.isPrerollStarted=!1,i.isReadyEmitted=!1,i.isUnsupported=!1,i.state=f.State.idle,i.contentDuration=0,i.qualityLevelList=[],i.captionsList=[],i.captionsIndex=0,i.captionsStylesString="",i.captionsUnits=[],i.previousCaptionsText="",i.isAdFetching=!1,i.isVideoElementUsedByAdsInAdPlayer=!1,i.isPlaybackStarted=!1,i.mediaAttachTimer=0,i.rafId=0,i.shouldUseHls=!1,i.emeEnable=!1,i.reuseVideoElement=!1,i.isPictureInPictureMode=!1,i.preloaded=!1,i.config=n,i.contentPosition=n.resumePosition||0,i.manifestLoadingRetry=0,i.manifestLoadingMaxRetry=n.manifestLoadingMaxRetry||h.MANIFEST_LOADING_MAX_RETRY,i.log=n.debug?(0,R.debug)("HlsAdapter"):function(){},i.videoElement=document.getElementById(t.VIDEO_COMPONENT_ID),i.captionsElement=document.getElementById(t.CAPTIONS_COMPONENT_ID),i.adContainerElement=document.getElementById(t.AD_COMPONENT_ID),i.reuseVideoElement=i.config.reuseVideoElement,i.init(),i}return o(t,e),Object.defineProperty(t.prototype,"SDKName",{get:function(){return this.shouldUseHls?"hls.js":"video-tag"},enumerable:!1,configurable:!0}),t.prototype.setup=function(){var e,n;return s(this,void 0,void 0,(function(){var i,o,a,s,c,u,d=this;return l(this,(function(l){switch(l.label){case 0:return i=this.config,o=i.extraOptions,a=i.drmKeySystem,s=i.licenseUrl,i.performanceCollectorEnabled&&(this.performanceCollector=new S.PerformanceCollector({ExternalHls:t.Hls,reporter:function(e){return d.emit(h.PLAYER_EVENTS.startupPerformance,{isAd:!1,metrics:e,isAfterMidroll:0!==d.getPosition(),preloaded:d.preloaded})},debug:this.config.debug}),this.performanceCollector.setVideoElement(this.videoElement)),c=(0,p.default)(),this.log("setup",this.getPosition()),"Safari"!==c.browser.name||a!==v.DrmKeySystem.FairPlay?[3,2]:[4,this.setupFairPlay()];case 1:return l.sent(),this.detachVideoElementEvents=this.attachVideoElementEvents(),this.attachPlayerEvents(),[2];case 2:if(this.shouldUseHls=!0,!this.isSupported())return this.isUnsupported=!0,this.handleUnsupport(),[2];if(u=r({debug:!!this.config.debug,maxBufferSize:3e7,maxMaxBufferLength:180},null==o?void 0:o.hls),s){switch(a){case v.DrmKeySystem.PlayReady:u=r(r({},u),{playreadyLicenseUrl:s});break;case v.DrmKeySystem.Widevine:u=r(r({},u),{widevineLicenseUrl:s})}u=r(r({},u),{emeEnabled:!0}),this.emeEnable=!0}return(null==o?void 0:o.shouldSetHighestStartLevel)&&(u.startLevel=3),(null==o?void 0:o.preloader)&&(u.pLoader=null==o?void 0:o.preloader(t.Hls,(function(){d.preloaded=!0})),u.fLoader=u.pLoader),this.player=new t.Hls(u),null===(e=this.performanceCollector)||void 0===e||e.setHls(this.player),this.detachVideoElementEvents=this.attachVideoElementEvents(),this.attachPlayerEvents(),this.player.attachMedia(this.videoElement),this.startResizeCheck(),this.mediaAttachTimer=window.setTimeout((function(){d.onError(new Error("Media attach timeout."))}),15e3),null===(n=this.performanceCollector)||void 0===n||n.setHls(this.player),[2]}}))}))},t.prototype.loadSource=function(){var e,t=this.config.mediaUrl;null===(e=this.player)||void 0===e||e.loadSource(t)},t.prototype.play=function(){var e,t=this,n=this.config.prerollUrl;if(this.log("play",this.isAd()),!this.isUnsupported)return n&&!this.isPrerollStarted?(this.isPrerollStarted=!0,this.isPlayingPreroll=!0,this.onPlay(),void this.playAdTag(n)):void(this.isAd()?null===(e=this.adClient)||void 0===e||e.play():Promise.resolve().then((function(){return t.videoElement.play()})).catch(this.onError))},t.prototype.hideVideoElementIfNotReuseVideoElement=function(){this.shouldReuseVideoElement()||(this.videoElement.style.visibility="hidden")},t.prototype.shouldReuseVideoElement=function(){return this.reuseVideoElement},t.prototype.pauseDownloadingSegments=function(){var e,t;null===(t=null===(e=this.player)||void 0===e?void 0:e.pauseDownloadingSegments)||void 0===t||t.call(e)},t.prototype.resumeDownloadingSegments=function(){var e,t;null===(t=null===(e=this.player)||void 0===e?void 0:e.resumeDownloadingSegments)||void 0===t||t.call(e)},t.prototype.pause=function(){var e;this.log("pause"),this.isUnsupported||(this.isAd()?null===(e=this.adClient)||void 0===e||e.pause():this.videoElement.pause())},t.prototype.seek=function(e){this.log("seek",e),this.isUnsupported||this.isAd()||this.isAdFetching||(this.emit(h.PLAYER_EVENTS.seek,{position:this.getPosition(),offset:e}),this.videoElement.currentTime=e)},t.prototype.getAdUrl=function(){var e;return null===(e=this.adClient)||void 0===e?void 0:e.getAdUrl()},t.prototype.getState=function(){return this.state},t.prototype.getVideoElement=function(){return this.videoElement},t.prototype.getPosition=function(){return this.contentPosition},t.prototype.getPrecisePosition=function(){return this.videoElement.currentTime},t.prototype.getDuration=function(){return this.contentDuration},t.prototype.getBitrate=function(){if(!this.player)return-1;var e=this.player,t=e.currentLevel,n=void 0===t?-1:t,i=e.levels,o=void 0===i?[]:i;return-1!==n&&o[n]?o[n].bitrate:-1},t.prototype.getBandwidthEstimate=function(){if(!this.player)return-1;if(void 0!==this.player.bandwidthEstimate)return this.player.bandwidthEstimate;var e=this.player.abrController._bwEstimator;if(!e)return-1;var t=e.getEstimate();return Number.isNaN(t)?-1:t},t.prototype.getRendition=function(){var e=this.player||{},t=e.currentLevel,n=void 0===t?-1:t,i=e.levels,o=-1!==n?(void 0===i?[]:i)[n]:null;if(o){if(o.name)return o.name;if(o.bitrate)return(0,R.buildRenditionString)({width:o.width,height:o.height,bitrate:o.bitrate})}else if(this.videoElement)return(0,R.buildRenditionString)({width:this.videoElement.videoWidth,height:this.videoElement.videoHeight});return""},t.prototype.remove=function(){var e,t,n,i;return s(this,void 0,void 0,(function(){var o;return l(this,(function(r){switch(r.label){case 0:this.log("remove"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.destroyHls()];case 2:return r.sent(),[3,4];case 3:return o=r.sent(),this.log(o,"Error while destroying extension before cue point."),[3,4];case 4:return null===(e=this.detachVideoElementEvents)||void 0===e||e.call(this),null===(t=this.detachFairPlayEvents)||void 0===t||t.call(this),this.adClient&&this.adClient.remove(),null===(n=this.performanceCollector)||void 0===n||n.destroy(),this.setState(f.State.destroyed),this.stopResizeCheck(),null===(i=this.performanceCollector)||void 0===i||i.destroy(),window.clearTimeout(this.mediaAttachTimer),[2]}}))}))},t.prototype.playAdTag=function(e){var t=this;if(!this.isAdFetching&&!this.isAd()){this.isAdFetching=!0;var n=(0,d.addQueryStringToUrl)(e,{vpaid_enabled:!1});(0,E.fetchJsonAds)(n).then((function(e){t.isAdFetching=!1,t.videoElement.poster="",t.playAdResponse(e)}),(function(e){t.isAdFetching=!1,t.emit(h.PLAYER_EVENTS.adPodFetchError,{code:f.ErrorDetail.FETCH_ERROR,message:null==e?void 0:e.message}),t.resume()}))}},t.prototype.playAdResponse=function(e){var t,n;return s(this,void 0,void 0,(function(){var i;return l(this,(function(o){switch(o.label){case 0:if(this.log("playAdResponse:adplayer",e),this.getState()===f.State.destroyed)return[2];if(0===e.length)return this.emit(h.PLAYER_EVENTS.adPodEmpty),this.resume(),[2];if(this.isPictureInPictureMode&&document.exitPictureInPicture(),this.emit(h.PLAYER_EVENTS.adResponse,{response:e}),this.pause(),!this.shouldReuseVideoElement())return[3,5];null===(t=this.detachVideoElementEvents)||void 0===t||t.call(this),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.destroyHls()];case 2:return o.sent(),[3,4];case 3:return i=o.sent(),this.log(i,"Error while destroying extension before cue point."),[3,4];case 4:this.isVideoElementUsedByAdsInAdPlayer=!0,o.label=5;case 5:return this.hideVideoElementIfNotReuseVideoElement(),this.setupAdClient(),null===(n=this.adClient)||void 0===n||n.playAdResponse(e),[2]}}))}))},t.prototype.resume=function(){var e,t;if(this.log("resume",this.shouldReuseVideoElement(),this.isAd(),this.getPosition()),this.shouldReuseVideoElement())return this.isVideoElementUsedByAdsInAdPlayer?(this.isVideoElementUsedByAdsInAdPlayer=!1,null===(e=this.detachFairPlayEvents)||void 0===e||e.call(this),null===(t=this.detachVideoElementEvents)||void 0===t||t.call(this),void this.setup()):void this.play();this.videoElement.style.visibility="visible",this.isPlaybackStarted?this.play():this.setup()},t.prototype.getCaptions=function(){return this.captionsIndex},t.prototype.setCaptions=function(e){var t=this;if(this.log("setCaptions",e,this.captionsIndex),this.captionsIndex!==e)if(this.captionsIndex=e,this.captionsUnits=[],this.emit(h.PLAYER_EVENTS.captionsChange,{captionsIndex:this.captionsIndex}),0!==this.captionsIndex){var n=this.captionsList[this.captionsIndex];(0,g.fetchData)(n.id).then((function(e){t.captionsUnits=e,t.showCaptions()})).catch((function(e){t.log("fetch subtitle error",e),t.setCaptions(0)}))}else this.hideCaptions()},t.prototype.setCaptionsList=function(e){this.captionsList=e,0!==this.captionsList.length&&(this.captionsList.unshift({id:"Off",label:"Off",lang:"Off"}),this.emit(h.PLAYER_EVENTS.captionsListChange,{captionsList:this.captionsList}),this.emit(h.PLAYER_EVENTS.allCaptionsAvailable,{captionsList:this.captionsList}))},t.prototype.setCaptionsStyles=function(e){this.captionsStyles=e,this.captionsStylesString=(0,g.convertStyleObjectToString)(e.font),this.emit(h.PLAYER_EVENTS.captionsStylesChange,{captionsStyles:e})},t.prototype.getCaptionsList=function(){return this.captionsList},t.prototype.getMute=function(){return this.videoElement.muted},t.prototype.setMute=function(e){var t;this.setVideoElementMute(e),this.emit(h.PLAYER_EVENTS.mute,{mute:e}),(0,w.set)(h.PLAYER_STORAGE_MUTE,e),null===(t=this.adClient)||void 0===t||t.setVolume(e?0:this.getVolume())},t.prototype.getVolume=function(){return Math.floor(100*this.videoElement.volume)},t.prototype.setVolume=function(e){this.setVideoElementVolume(e),this.emit(h.PLAYER_EVENTS.volume,{volume:e}),this.setMute(!1),(0,w.set)(h.PLAYER_STORAGE_VOLUME,e),this.isAd()&&this.adClient&&this.adClient.setVolume(e)},t.prototype.setQuality=function(e){var t=this;if(this.player)if(this.emit(h.PLAYER_EVENTS.qualityChange,{qualityIndex:e}),0!==e){var n=this.player.levels.findIndex((function(n){return n.bitrate===t.qualityLevelList[e].bitrate}));this.player.nextLevel=n}else this.player.nextLevel=-1},t.prototype.setPrerollUrl=function(e){this.config.prerollUrl=e},t.prototype.isAd=function(){return this.isPlayingAd},t.prototype.updateCaptionsWindowStyle=function(e){var t,n,i,o;e&&this.captionsElement.style.background?this.captionsElement.style.background="":(null===(t=this.captionsStyles)||void 0===t?void 0:t.type)===f.Platform.web&&(this.captionsElement.style.background=null!==(o=null===(i=null===(n=this.captionsStyles)||void 0===n?void 0:n.window)||void 0===i?void 0:i.background)&&void 0!==o?o:"")},t.prototype.isSupported=function(){var e=(0,p.default)().browser,n=e.name,i=e.version;if(i&&i.split(".").length){var o=Number(i.split(".")[0]);if("Edge"===n&&18===o)return!0}return t.Hls.isSupported()},t.prototype.init=function(){var e=this.config,t=e.poster,n=e.mute,i=e.captionsStyles;t&&(this.videoElement.poster=t),(void 0===n?(0,w.get)(h.PLAYER_STORAGE_MUTE):n)&&this.setVideoElementMute(!0);var o=(0,w.get)(h.PLAYER_STORAGE_VOLUME);null!==o&&this.setVideoElementVolume(o),i&&this.setCaptionsStyles(i)},t.prototype.startResizeCheck=function(){this.stopResizeCheck(),this.rafId=(0,A.requestAnimationFrame)(this.checkResize)},t.prototype.stopResizeCheck=function(){(0,A.cancelAnimationFrame)(this.rafId)},t.prototype.checkResize=function(){var e=this.videoElement.videoWidth,t=this.videoElement.videoHeight;if(this.log("resize check",e,t),e&&t)return this.log("resize detected",e,t),void this.notifyPlayerReady();this.startResizeCheck()},t.prototype.handleUnsupport=function(){var e=this,n=document.getElementById(t.WARNING_COMPONENT_ID);n.textContent="\n      Oops, your web browser is no longer supported.\n      Please upgrade to a modern, fully supported browser\n    ",n.style.display="block",setTimeout((function(){e.isReadyEmitted=!0,e.emit(h.PLAYER_EVENTS.ready),e.emit(h.PLAYER_EVENTS.error,new Error("browser is no longer supported"))}),0)},t.prototype.setupFairPlay=function(){return s(this,void 0,void 0,(function(){var e,t,n,i,o,r;return l(this,(function(a){switch(a.label){case 0:return this.log("setup FairPlay"),e=this.config,t=e.drmKeySystem,n=e.licenseUrl,i=e.mediaUrl,o=e.serverCertificateUrl,[4,fetch(o)];case 1:return[4,a.sent().arrayBuffer()];case 2:return r=a.sent(),this.detachFairPlayEvents=(0,C.setup)(this.videoElement,t,n,new Uint8Array(r),this.onError),this.videoElement.src=i,[2]}}))}))},t.prototype.setVideoElementMute=function(e){this.videoElement.muted=e},t.prototype.setVideoElementVolume=function(e){this.videoElement.volume=e/100},t.prototype.setState=function(e){this.state=e},t.prototype.startBuffering=function(){this.isBuffering||(this.isBuffering=!0,this.emit(h.PLAYER_EVENTS.bufferStart))},t.prototype.stopBuffering=function(){this.isBuffering&&(this.isBuffering=!1,this.emit(h.PLAYER_EVENTS.bufferEnd))},t.prototype.showCaptions=function(){this.captionsElement.style.display="block"},t.prototype.hideCaptions=function(){this.captionsElement.style.display="none"},t.prototype.updateCaptions=function(){var e,t,n,i=this;if(0!==this.captionsUnits.length){var o=(0,g.locate)(this.getPosition(),this.captionsUnits),r=o?o.text.map((function(e){return'<span style="'+i.captionsStylesString+'">'+e+"</span>"})).join("<br />"):"";r!==this.previousCaptionsText&&(this.captionsElement.innerHTML=r,this.previousCaptionsText=r,(null===(e=this.captionsStyles)||void 0===e?void 0:e.type)===f.Platform.web&&(null===(n=null===(t=this.captionsStyles)||void 0===t?void 0:t.window)||void 0===n?void 0:n.background)&&this.updateCaptionsWindowStyle(""===r))}},t.prototype.notifyPlayerReady=function(){var e=this;if(this.log("notifyPlayerReady"),!this.isReadyEmitted&&(this.isReadyEmitted=!0,this.stopResizeCheck(),this.emit(h.PLAYER_EVENTS.ready),this.config.subtitles&&(this.setCaptionsList(this.config.subtitles.map((function(e){return{id:e.url,label:e.lang,lang:e.lang}}))),this.config.defaultCaptions))){var t=this.getCaptionsList().findIndex((function(t){return t.label===e.config.defaultCaptions}));this.setCaptions(t)}},t.prototype.onLoadedMetaData=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.log("onLoadedMetaData",e),this.notifyPlayerReady()},t.prototype.onCanPlay=function(){this.log("onCanPlay"),this.stopBuffering()},t.prototype.onPlaying=function(){this.log("onPlaying"),this.getState()!==f.State.playing&&this.onPlay(),this.setState(f.State.playing),this.emit(this.isAd()?h.PLAYER_EVENTS.adPlay:h.PLAYER_EVENTS.play)},t.prototype.onPlay=function(){this.log("onPlay",this.isAd()),this.videoElement.poster="",this.isPlaybackStarted=!0,this.stopBuffering()},t.prototype.onPause=function(){this.log("onPause",this.isAd()),this.stopBuffering(),this.setState(f.State.paused),this.emit(this.isAd()?h.PLAYER_EVENTS.adPause:h.PLAYER_EVENTS.pause)},t.prototype.onSeeked=function(){this.contentPosition=this.videoElement.currentTime,this.log("onSeeked",this.contentPosition),this.emit(h.PLAYER_EVENTS.seeked,{offset:this.getPosition()})},t.prototype.onTimeupdate=function(){var e=this.videoElement.currentTime;this.stopBuffering(),this.isAd()||(this.contentPosition=e,this.emit(h.PLAYER_EVENTS.time,{position:this.getPosition(),duration:this.getDuration()}),this.updateCaptions())},t.prototype.onWaiting=function(){if(this.log("onWaiting"),this.startBuffering(),0===this.videoElement.currentTime&&this.videoElement.buffered.length){var e=this.videoElement.buffered.start(0);e>0&&e<1&&this.seek(Math.ceil(10*e)/10)}},t.prototype.onEnded=function(){this.log("onEnded"),this.stopBuffering(),this.setState(f.State.completed),this.emit(h.PLAYER_EVENTS.complete)},t.prototype.onError=function(e){this.log("onError",e),this.emit(h.PLAYER_EVENTS.error,e)},t.prototype.onDurationChange=function(){var e=this.videoElement.duration;this.contentDuration=e,this.log("onDurationChange",e)},t.prototype.setupAdClient=function(){this.adClient||(this.adClient=new y.default({container:this.adContainerElement,videoElement:this.videoElement,reuseVideoElement:this.shouldReuseVideoElement(),debug:this.config.debug,volume:this.getMute()?0:this.getVolume(),clickThroughEnabled:!0,performanceCollectorEnabled:this.config.performanceCollectorEnabled,isPreroll:this.isPlayingPreroll}),this.attachAdClientEvents())},t.prototype.destroyHls=function(){var e,t;this.player&&(null===(e=this.player)||void 0===e?void 0:e.destroy)&&(window.clearTimeout(this.mediaAttachTimer),null===(t=this.player)||void 0===t||t.destroy(),delete this.player,this.videoElement.setMediaKeys(null))},t.prototype.attachAdClientEvents=function(){var e=this,t=this.adClient,n=function(){e.showCaptions(),null==t||t.remove(),delete e.adClient,e.resume()};t&&(t.on(h.PLAYER_EVENTS.adStart,(function(t){e.log("Adapter adStart"),e.isPlayingAd=!0,e.emit(h.PLAYER_EVENTS.adStart,t),e.hideCaptions()})),t.on(h.PLAYER_EVENTS.adPlay,(function(){e.log("Adapter adPlay"),e.emit(h.PLAYER_EVENTS.adPlay)})),t.on(h.PLAYER_EVENTS.adPlaying,(function(){e.log("Adapter adPlaying"),e.setState(f.State.playing),e.emit(h.PLAYER_EVENTS.adPlaying)})),t.on(h.PLAYER_EVENTS.adPause,(function(){e.log("Adapter adPause"),e.setState(f.State.paused),e.emit(h.PLAYER_EVENTS.adPause)})),t.on(h.PLAYER_EVENTS.adComplete,(function(t){e.log("Adapter adComplete"),e.isPlayingAd=!1,e.emit(h.PLAYER_EVENTS.adComplete,t)})),t.on(h.PLAYER_EVENTS.adPodComplete,(function(){e.log("Adapter adPodComplete"),e.isPlayingAd=!1,e.isPlayingPreroll=!1,e.emit(h.PLAYER_EVENTS.adPodComplete),n()})),t.on(h.PLAYER_EVENTS.adPodEmpty,(function(){e.log("Adapter adPodEmpty"),e.isPlayingAd=!1,e.emit(h.PLAYER_EVENTS.adPodEmpty),n()})),t.on(h.PLAYER_EVENTS.adTime,(function(t){e.log("Adapter adTime"),e.emit(h.PLAYER_EVENTS.adTime,t)})),t.on(h.PLAYER_EVENTS.adError,(function(t,n){e.log("Adapter adError",t),e.emit(h.PLAYER_EVENTS.adError,t,n)})),t.on(h.PLAYER_EVENTS.adClick,(function(t){e.log("Adapter adClick",t),e.emit(h.PLAYER_EVENTS.adClick,t)})),t.on(h.PLAYER_EVENTS.adBeaconFail,(function(t,n){e.emit(h.PLAYER_EVENTS.adBeaconFail,t,n)})))},t.prototype.attachVideoElementEvents=function(){var e=this,t={durationchange:this.onDurationChange,loadedmetadata:this.onLoadedMetaData,canplay:this.onCanPlay,playing:this.onPlaying,play:this.onPlay,pause:this.onPause,seeked:this.onSeeked,timeupdate:this.onTimeupdate,waiting:this.onWaiting,ended:this.onEnded,error:this.onError,enterpictureinpicture:function(){e.isPictureInPictureMode=!0,e.emit(h.PLAYER_EVENTS.enterPictureInPicture)},leavepictureinpicture:function(){e.isPictureInPictureMode=!1,e.emit(h.PLAYER_EVENTS.leavePictureInPicture)}};return Object.keys(t).forEach((function(n){e.videoElement.addEventListener(n,t[n])})),function(){Object.keys(t).forEach((function(n){e.videoElement.removeEventListener(n,t[n])}))}},t.prototype.attachPlayerEvents=function(){var e=this,n=this.contentPosition;if(n>0&&this.once(h.PLAYER_EVENTS.time,(function(){e.seek(n)})),this.player){var i=t.Hls,o=this.config.mediaUrl;this.player.on(i.Events.MEDIA_ATTACHED,(function(t,n){e.log("Hls.Events.MEDIA_ATTACHED",n),e.loadSource(),window.clearTimeout(e.mediaAttachTimer)})),this.player.on(i.Events.MANIFEST_LOADED,(function(){e.manifestLoadingRetry=0})),this.player.on(i.Events.MANIFEST_PARSED,(function(t,n){e.log("Hls.Events.MANIFEST_PARSED",n),e.qualityLevelList=c([{bitrate:0,width:0,height:0,label:"Auto"}],n.levels.map((function(e){return{bitrate:e.bitrate,width:e.width,height:e.height,label:(0,R.getQualityLevelLabel)(e)}})).sort((function(e,t){return t.bitrate-e.bitrate})),!0),e.emit(h.PLAYER_EVENTS.qualityListChange,{qualityList:e.qualityLevelList}),(e.config.autoStart||e.isPlaybackStarted)&&e.play()}));var r=-1;this.player.on(i.Events.FRAG_CHANGED,(function(t,n){var i,o=n.frag.level;if(r!==o){r=o;var a=null===(i=e.player)||void 0===i?void 0:i.levels[o],s=e.qualityLevelList.findIndex((function(e){return e.bitrate===(null==a?void 0:a.bitrate)}));e.log("Hls.Events.FRAG_CHANGED visualQualityChange",n),e.emit(h.PLAYER_EVENTS.visualQualityChange,{qualityIndex:s})}})),this.player.on(i.Events.BUFFER_APPENDED,(function(){var t=e.videoElement.buffered;if(0!==t.length){var n=Math.max(Math.min(t.end(t.length-1)/e.getDuration(),1),0);e.emit(h.PLAYER_EVENTS.bufferChange,{bufferPercent:100*n,position:e.getPosition(),duration:e.getDuration()})}})),this.player.on(i.Events.FRAG_BUFFERED,(function(){e.stopBuffering()})),this.player.on(i.Events.ERROR,(function(t,n){var r,a,s=n.type,l=n.details,c=n.fatal,u=n.reason,d=n.err,p=i.ErrorDetails;if(l===p.BUFFER_STALLED_ERROR&&e.startBuffering(),c)switch([p.KEY_SYSTEM_INVALID_HDCP_VERSION,p.KEY_SYSTEM_LICENSE_INVALID_STATUS].includes(l)?e.emit(h.PLAYER_EVENTS.error,{type:h.PLAYER_ERROR_TYPE.DRM,message:h.PLAYER_ERROR_DETAILS.HDCP_INCOMPLIANCE,details:l,fatal:c,source:"Hlsjs"},o):e.emit(h.PLAYER_EVENTS.error,{type:(0,b.convertHlsErrorType)(s,i),message:l,details:l,fatal:c,source:"Hlsjs",reason:u,err:d},o),s){case i.ErrorTypes.NETWORK_ERROR:l===i.ErrorDetails.MANIFEST_LOAD_TIMEOUT?e.manifestLoadingRetry<e.manifestLoadingMaxRetry?(e.manifestLoadingRetry++,e.loadSource()):e.destroyHls():null===(r=e.player)||void 0===r||r.startLoad();break;case i.ErrorTypes.MEDIA_ERROR:null===(a=e.player)||void 0===a||a.recoverMediaError();break;default:e.destroyHls()}}))}else this.shouldUseHls||(this.config.autoStart||this.isPlaybackStarted)&&this.play()},t.VIDEO_COMPONENT_ID="videoPlayerComponent",t.CAPTIONS_COMPONENT_ID="captionsComponent",t.AD_COMPONENT_ID="adComponent",t.WARNING_COMPONENT_ID="warningComponent",t.htmlString='\n    <div id="'+h.PLAYER_CONTAINER_IDS.hls+'">\n      <video id="'+t.VIDEO_COMPONENT_ID+'"></video>\n      <div id="'+t.CAPTIONS_COMPONENT_ID+'"></div>\n      <div id="'+t.AD_COMPONENT_ID+'"></div>\n      <div id="'+t.WARNING_COMPONENT_ID+'" style="display: none"></div>\n    </div>\n  ',t.loadScript=function(e){var n;if(void 0===e&&(e={}),null===(n=e.extraOptions)||void 0===n?void 0:n.externalHlsResolver){var i=e.extraOptions.externalHlsResolver.then((function(e){t.Hls=e}));return Promise.all([i])}return Promise.all([Promise.reject("extraOptions.externalHlsResolver must have value!")])},a([m.boundMethod],t.prototype,"checkResize",null),a([m.boundMethod],t.prototype,"onLoadedMetaData",null),a([m.boundMethod],t.prototype,"onCanPlay",null),a([m.boundMethod],t.prototype,"onPlaying",null),a([m.boundMethod],t.prototype,"onPlay",null),a([m.boundMethod],t.prototype,"onPause",null),a([m.boundMethod],t.prototype,"onSeeked",null),a([m.boundMethod],t.prototype,"onTimeupdate",null),a([m.boundMethod],t.prototype,"onWaiting",null),a([m.boundMethod],t.prototype,"onEnded",null),a([m.boundMethod],t.prototype,"onError",null),a([m.boundMethod],t.prototype,"onDurationChange",null),t}(P.PlayerEventEmitter);t.default=T},53060:function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(88572),l=n(88578),c=n(75173),u=n(18666),d=n(83014),p=n(39873),m=n(18036),h=n(92038),v=function(e){function t(t){var n=e.call(this)||this;if(n.state=c.AdClientState.idle,n.isBuffering=!1,t.reuseVideoElement&&!t.videoElement)throw new Error("`videoElement` must be specified if `reuseVideoElement` is true.");return n.options=t,n.log=t.debug?(0,h.debug)("AdPlayer"):function(){},n.isPreroll=t.isPreroll,n}return o(t,e),t.prototype.playAdResponse=function(e){this.log("playAdResponse action",e),this.adList=e,this.adSequence=0,this.adCount=e.length,0!==this.adCount?(this.setup(),this.playNextAd()):this.emit(l.PLAYER_EVENTS.adPodEmpty)},t.prototype.play=function(){var e=this;Promise.resolve().then((function(){var t;return null===(t=e.videoElement)||void 0===t?void 0:t.play()})).catch(this.onError)},t.prototype.pause=function(){var e;null===(e=this.videoElement)||void 0===e||e.pause()},t.prototype.getState=function(){return this.state},t.prototype.getAdUrl=function(){return this.getCurrentAd().video},t.prototype.remove=function(){var e,t;this.state!==c.AdClientState.destroyed&&(this.setState(c.AdClientState.destroyed),null===(e=this.detachEvents)||void 0===e||e.call(this),null===(t=this.detachClickThrough)||void 0===t||t.call(this),!this.options.reuseVideoElement&&this.videoElement&&((0,d.removeVideoElement)(this.videoElement),this.videoElement=null))},t.prototype.setState=function(e){this.state=e},t.prototype.setup=function(){var e=this.options,t=e.container,n=e.reuseVideoElement,i=e.videoElement,o=e.volume;this.container=t,n?this.videoElement=i:(this.videoElement=document.createElement("video"),this.videoElement.style.zIndex=""+Number.POSITIVE_INFINITY,t.appendChild(this.videoElement)),this.videoElement.type="video/mp4",this.detachEvents=this.attachEvents(),this.setState(c.AdClientState.inited),void 0!==o&&this.setVolume(o)},t.prototype.attachEvents=function(){for(var e=this,t={loadeddata:this.onLoadeddata,loadstart:this.onLoadStart,waiting:this.onWaiting,canplay:this.onCanPlay,timeupdate:this.onTimeupdate,play:this.onPlay,playing:this.onPlaying,pause:this.onPause,ended:this.onEnded,error:this.onError,enterpictureinpicture:function(){document.exitPictureInPicture()}},n=0,i=Object.entries(t);n<i.length;n++){var o=i[n],r=o[0],a=o[1];this.videoElement.addEventListener(r,a)}return function(){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=i[n],r=o[0],a=o[1];e.videoElement.removeEventListener(r,a)}}},t.prototype.attachClickThrough=function(){var e=this,t=this.getCurrentAd(),n=t.clickthrough,i=t.clicktracking,o=void 0===i?[]:i,r=function(){e.emit(l.PLAYER_EVENTS.adClick,n),(0,h.sendBeaconRequest)(o),window.open(n)};this.container.addEventListener("click",r);var a=this.container.style.cursor;return this.container.style.cursor="pointer",function(){e.container.removeEventListener("click",r),e.container.style.cursor=a||"initial"}},t.prototype.playNextAd=function(){var e,t,n=this;this.adSequence++,null===(e=this.performanceCollector)||void 0===e||e.destroy();var i=this.getCurrentAd();i?(this.adTrackFn=(0,u.getAdTrackFn)(i,(function(e){n.emit(l.PLAYER_EVENTS.adBeaconFail,e,{id:n.getCurrentAd().id})})),this.options.performanceCollectorEnabled&&(this.performanceCollector=new p.PerformanceCollector({debug:this.options.debug,reporter:function(e){return n.emit(l.PLAYER_EVENTS.startupPerformance,{isAd:!0,metrics:e})}}),this.performanceCollector.setVideoElement(this.videoElement)),this.videoElement.src=i.video,this.options.clickThroughEnabled&&i.clickthrough&&(null===(t=i.clicktracking)||void 0===t?void 0:t.length)&&(this.detachClickThrough=this.attachClickThrough())):this.emit(l.PLAYER_EVENTS.adPodComplete)},t.prototype.getCurrentAd=function(){return this.adList[this.adSequence-1]},t.prototype.startBuffering=function(){this.isBuffering||(this.isBuffering=!0,this.emit(l.PLAYER_EVENTS.adBufferStart))},t.prototype.stopBuffering=function(){this.isBuffering&&(this.isBuffering=!1,this.emit(l.PLAYER_EVENTS.adBufferEnd))},t.prototype.onLoadeddata=function(){this.log("onLoadeddata"),this.emit(l.PLAYER_EVENTS.adStart,{ad:this.getCurrentAd(),adSequence:this.adSequence,adsCount:this.adCount,adPosition:0}),this.play()},t.prototype.onLoadStart=function(){this.log("onLoadStart",this.state),this.setState(c.AdClientState.idle),this.startBuffering()},t.prototype.onWaiting=function(){this.log("onWaiting",this.state),this.getState()!==c.AdClientState.completed&&this.startBuffering()},t.prototype.onCanPlay=function(){this.log("onCanPlay",this.state),this.stopBuffering()},t.prototype.onTimeupdate=function(){var e,t=this.videoElement.currentTime;this.log("onTimeupdate",t),this.stopBuffering(),null===(e=this.adTrackFn)||void 0===e||e.call(this,t),this.emit(l.PLAYER_EVENTS.adTime,{position:t,duration:this.videoElement.duration||0,sequence:this.adSequence,podcount:this.adCount})},t.prototype.setVolume=function(e){this.videoElement.volume=e/100},t.prototype.onPlay=function(){this.log("onPlay"),this.stopBuffering(),this.emit(l.PLAYER_EVENTS.adPlay)},t.prototype.onPlaying=function(){this.log("onPlaying"),this.setState(c.AdClientState.playing),this.emit(l.PLAYER_EVENTS.adPlaying)},t.prototype.onPause=function(){this.stopBuffering(),this.log("onPause"),this.setState(c.AdClientState.paused),this.emit(l.PLAYER_EVENTS.adPause)},t.prototype.onEnded=function(){var e,t;this.log("onEnded"),this.stopBuffering(),this.setState(c.AdClientState.completed),null===(e=this.adTrackFn)||void 0===e||e.call(this,Number.POSITIVE_INFINITY),this.emit(l.PLAYER_EVENTS.adComplete,{ad:this.getCurrentAd(),adsCount:this.adCount,adSequence:this.adSequence,adPosition:this.videoElement.currentTime}),null===(t=this.detachClickThrough)||void 0===t||t.call(this),this.playNextAd()},t.prototype.onError=function(e){var t,n,i=this.videoElement.error,o=!e||e instanceof Event?null!=i?i:{message:"null",code:"null"}:e,a=this.getCurrentAd();this.log("onError",o),this.setState(c.AdClientState.errored),this.trackVASTError(o),null===(t=this.detachClickThrough)||void 0===t||t.call(this);var s={ad:a,adSequence:this.adSequence,adsCount:this.adCount,adPosition:this.videoElement.currentTime,isPreroll:this.isPreroll,seamless:!1};this.emit(l.PLAYER_EVENTS.adError,o,s),null===(n=this.detachClickThrough)||void 0===n||n.call(this),this.emit(l.PLAYER_EVENTS.adDiscontinue,r(r({},s),{reason:l.PLAYER_EVENTS.adError})),this.playNextAd()},t.prototype.trackVASTError=function(e){var t=this;if(e&&!(e instanceof Error)){var n=this.getCurrentAd(),i="";switch(e.code){case 1:case 2:i=l.VAST_ERROR_CODE.MEDIA_FILE_TIMEOUT;break;case 3:i=l.VAST_ERROR_CODE.MEDIA_FORMAT_NOT_SUPPORT;break;case 4:i=l.VAST_ERROR_CODE.MEDIA_DECODE_ERROR;break;default:i=l.VAST_ERROR_CODE.MEDIA_PLAYER_ERROR}(0,u.sendVASTErrorBeacon)(n,i,(function(e){t.emit(l.PLAYER_EVENTS.adBeaconFail,e,{id:n.id})}))}},a([s.boundMethod],t.prototype,"onLoadeddata",null),a([s.boundMethod],t.prototype,"onLoadStart",null),a([s.boundMethod],t.prototype,"onWaiting",null),a([s.boundMethod],t.prototype,"onCanPlay",null),a([s.boundMethod],t.prototype,"onTimeupdate",null),a([s.boundMethod],t.prototype,"onPlay",null),a([s.boundMethod],t.prototype,"onPlaying",null),a([s.boundMethod],t.prototype,"onPause",null),a([s.boundMethod],t.prototype,"onEnded",null),a([s.boundMethod],t.prototype,"onError",null),a([s.boundMethod],t.prototype,"trackVASTError",null),t}(m.PlayerEventEmitter);t.default=v},18666:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.sendVASTErrorBeacon=t.getAdTrackFn=t.buildAdQueue=t.fetchJsonAds=void 0;var i=n(92038);function o(e){return void 0===e&&(e={}),(e.items||[]).map((function(e){return{id:e.ad_id,video:e.media.streamurl,duration:parseInt(e.media.duration,10),imptracking:e.imptracking||[],trackingevents:e.media.trackingevents,clickthrough:e.clickthrough,clicktracking:e.clicktracking||[],skiptracking:e.skiptracking||[],error:e.error||""}}))}t.fetchJsonAds=function(e){return fetch(e,{headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return o(e)}))},t.buildAdQueue=o,t.getAdTrackFn=function(e,t){var n=[0,25,50,75,100],o={};return function(r){var a=-1;return n.some((function(n){if(o[n])return!1;if(r<Math.ceil(e.duration*n/100))return!1;o[n]=!0,0===n&&(0,i.sendBeaconRequest)(e.imptracking,t);var s=e.trackingevents["tracking_"+n];return s&&(0,i.sendBeaconRequest)(s,t),a=4*n/100,!0})),a}};t.sendVASTErrorBeacon=function(e,t,n){e.error&&(0,i.sendBeaconRequest)([e.error.replace("[ERRORCODE]",t)],n)}},13858:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.parseSrt=t.locate=t.convertStyleObjectToString=t.fetchData=t.CACHE_CAPACITY=void 0,t.CACHE_CAPACITY=5;var n=[],i={};t.fetchData=function(e){if(!i[e]&&(i[e]=fetch(e).then((function(e){var n=e.headers.get("content-type")||"";return e.text().then((function(e){return n.includes("binary/octet-stream")?(0,t.parseSrt)(e):JSON.parse(e)}))})),n.push(e),n.length>t.CACHE_CAPACITY)){var o=n.shift();delete i[o]}return i[e]};t.convertStyleObjectToString=function(e){var t=/([A-Z])/g;return Object.keys(e).map((function(n){var i=e[n];return n.replace(t,"-$1").toLowerCase()+":"+i+";"})).join("")};t.locate=function(e,t){return t.find((function(t){return 1e3*e>=t.start&&1e3*e<=t.end}))};t.parseSrt=function(e){var t=e.trim().split(/\r\n|\n|\r/),n=[],i={text:[]},o=function(e){return-1!==e.indexOf(" --\x3e ")},r=function(e,n){return/^\d+$/.test(e)&&o(t[n+1])},a=function(e){var t=e.split(":"),n=t[2].split(",");return 1e3*(60*(60*parseInt(t[0],10)+parseInt(t[1],10))+parseInt(n[0],10))+parseInt(n[1],10)};return t.push(""),t.forEach((function(e,s){if(r(e,s))i.index=parseInt(e,10);else if(o(e)){var l=e.split(" --\x3e ");i.start=a(l[0]),i.end=a(l[1])}else!function(e,n){return""===e&&(r(t[n+1],n+1)||n===t.length-1)}(e,s)?i.text.push(e):(n.push(i),i={text:[]})})),n}},83014:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getComputedValue=t.removeVideoElement=t.cancelAnimationFrame=t.requestAnimationFrame=void 0;t.requestAnimationFrame=function(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.setTimeout(e,17)};t.cancelAnimationFrame=function(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.clearTimeout(e)};t.removeVideoElement=function(e){var t;e.pause(),e.removeAttribute("src"),e.load(),null===(t=e.parentElement)||void 0===t||t.removeChild(e)},t.getComputedValue=function(e,t){var n="string"==typeof e?document.querySelector(e):e;return n?window.getComputedStyle(n).getPropertyValue(""+t):""}},70713:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;var i=n(88578),o=(0,n(92038).debug)("FairPlay utility");function r(e){var t,n=(t=new Uint16Array(e.buffer),String.fromCharCode.apply(null,t));if(n.startsWith("L\0skd://"))return n=n.substr(8);var i=document.createElement("a");return i.href=n,i.hostname}function a(e,t,n){var i=0,o=function(e){for(var t=new ArrayBuffer(2*e.length),n=new Uint16Array(t),i=e.length,o=0;o<i;o++)n[o]=e.charCodeAt(o);return n}(t),r=new ArrayBuffer(e.byteLength+4+o.byteLength+4+n.byteLength),a=new DataView(r);new Uint8Array(r,i,e.byteLength).set(e),i+=e.byteLength,a.setUint32(i,o.byteLength,!0),i+=4;var s=new Uint16Array(r,i,o.length);return s.set(o),i+=s.byteLength,a.setUint32(i,n.byteLength,!0),i+=4,new Uint8Array(r,i,n.byteLength).set(n),new Uint8Array(r,0,r.byteLength)}t.setup=function(e,t,n,s,l){var c,u;function d(e){var n=e.target,o=e.initData,d=a(o,u=r(o),s);n.webkitKeys||n.webkitSetMediaKeys(new window.WebKitMediaKeys(t)),n.webkitKeys?(c=n.webkitKeys.createSession("video/mp4",d))?(c.addEventListener("webkitkeymessage",p),c.addEventListener("webkitkeyerror",v)):l({type:i.PLAYER_ERROR_TYPE.DRM,details:i.PLAYER_ERROR_DETAILS.KEY_SYSTEM_NO_SESSION,fatal:!0}):l({type:i.PLAYER_ERROR_TYPE.DRM,details:i.PLAYER_ERROR_DETAILS.KEY_SYSTEM_NO_KEYS,fatal:!0})}function p(e){var t=e.message,i=new XMLHttpRequest;i.responseType="text",i.addEventListener("load",m,!1),i.addEventListener("error",h,!1);var o="spc="+function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",i=0;i<e.length;){var o=e[i++],r=i<e.length?e[i++]:Number.NaN,a=i<e.length?e[i++]:Number.NaN,s=o>>2,l=(3&o)<<4|r>>4,c=(15&r)<<2|a>>6,u=63&a;isNaN(r)?c=u=64:isNaN(a)&&(u=64),n+=t.charAt(s)+t.charAt(l)+t.charAt(c)+t.charAt(u)}return n}(t)+"&assetId="+encodeURIComponent(u);i.open("POST",n,!0),i.setRequestHeader("Content-Type","text/html; charset=utf-8"),i.send(o)}function m(e){var t=e.target;if(t.status>=400)return o("licenseRequestLoaded wrong status",t),void l({type:i.PLAYER_ERROR_TYPE.DRM,details:i.PLAYER_ERROR_DETAILS.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var n=t.responseText.trim();"<ckc>"===n.substr(0,5)&&"</ckc>"===n.substr(-6)&&(n=n.slice(5,-6)),c.update(function(e){for(var t=window.atob(e),n=t.length,i=new Uint8Array(new ArrayBuffer(n)),o=0;o<n;o++)i[o]=t.charCodeAt(o);return i}(n))}function h(e){o("licenseRequestFailed",e),l({type:i.PLAYER_ERROR_TYPE.DRM,details:i.PLAYER_ERROR_DETAILS.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}function v(e){o("onkeyerror",e),l({type:i.PLAYER_ERROR_TYPE.DRM,details:i.PLAYER_ERROR_DETAILS.KEY_SYSTEM_LICENSE_INVALID_STATUS,fatal:!0})}return e.addEventListener("webkitneedkey",d,!1),function(){e.removeEventListener("webkitneedkey",d)}}},72415:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.set=t.get=void 0;t.get=function(e){var t=localStorage.getItem(e);return null===t?t:JSON.parse(t)};t.set=function(e,t){localStorage.setItem(e,JSON.stringify(t))}},97212:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(42238),o=new i.UAParser(void 0,{device:[[/(playstation\s5)/i],[i.UAParser.DEVICE.MODEL,[i.UAParser.DEVICE.VENDOR,"Sony"],[i.UAParser.DEVICE.TYPE,i.UAParser.DEVICE.CONSOLE]]],os:[[/(playstation)\s(5)/i],[i.UAParser.OS.NAME,i.UAParser.OS.VERSION]]});t.default=function(e){if(!e)try{e=window.navigator.userAgent}catch(t){e=""}return o.setUA(e).getResult()}},11909:function(e,t,n){var i=n(67294),o=["mousedown","touchstart"];t.Z=function(e,t){(0,i.useEffect)((function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t(n)};return o.forEach((function(e){document.addEventListener(e,n)})),function(){o.forEach((function(e){document.removeEventListener(e,n)}))}}),[e,t])}}}]);